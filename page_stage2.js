"use strict";
(self.webpackJsonp = self.webpackJsonp || []).push([
  [169],
  {
    324: function (t, e, i) {
      var r = i(1);
      i(13),
        (e.a = (t) => {
          var e = t.className;
          return (0, r.f)(
            32,
            "svg",
            e,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d: "M5.218 8.924a13.465 13.465 0 005.858 5.858l1.955-1.955c.24-.24.596-.32.907-.214a10.14 10.14 0 003.173.507c.489 0 .889.4.889.889v3.102c0 .489-.4.889-.889.889C8.764 18 2 11.236 2 2.889 2 2.4 2.4 2 2.889 2H6c.489 0 .889.4.889.889 0 1.111.178 2.178.507 3.173a.892.892 0 01-.223.907L5.218 8.924z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d: "M10.905 8.846a.53.53 0 01-.75-.002.535.535 0 01-.002-.752l4.928-5.021h-2.876a.535.535 0 010-1.071h4.297c.275 0 .498.223.498.498V6.9a.527.527 0 11-1.054 0V3.83l-5.04 5.016z",
              }),
            ],
            4,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    362: function (t, e, i) {
      var r = i(1);
      i(13),
        (e.a = (t) => {
          var e = t.className;
          return (0, r.f)(
            32,
            "svg",
            e,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d: "M5.218 8.924a13.465 13.465 0 005.858 5.858l1.955-1.955c.24-.24.596-.32.907-.214a10.14 10.14 0 003.173.507c.489 0 .889.4.889.889v3.102c0 .489-.4.889-.889.889C8.764 18 2 11.236 2 2.889 2 2.4 2.4 2 2.889 2H6c.489 0 .889.4.889.889 0 1.111.178 2.178.507 3.173a.892.892 0 01-.223.907L5.218 8.924z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d: "M16.095 2.154a.53.53 0 01.75.002.535.535 0 01.002.752L11.919 7.93h2.876a.535.535 0 010 1.071h-4.297A.498.498 0 0110 8.502V4.1a.527.527 0 111.054 0v3.07l5.04-5.016z",
              }),
            ],
            4,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    524: function (t, e, i) {
      i.d(e, "a", function () {
        return n;
      });
      var r = i(1),
        s = (i(13), i(183));
      function n() {
        return (0, r.f)(1, "div", "SG", (0, r.b)(2, s.a), 2);
      }
    },
    525: function (t, e, i) {
      i.d(e, "b", function () {
        return r;
      }),
        i.d(e, "a", function () {
          return s;
        });
      var r = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"],
        s = {
          OPEN_24H: "open_24h",
          SPECIFIC_HOURS: "specific_hours",
          APPOINTMENT_ONLY: "appointment_only",
          CLOSED: "closed",
        };
    },
    535: function (t, e, i) {
      var r = i(13),
        s = i(47),
        n = class extends r.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.caption !== t.caption || i.formatting !== t.formatting)
            );
          }
          render() {
            var t = this.props,
              e = t.caption,
              i = t.formatting;
            return (0, s.d)(e, i);
          }
        };
      e.a = n;
    },
    536: function (t, e, i) {
      function r(t, e) {
        t.openScreen("IDENTITY_VERIFICATION_SCREEN", { jid: e });
      }
      function s(t, e, i) {
        t.openScreen("IDENTITY_VERIFICATION_SCAN_CODE_SCREEN", {
          jid: e,
          identityVerificationData: i,
        });
      }
      i.d(e, "b", function () {
        return r;
      }),
        i.d(e, "a", function () {
          return s;
        });
    },
    537: function (t, e, i) {
      var r = i(1);
      i(13),
        (e.a = (t) => {
          var e = t.className;
          return (0, r.f)(
            32,
            "svg",
            e,
            (0, r.f)(32, "path", null, null, 1, {
              d: "M16.9 10.4h-4.5V2.2c0-.7-.5-1.2-1.2-1.2H8.9c-.7 0-1.2.5-1.2 1.2v8.2H3.2c-.9 0-1.3 1.1-.7 1.7l6.7 6.7c.5.5 1.2.5 1.7 0l6.7-6.7c.6-.7.2-1.7-.7-1.7z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    538: function (t, e, i) {
      i.d(e, "b", function () {
        return n;
      }),
        i.d(e, "a", function () {
          return l;
        });
      var r = i(31),
        s = new RegExp("^[a-zA-Z0-9_-]{11,50}$");
      function n(t) {
        return s.test(t);
      }
      var a = new RegExp("^/([a-zA-Z0-9_-]{11,50})$");
      function l(t) {
        var e = (0, r.i)(t);
        if (!e) return null;
        var i = e.hostname,
          s = e.searchParams,
          l = e.pathname,
          o = i.toLowerCase();
        if ("www.youtube.com" === o) {
          var u = s.get("v");
          return u && n(u) ? u : null;
        }
        if ("youtu.be" === o) {
          var h = l.match(a);
          if (h) return h[1];
        }
        return null;
      }
    },
    555: function (t, e, i) {
      var r = i(1);
      i(13),
        (e.a = (t) => {
          var e = t.className;
          return (0, r.f)(
            32,
            "svg",
            e,
            (0, r.f)(32, "path", null, null, 1, {
              d: "M8.926 20.115a1.72 1.72 0 001.716 1.716h6.863a1.72 1.72 0 001.716-1.716V9.819H8.926zm11.153-12.87h-3.003l-.858-.858h-4.29l-.857.858H8.068v1.716h12.011z",
            }),
            2,
            { viewBox: "0 0 28 28" }
          );
        });
    },
    589: function (t, e) {
      window.requestIdleCallback ||
        (window.requestIdleCallback = function (t) {
          var e =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            i = 1,
            r = e.timeout || i,
            s = performance.now();
          return setTimeout(function () {
            t({
              get didTimeout() {
                return !e.timeout && performance.now() - s - i > r;
              },
              timeRemaining: () => Math.max(0, i + (performance.now() - s)),
            });
          }, i);
        }),
        window.cancelIdleCallback ||
          (window.cancelIdleCallback = function (t) {
            clearTimeout(t);
          });
    },
    590: function (t, e, i) {
      i.r(e),
        i.d(e, "DATA", function () {
          return r;
        });
      var r = [
        65, 26, 32, 26, 73, 1, 11, 1, 5, 1, 6, 23, 24, 31, 32, 449, 451, 7, 21,
        2, 16, 5, 14, 1, 130, 4, 6, 2, 4, 4, 5, 1, 7, 1, 2, 3, 4, 1, 2, 20, 21,
        83, 84, 140, 147, 166, 167, 38, 40, 49, 55, -1, 46, -1, 2, -1, 3, -1, 3,
        -1, 2, -56, 64, -1, 3, -1, 2, -1, 14, -48, 82, -3, 4, -101, 116, -2, 9,
        -2, 12, -23, 24, -30, 57, -91, 102, -58, 67, -2, 6, -3, 4, -24, 28, -1,
        10, -1, 4, -1, 6, -43, 46, -119, 167, 55, 56, 1, 2, 4, 12, 4, 5, 3, 10,
        10, 12, 29, 30, 2, 3, 8, 10, 2, 4, 22, 23, 7, 8, 1, 4, 4, 7, 4, 10, 2,
        4, 2, 3, 1, 9, 1, 5, 2, 3, 3, 7, 12, 14, 7, 8, 2, 7, 1, 2, 6, 10, 2, 4,
        22, 23, 7, 8, 2, 3, 2, 3, 2, 6, 3, 27, 4, 5, 1, 8, 10, 12, 3, 4, 1, 13,
        1, 2, 9, 10, 3, 4, 22, 23, 7, 8, 2, 3, 5, 8, 4, 12, 1, 2, 2, 5, 1, 16,
        2, 6, 11, 19, 1, 9, 2, 3, 8, 10, 2, 4, 22, 23, 7, 8, 2, 3, 5, 8, 2, 3,
        1, 7, 2, 4, 2, 12, 1, 5, 2, 3, 3, 7, 18, 29, 1, 2, 6, 9, 3, 4, 4, 7, 2,
        3, 1, 2, 2, 5, 2, 5, 3, 6, 12, 16, 2, 3, 2, 5, 3, 4, 3, 6, 1, 7, 1, 15,
        13, 27, 3, 4, 8, 9, 3, 4, 23, 24, 16, 19, 1, 4, 4, 23, 3, 8, 2, 6, 10,
        17, 1, 8, 2, 3, 11, 12, 3, 4, 23, 24, 10, 11, 5, 8, 8, 9, 3, 4, 2, 11,
        2, 9, 1, 2, 2, 6, 10, 11, 2, 17, 11, 12, 3, 4, 41, 43, 4, 9, 3, 4, 3, 4,
        2, 6, 14, 18, 26, 28, 2, 3, 18, 21, 24, 25, 9, 10, 1, 3, 7, 15, 3, 9, 8,
        14, 10, 12, 3, 15, 48, 49, 2, 14, 7, 15, 13, 50, 2, 3, 1, 2, 5, 6, 24,
        25, 1, 2, 10, 11, 2, 11, 1, 3, 5, 6, 1, 10, 10, 12, 4, 36, 24, 26, 27,
        28, 1, 2, 1, 6, 10, 11, 36, 54, 1, 6, 1, 3, 5, 54, 8, 9, 6, 7, 13, 50,
        45, 49, 1, 7, 1, 3, 2, 4, 25, 27, 4, 7, 16, 20, 13, 14, 2, 4, 6, 7, 15,
        16, 40, 41, 1, 6, 1, 3, 377, 378, 4, 6, 7, 8, 1, 2, 4, 6, 41, 42, 4, 6,
        33, 34, 4, 6, 7, 8, 1, 2, 4, 6, 15, 16, 57, 58, 4, 6, 67, 72, 29, 32,
        16, 32, 86, 88, 6, 9, 639, 640, 26, 31, 89, 96, 13, 14, 4, 18, 18, 21,
        2, 11, 18, 32, 13, 14, 3, 18, 52, 54, 1, 8, 8, 9, 2, 13, 7, 8, 1, 4, 10,
        48, 10, 16, 89, 96, 5, 7, 34, 35, 1, 6, 70, 80, 31, 35, 4, 6, 3, 7, 2,
        3, 6, 19, 40, 42, 5, 16, 44, 48, 26, 32, 11, 48, 23, 25, 2, 5, 56, 57,
        1, 10, 1, 2, 2, 10, 6, 19, 10, 16, 10, 16, 14, 100, 48, 49, 1, 6, 1, 2,
        5, 6, 9, 13, 27, 36, 9, 14, 32, 36, 2, 4, 1, 4, 56, 57, 1, 3, 3, 4, 1,
        4, 2, 10, 48, 56, 2, 7, 15, 18, 60, 67, 43, 45, 11, 22, 1, 14, 1, 8, 4,
        5, 6, 7, 3, 5, 1, 6, 192, 256, 278, 280, 6, 8, 38, 40, 6, 8, 8, 9, 1, 2,
        1, 2, 1, 2, 31, 33, 53, 54, 7, 8, 1, 4, 3, 4, 7, 10, 4, 6, 6, 10, 13,
        18, 3, 4, 7, 24, 1, 1, -1, 98, 1, 14, 1, 17, 13, 114, 1, 5, 1, 3, 10,
        11, 1, 4, 5, 11, 1, 2, 1, 2, 1, 2, 4, 5, 11, 13, 4, 9, 5, 9, 2, 18, 41,
        470, 69, 95, 1, 263, 78, 528, 1, 340, 256, 1024, 47, 48, 47, 48, 133,
        139, 4, 7, 2, 14, 38, 39, 1, 6, 1, 3, 56, 63, 2, 17, 23, 32, 7, 8, 7, 8,
        7, 8, 7, 8, 7, 8, 7, 8, 7, 8, 7, 557, 3, 28, 9, 13, 2, 3, 5, 7, 5, 9,
        86, 92, 3, 4, 90, 91, 4, 9, 43, 44, 94, 95, 48, 96, 45, 48, 48, 64, 28,
        31, 50, 65, 12, 16, 167, 171, 99, 101, 31, 32, 6592, 6656, 20989, 20992,
        1165, 1232, 317, 320, 28, 48, 47, 64, 30, 32, 80, 82, 6, 48, 102, 103,
        55, 57, 9, 51, 13, 14, 3, 4, 4, 5, 25, 27, 1, 9, 8, 16, 52, 64, 68, 78,
        12, 36, 13, 14, 38, 46, 25, 36, 2, 13, 30, 36, 48, 49, 2, 6, 2, 4, 16,
        17, 11, 15, 7, 8, 25, 26, 41, 47, 2, 4, 2, 13, 3, 4, 8, 9, 1, 3, 10, 12,
        32, 33, 51, 52, 1, 4, 2, 4, 5, 7, 1, 2, 1, 25, 17, 19, 8, 19, 6, 8, 6,
        8, 6, 15, 7, 8, 7, 8, 58, 64, 117, 118, 2, 3, 4, 7, 10, 16, 11172,
        11184, 23, 27, 49, 2101, 6766, 6768, 106, 144, 7, 19, 5, 10, -1, 2, -10,
        11, -532, 534, -144, 176, -13, 14, -2, 114, -143, 177, 26, 32, 26, 37,
        89, 92, 6, 8, 6, 8, 6, 8, 3, 38, 12, 13, 26, 27, 19, 20, 2, 3, 15, 17,
        14, 48, 123, 128, 1, 2, 1, 5, 45, 48, 9, 86, 2, 67, 45, 176, 29, 32, 49,
        96, 36, 45, 30, 35, 38, 48, 30, 31, 37, 41, 14, 56, 158, 160, 10, 16,
        36, 40, 36, 40, 40, 48, 52, 63, 1, 145, 311, 320, 22, 32, 8, 160, -287,
        288, -225, 228, -1, 3, -5, 9, -40, 43, -4, 5, -165, 167, -82, 89, -484,
        488, -8, 18, -294, 325, -44, 46, -153, 164, -175, 175, 1, 2, 54, 69, 7,
        31, 10, 28, 49, 53, 2, 4, 7, 18, 1, 3, 25, 32, 10, 19, 36, 41, 1, 10,
        18, 26, 35, 36, 3, 14, 52, 61, 10, 14, 2, 3, 16, 17, 20, 31, 18, 19, 28,
        31, 2, 3, 1, 3, 6, 72, 7, 8, 1, 2, 4, 5, 15, 16, 11, 17, 47, 48, 3, 16,
        10, 18, 2, 3, 8, 10, 2, 4, 22, 23, 7, 8, 2, 3, 5, 8, 3, 4, 4, 6, 2, 4,
        3, 5, 1, 7, 1, 6, 7, 163, 56, 64, 2, 5, 1, 2, 21, 22, 1, 2, 3, 33, 51,
        57, 1, 2, 4, 6, 1, 3, 4, 12, 10, 176, 50, 56, 4, 6, 1, 3, 27, 63, 51,
        59, 2, 3, 1, 3, 4, 15, 10, 48, 43, 44, 1, 2, 2, 8, 1, 2, 1, 8, 10, 64,
        27, 32, 2, 6, 1, 10, 16, 208, 47, 56, 1, 3, 1, 101, 83, 95, 8, 10, 1, 3,
        8, 9, 2, 3, 30, 31, 2, 6, 1, 2, 4, 5, 3, 12, 10, 80, 8, 10, 42, 50, 4,
        5, 4, 31, 1, 7, 2, 4, 40, 46, 2, 6, 8, 17, 1, 7, 2, 5, 46, 59, 1, 3, 9,
        38, 57, 320, 9, 10, 38, 52, 8, 18, 29, 32, 32, 57, 1, 8, 1, 3, 1, 76, 7,
        8, 2, 3, 38, 59, 1, 10, 10, 16, 6, 7, 2, 3, 37, 41, 2, 3, 1, 2, 1, 8,
        10, 320, 19, 21, 4, 187, 1, 16, 21, 63, 923, 1025, 111, 112, 5, 16, 196,
        2944, 1071, 1072, 9, 4048, 583, 9216, 569, 576, 31, 32, 10, 14, 2, 98,
        30, 37, 1, 11, 48, 55, 15, 25, 10, 11, 7, 8, 21, 26, 19, 707, 91, 192,
        75, 80, 56, 67, 13, 77, 2, 3, 1, 13, 2, 16, 6136, 6144, 1238, 1280, 9,
        8960, 287, 336, 3, 20, 4, 12, 396, 2704, 107, 112, 13, 16, 9, 16, 10,
        12, 1, 3, 1, 4961, 246, 256, 39, 41, 62, 65, 9, 25, 2, 9, 30, 34, 59,
        306, 20, 128, 25, 160, 85, 86, 71, 72, 2, 4, 1, 3, 2, 4, 4, 5, 12, 13,
        1, 2, 7, 8, 65, 66, 4, 6, 8, 9, 7, 8, 28, 29, 4, 5, 5, 6, 1, 4, 7, 8,
        340, 342, 51, 52, 57, 58, 57, 58, 57, 58, 57, 58, 8, 60, 512, 567, 4,
        54, 8, 9, 14, 15, 7, 1659, 45, 55, 7, 9, 10, 14, 2, 370, 44, 48, 10,
        1296, -208, 215, -109, 116, -1445, 1447, -270, 542, 31, 32, 58, 64, 61,
        118, 29, 42, 44, 48, 9, 16, 2, 3504, 42718, 42752, 4149, 4160, 222, 224,
        5762, 5776, 7473, 10576, 542, 2048, 4939, 786432, 65534, 65536, 65534,
      ];
    },
    591: function (t, e, i) {
      (function (t, r) {
        var s;
        (function (n) {
          e && e.nodeType, t && t.nodeType;
          var a = "object" == typeof r && r;
          a.global !== a && a.window !== a && a.self;
          var l,
            o = 2147483647,
            u = 36,
            h = /^xn--/,
            c = /[^\x20-\x7E]/,
            d = /[\x2E\u3002\uFF0E\uFF61]/g,
            v = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input",
            },
            p = Math.floor,
            f = String.fromCharCode;
          function m(t) {
            throw new RangeError(v[t]);
          }
          function g(t, e) {
            for (var i = t.length, r = []; i--; ) r[i] = e(t[i]);
            return r;
          }
          function S(t, e) {
            var i = t.split("@"),
              r = "";
            return (
              i.length > 1 && ((r = i[0] + "@"), (t = i[1])),
              r + g((t = t.replace(d, ".")).split("."), e).join(".")
            );
          }
          function y(t) {
            for (var e, i, r = [], s = 0, n = t.length; s < n; )
              (e = t.charCodeAt(s++)) >= 55296 && e <= 56319 && s < n
                ? 56320 == (64512 & (i = t.charCodeAt(s++)))
                  ? r.push(((1023 & e) << 10) + (1023 & i) + 65536)
                  : (r.push(e), s--)
                : r.push(e);
            return r;
          }
          function _(t) {
            return g(t, function (t) {
              var e = "";
              return (
                t > 65535 &&
                  ((e += f((((t -= 65536) >>> 10) & 1023) | 55296)),
                  (t = 56320 | (1023 & t))),
                e + f(t)
              );
            }).join("");
          }
          function b(t, e) {
            return t + 22 + 75 * (t < 26) - ((0 != e) << 5);
          }
          function x(t, e, i) {
            var r = 0;
            for (t = i ? p(t / 700) : t >> 1, t += p(t / e); t > 455; r += u)
              t = p(t / 35);
            return p(r + (36 * t) / (t + 38));
          }
          function w(t) {
            var e,
              i,
              r,
              s,
              n,
              a,
              l,
              h,
              c,
              d,
              v,
              f = [],
              g = t.length,
              S = 0,
              y = 128,
              b = 72;
            for ((i = t.lastIndexOf("-")) < 0 && (i = 0), r = 0; r < i; ++r)
              t.charCodeAt(r) >= 128 && m("not-basic"), f.push(t.charCodeAt(r));
            for (s = i > 0 ? i + 1 : 0; s < g; ) {
              for (
                n = S, a = 1, l = u;
                s >= g && m("invalid-input"),
                  ((h =
                    (v = t.charCodeAt(s++)) - 48 < 10
                      ? v - 22
                      : v - 65 < 26
                      ? v - 65
                      : v - 97 < 26
                      ? v - 97
                      : u) >= u ||
                    h > p((o - S) / a)) &&
                    m("overflow"),
                  (S += h * a),
                  !(h < (c = l <= b ? 1 : l >= b + 26 ? 26 : l - b));
                l += u
              )
                a > p(o / (d = u - c)) && m("overflow"), (a *= d);
              (b = x(S - n, (e = f.length + 1), 0 == n)),
                p(S / e) > o - y && m("overflow"),
                (y += p(S / e)),
                (S %= e),
                f.splice(S++, 0, y);
            }
            return _(f);
          }
          function O(t) {
            var e,
              i,
              r,
              s,
              n,
              a,
              l,
              h,
              c,
              d,
              v,
              g,
              S,
              _,
              w,
              O = [];
            for (
              g = (t = y(t)).length, e = 128, i = 0, n = 72, a = 0;
              a < g;
              ++a
            )
              (v = t[a]) < 128 && O.push(f(v));
            for (r = s = O.length, s && O.push("-"); r < g; ) {
              for (l = o, a = 0; a < g; ++a)
                (v = t[a]) >= e && v < l && (l = v);
              for (
                l - e > p((o - i) / (S = r + 1)) && m("overflow"),
                  i += (l - e) * S,
                  e = l,
                  a = 0;
                a < g;
                ++a
              )
                if (((v = t[a]) < e && ++i > o && m("overflow"), v == e)) {
                  for (
                    h = i, c = u;
                    !(h < (d = c <= n ? 1 : c >= n + 26 ? 26 : c - n));
                    c += u
                  )
                    (w = h - d),
                      (_ = u - d),
                      O.push(f(b(d + (w % _), 0))),
                      (h = p(w / _));
                  O.push(f(b(h, 0))), (n = x(i, S, r == s)), (i = 0), ++r;
                }
              ++i, ++e;
            }
            return O.join("");
          }
          (l = {
            version: "1.4.1",
            ucs2: { decode: y, encode: _ },
            decode: w,
            encode: O,
            toASCII: function (t) {
              return S(t, function (t) {
                return c.test(t) ? "xn--" + O(t) : t;
              });
            },
            toUnicode: function (t) {
              return S(t, function (t) {
                return h.test(t) ? w(t.slice(4).toLowerCase()) : t;
              });
            },
          }),
            void 0 ===
              (s = function () {
                return l;
              }.call(e, i, e, t)) || (t.exports = s);
        })();
      }).call(this, i(592)(t), i(391));
    },
    592: function (t, e) {
      t.exports = function (t) {
        return (
          t.webpackPolyfill ||
            ((t.deprecate = function () {}),
            (t.paths = []),
            t.children || (t.children = []),
            Object.defineProperty(t, "loaded", {
              enumerable: !0,
              get: function () {
                return t.l;
              },
            }),
            Object.defineProperty(t, "id", {
              enumerable: !0,
              get: function () {
                return t.i;
              },
            }),
            (t.webpackPolyfill = 1)),
          t
        );
      };
    },
    712: function (t, e, i) {
      i.r(e),
        i.d(e, "CallLogList", function () {
          return $t;
        }),
        i.d(e, "Conversation", function () {
          return Yh;
        }),
        i.d(e, "RegistrationProfileInfo", function () {
          return _g;
        }),
        i.d(e, "RegistrationProfilePhoto", function () {
          return Eg;
        }),
        i.d(e, "SpinnerScreen", function () {
          return By.a;
        }),
        i.d(e, "TwoFactorReminder", function () {
          return Dx;
        }),
        i.d(e, "StatusList", function () {
          return t_;
        }),
        i.d(e, "TempBanned", function () {
          return Lx.default;
        }),
        i.d(e, "ActivityInProgress", function () {
          return G;
        }),
        i.d(e, "UserNoticeModal", function () {
          return Wm.default;
        }),
        i.d(e, "Stage2Screen", function () {
          return ik;
        });
      var r = {};
      i.r(r),
        i.d(r, "MEDIUM_RED_VIOLET", function () {
          return L_;
        }),
        i.d(r, "WASABI", function () {
          return A_;
        }),
        i.d(r, "SUNDANCE", function () {
          return U_;
        }),
        i.d(r, "SCARLETT", function () {
          return R_;
        }),
        i.d(r, "BRANDY_ROSE", function () {
          return P_;
        }),
        i.d(r, "BRIGHT_SUN", function () {
          return G_;
        }),
        i.d(r, "EARLS_GREEN", function () {
          return F_;
        }),
        i.d(r, "PRELUDE", function () {
          return D_;
        }),
        i.d(r, "CE_SOIR", function () {
          return z_;
        }),
        i.d(r, "MONA_LISA", function () {
          return V_;
        }),
        i.d(r, "EMERALD", function () {
          return K_;
        }),
        i.d(r, "BITTERSWEET", function () {
          return j_;
        }),
        i.d(r, "SUMMER_SKY", function () {
          return B_;
        }),
        i.d(r, "MAYA_BLUE", function () {
          return W_;
        }),
        i.d(r, "SCORPION", function () {
          return H_;
        }),
        i.d(r, "BALI_HAY", function () {
          return J_;
        }),
        i.d(r, "CORNFLOWER_BLUE", function () {
          return $_;
        }),
        i.d(r, "VIVID_VIOLET", function () {
          return Y_;
        }),
        i.d(r, "MONTE_CARLO", function () {
          return q_;
        }),
        i.d(r, "ELEPHANT", function () {
          return X_;
        }),
        i.d(r, "POLO_BLUE", function () {
          return Q_;
        });
      var s = i(1),
        n = i(13),
        a = i(511),
        l = i(59),
        o = i(18),
        u = i(379),
        h = i(47),
        c = i(44),
        d = i(61),
        v = class extends d.a {
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.ts;
            return (0, s.b)(2, a.a, {
              title: (0, s.b)(2, o.b, { l10n: 2 }),
              children: (0, s.f)(
                1,
                "div",
                "Yb",
                [
                  (0, s.f)(1, "div", "Yc FV FS", e ? (0, h.b)(e) : u.a, 0),
                  (0, s.f)(
                    1,
                    "div",
                    "Yd FW FS",
                    i ? (0, s.b)(2, o.a, { unix: i }) : u.a,
                    0
                  ),
                ],
                4
              ),
            });
          }
        },
        p = (0, l.c)((0, d.e)(v), (t, e, i) => {
          var r = i.jid,
            s = (0, c.c)(r, t.contacts).about || {},
            n = "loaded" === s.status ? s : {};
          return { content: n.content, ts: n.ts };
        }),
        f = i(37),
        m = i.n(f),
        g = i(245),
        S = i(290),
        y = i(125),
        _ = i(106),
        b = i(19),
        x = "Yk CC",
        w = i(381),
        O = [
          "privacy",
          "twoFactorVerification",
          "requestAccountInfo",
          "verboseSecurity",
          "deleteAccount",
        ],
        k = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Yw = () => (0, s.b)(2, o.b, { l10n: 9 })),
              (this.Yx = (t, e) => {
                var i = this.props,
                  r = i.isVoipAvailable,
                  n = i.verboseSecurity;
                switch (t) {
                  case "privacy":
                    return (0, s.b)(2, N, { selected: e });
                  case "verboseSecurity":
                    return (0, s.b)(2, I, {
                      isVoipAvailable: r,
                      selected: e,
                      verboseSecurity: n,
                    });
                  case "requestAccountInfo":
                    return (0, s.b)(2, T, { selected: e });
                  case "twoFactorVerification":
                    return (0, s.b)(2, M, { selected: e });
                  case "deleteAccount":
                    return (0, s.b)(2, L, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: this.Yw(),
              children: (0, s.b)(2, g.a, {
                items: O,
                keyOf: A,
                renderItem: this.Yx,
              }),
            });
          }
        },
        C = (0, l.c)((0, d.e)(k), (t) => {
          var e = t.isVoipAvailable,
            i = t.verboseSecurity;
          return t.serverProps, { isVoipAvailable: e, verboseSecurity: i };
        }),
        N = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("SETTINGS_PRIVACY", {});
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 686,
              selected: this.props.selected,
              rightComponent: (0, s.b)(2, w.a, { className: x }),
              borderBottom: !0,
            });
          }
        },
        I = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Yy = (t) => {
                var e = this.props.isVoipAvailable;
                (0, b.g)({
                  text: e ? 829 : 830,
                  center: 902,
                  onSoftCenter: "CLOSE",
                  right: 891,
                  onSoftRight: () =>
                    (function (t) {
                      (0, _.E)(t, _.x);
                    })(t),
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.isVoipAvailable !== t.isVoipAvailable ||
                i.selected !== t.selected ||
                i.verboseSecurity !== t.verboseSecurity)
            );
          }
          addSoftKeys(t) {
            this.props.verboseSecurity
              ? t.setCenterLabel(874, (t) => {
                  E(t, !1);
                })
              : t.setCenterLabel(878, (t) => {
                  E(t, !0);
                }),
              t.setRightLabel(885, this.Yy);
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.verboseSecurity;
            return (0, s.c)(
              [
                (0, s.b)(2, y.d, { title: 828, checked: i, selected: e }),
                (0, s.b)(2, y.n, { text: 831 }),
              ],
              4
            );
          }
        };
      function E(t, e) {
        t.fireAndForget("backend", "setVerboseSecurity", {
          privacySecurity: e,
        }),
          t.dispatch({
            type: "SECURITY_NOTIFICATION_SETTINGS",
            verboseSecurity: e,
          });
      }
      var T = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("REQUEST_ACCOUNT_INFO");
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.a, {
              title: 832,
              rightComponent: (0, s.b)(2, w.a, { className: x }),
              selected: t,
              borderBottom: !0,
            });
          }
        },
        M = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("TWO_FACTOR_SETUP");
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.a, {
              title: 1041,
              rightComponent: (0, s.b)(2, w.a, { className: x }),
              selected: t,
              borderBottom: !0,
            });
          }
        },
        L = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("DELETE_ACCOUNT", {});
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.a, {
              title: 807,
              rightComponent: (0, s.b)(2, w.a, { className: x }),
              selected: t,
            });
          }
        };
      function A(t) {
        return t;
      }
      var U = i(123),
        R = i(436),
        P = class extends d.a {
          shouldComponentUpdate(t, e) {
            return !1;
          }
          addSoftKeys(t, e) {
            var i = () => {
              (0, U.c)(), (0, U.e)(e);
            };
            t.setBack(i), t.setLeftLabel(864, i);
          }
          render() {
            return (0, s.f)(1, "div", R.a);
          }
        },
        G = (0, d.e)(P),
        F = i(11),
        D = i(76),
        z = i(268),
        V = i(300),
        K = i(161),
        j = i(27),
        B = i(291),
        W = i(20),
        H = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Hu = n.e()),
              (this.Hv = (t) => {
                var e = this.state.selectedContacts;
                if (e.has(t)) {
                  var i = new Set(e);
                  i.delete(t), this.setState({ selectedContacts: i });
                }
              }),
              (this.Hw = (t) => {
                var e = this.state.selectedContacts;
                if (!e.has(t)) {
                  var i = new Set(e);
                  i.add(t), this.setState({ selectedContacts: i });
                }
              }),
              (this.Hx = (t, e) => {
                var i = this.props.contacts,
                  r = (0, B.g)(t);
                return e.filter((t) => (0, B.a)((0, c.c)(t, i), r));
              }),
              (this.Hy = () => {
                var t = new Set(this.props.jids);
                this.setState({ selectedContacts: t });
              }),
              (this.Hz = () => {
                var t = this.props,
                  e = t.defaultSelectedContacts,
                  i = t.defaultAlwaysSelected,
                  r = new Set(i && e ? e : null);
                this.setState({ selectedContacts: r });
              }),
              (this.IB = (t) => {
                var e = this.props.onCancel;
                e ? e((0, W.c)(this.state.selectedContacts)) : t.goBack();
              }),
              (this.IC = (t, e) => {
                t.setBack(this.IB),
                  t.setLeftLabel(864, this.IB),
                  t.setRightOptions(q);
              }),
              (this.IA = () => {
                this.props.onDone((0, W.c)(this.state.selectedContacts));
              }),
              (this.ID = (t, e) => {
                var i = this.state.selectedContacts,
                  r = this.props,
                  n = r.contacts,
                  a = r.defaultAlwaysSelected,
                  l = r.defaultSelectedContacts,
                  o = r.defaultSelectedSubtitle,
                  u = r.blocked,
                  h = a && l && l.has(t),
                  d = h || i.has(t);
                return (0, s.b)(2, $, {
                  contact: (0, c.c)(t, n),
                  checked: d,
                  selected: e,
                  onSelect: this.Hw,
                  onUnselect: this.Hv,
                  alwaysSelected: h,
                  defaultSelectedSubtitle: o,
                  blocked: u,
                });
              }),
              (this.state = {
                selectedContacts: new Set(this.props.defaultSelectedContacts),
              });
          }
          addSoftKeys(t, e) {
            var i,
              r = this.state.selectedContacts,
              s = this.props,
              n = s.selectAll,
              a = s.jids,
              l = s.done,
              o = s.defaultSelectedContacts,
              u = s.allowEmpty,
              h = s.allowUnchanged,
              c = u || r.size > 0,
              d = h || (void 0 === o ? r.size > 0 : !(0, F.g)(r, o));
            c && d && t.setRightLabel(l || 875, this.IA), t.setBack(this.IB);
            var v = null == (i = this.Hu) ? void 0 : i.current;
            n &&
              v &&
              !v.isSearching() &&
              (a.length === r.size
                ? t.setLeftLabel(867, this.Hz)
                : t.setLeftLabel(931, this.Hy));
          }
          render() {
            var t =
              0 === this.props.jids.length
                ? void 0
                : { filter: this.Hx, emptyLabel: 601 };
            return (0, s.b)(2, S.a, {
              title: this.props.renderTitle(this.state.selectedContacts.size),
              children: (0, s.b)(
                2,
                g.c,
                {
                  items: this.props.jids,
                  keyOf: Y,
                  search: t,
                  estimatedItemHeight: D.c,
                  emptyLabel: 600,
                  renderItem: this.ID,
                  addSearchSoftKeys: this.IC,
                  deps: [this.state.selectedContacts],
                },
                null,
                this.Hu
              ),
            });
          }
        },
        J = (0, l.f)(
          (0, d.e)(H),
          (t, e) =>
            Object.assign({}, e, { contacts: t.contacts, blocked: t.blocked }),
          (t) => {
            var e = t.contacts,
              i = t.defaultSelectedContacts,
              r = t.defaultSort,
              s = [],
              n = new Set();
            i &&
              i.forEach((t) => {
                n.add(t);
                var i = (0, c.c)(t, e);
                ((0, c.i)(i) && (0, c.j)(i)) || s.push(t);
              });
            var a = (
              "selected" === r
                ? (0, j.i)(e, (t, e) =>
                    n.has(t.jid)
                      ? n.has(e.jid)
                        ? (0, j.k)(t, e)
                        : -1
                      : n.has(e.jid)
                      ? 1
                      : (0, j.k)(t, e)
                  )
                : (0, j.i)(e, j.k)
            )
              .map((t) => t.jid)
              .concat(s);
            return Object.assign({}, t, { jids: a });
          }
        ),
        $ = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.IE = (t, e) => {
                (0, b.f)(
                  (0, V.b)({
                    contact: e,
                    unblock: () => {
                      t.unblockUser(e.jid);
                    },
                  })
                );
              }),
              t
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.alwaysSelected,
              s = i.checked,
              n = i.blocked,
              a = i.contact,
              l = a.jid;
            r ||
              (n[l]
                ? t.setCenterLabel(944, () => {
                    this.IE(e, a);
                  })
                : s
                ? t.setCenterLabel(406, () => {
                    this.props.onUnselect(l);
                  })
                : t.setCenterLabel(930, () => {
                    this.props.onSelect(l);
                  }));
          }
          render() {
            var t = this.props,
              e = t.contact,
              i = t.selected,
              r = t.alwaysSelected,
              n = t.checked,
              a = t.blocked,
              l = t.defaultSelectedSubtitle,
              o = null != a[e.jid] ? 1066 : r && l ? l : void 0;
            return (0, s.b)(
              2,
              y.f,
              {
                contact: e,
                selected: i,
                disabled: r,
                subtitle: o,
                rightComponent: (0, s.f)(
                  1,
                  "div",
                  "Dx",
                  (0, s.b)(2, z.a, { checked: n, selected: i }),
                  2
                ),
              },
              e.jid
            );
          }
        };
      function Y(t) {
        return t;
      }
      function q(t) {
        var e = new K.a();
        e.add(603, t.syncAllContacts, "interactive"), (0, b.j)(e);
      }
      var X,
        Q,
        Z = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Yv = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 7] })
                  : (0, s.b)(2, o.b, { l10n: 20 })),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.alreadyInGroup !== t.alreadyInGroup || i.done !== t.done)
            );
          }
          render() {
            return (0, s.b)(2, J, {
              defaultSelectedContacts: this.props.alreadyInGroup,
              defaultAlwaysSelected: !0,
              defaultSelectedSubtitle: 24,
              allowUnchanged: !1,
              renderTitle: this.Yv,
              done: 857,
              onDone: this.props.done,
            });
          }
        },
        tt = (0, l.f)(
          Z,
          (t, e) => ({
            group: e.chat,
            participants: e.chat.groupInfo.participants,
            contacts: t.contacts,
            groupInviteSending: t.serverProps.groupInviteSending,
            connected: t.connected,
          }),
          (t, e) => {
            var i = new Set(t.participants);
            return {
              alreadyInGroup: i,
              done: (r) => {
                if (t.connected) {
                  var s = r.filter((t) => !i.has(t));
                  if (s.length > 0) {
                    var n = 0 !== t.groupInviteSending;
                    e.addGroupParticipants(t.group, s, t.contacts, n);
                  } else e.goBack();
                } else (0, b.e)({ title: 243, text: 15 });
              },
            };
          }
        ),
        et = i(7),
        it = i(384),
        rt = i(40),
        st =
          ((X = class {
            constructor(t, e, i) {
              Q.call(this), (this.RC = (0, rt.j)() ? 3 : 7), (this.RI = e);
              var r = i;
              if (null == r) {
                var s = t.parentElement;
                if (s) {
                  var n = s.getBoundingClientRect();
                  r = { width: n.width, height: n.height };
                }
              }
              null == r && (r = { width: D.o, height: D.m });
              var a = (function (t, e, i, r) {
                (0 !== t && 0 !== e && 0 !== i && 0 !== r) ||
                  __LOG__(
                    4
                  )`Zoomer.getFitSizeFromImage: all dimensions must have a value, you need to wait for the onLoad event on the img`;
                var s = i / r,
                  n = t,
                  a = e;
                return (
                  s > t / e ? (a = t / s) : (n = e * s), { width: n, height: a }
                );
              })(r.width, r.height, t.naturalWidth, t.naturalHeight);
              (this.RH = { scale: 1, x: 0, y: 0 }),
                (this.RD = a),
                (this.RE = r),
                (this.RF = 0.75 * r.width),
                (this.RG = 0.75 * r.height),
                (this.RJ = nt(r, a, 1));
            }
            RK(t) {
              var e,
                i,
                r = this.RH,
                s = r.x,
                n = r.y,
                a = r.scale,
                l =
                  null == t.scale ? a : Math.max(1, Math.min(t.scale, this.RC));
              l !== a && (this.RJ = nt(this.RE, this.RD, l)),
                (this.RH =
                  1 === l
                    ? { scale: l, x: 0, y: 0 }
                    : {
                        scale: l,
                        x: at(this.RJ, null != (e = t.x) ? e : s),
                        y: lt(this.RJ, null != (i = t.y) ? i : n),
                      }),
                this.RI(this.RH);
            }
            isAtMinScale() {
              return 1 === this.RH.scale;
            }
            isAtMaxScale() {
              return this.RH.scale === this.RC;
            }
          }),
          (Q = function () {
            (this.in = () => {
              var t = this.RH.scale;
              this.RK({ scale: t + 2 });
            }),
              (this.out = () => {
                var t = this.RH.scale;
                this.RK({ scale: t - 2 });
              }),
              (this.fullout = () => {
                this.RK({ scale: 1 });
              }),
              (this.up = () => {
                var t = this.RH,
                  e = t.y,
                  i = t.scale;
                this.RK({ y: e + this.RG / i });
              }),
              (this.down = () => {
                var t = this.RH,
                  e = t.y,
                  i = t.scale;
                this.RK({ y: e - this.RG / i });
              }),
              (this.left = () => {
                var t = this.RH,
                  e = t.x,
                  i = t.scale;
                this.RK({ x: e + this.RF / i });
              }),
              (this.right = () => {
                var t = this.RH,
                  e = t.x,
                  i = t.scale;
                this.RK({ x: e - this.RF / i });
              });
          }),
          X);
      function nt(t, e, i) {
        var r = Math.max(0, (e.width * i - t.width) / (2 * i)),
          s = Math.max(0, (e.height * i - t.height) / (2 * i));
        return { top: s, bottom: -1 * s, left: r, right: -1 * r };
      }
      function at(t, e) {
        return Math.max(t.right, Math.min(e, t.left));
      }
      function lt(t, e) {
        return Math.max(t.bottom, Math.min(e, t.top));
      }
      var ot = i(515),
        ut = i(246),
        ht = i(535),
        ct = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.VE = n.e()),
              (this.VF = !1),
              (this.VG = null),
              (this.state = { initialized: !1, scale: 1, x: 0, y: 0 }),
              (this.VH = () => {
                if (this.VF) {
                  var t = this.VE.current;
                  t &&
                    t.parentElement &&
                    ((this.VG = new st(t, (t) => {
                      this.setState(t);
                    })),
                    this.setState({ initialized: !0 }));
                }
              }),
              (this.VI = (t) => {
                this.VF &&
                  (__LOG__(4)`Failed to load ImageView`,
                  SEND_LOGS("ImageView failed"),
                  this.props.onLoadError && this.props.onLoadError(t));
              }),
              (this.VJ = (t) => {
                var e = this.props.src;
                null != e.uri && t.saveImageToStorage(e.uri);
              }),
              (this.VK = (t) => {
                var e = this.props,
                  i = e.enableSave,
                  r = e.onReportContact,
                  n = e.caption,
                  a = e.captionFormatting;
                if (!i && null == r && null == n) return null;
                var l = new K.a();
                return (
                  i &&
                    l.add(409, () => {
                      this.VJ(t);
                    }),
                  null != r && l.add(725, r),
                  null != n &&
                    l.add(1081, () => {
                      (0, b.h)(
                        {
                          title: 113,
                          onBack: "CLOSE",
                          onSoftCenter: "CLOSE",
                          center: 902,
                        },
                        (0, s.b)(2, ht.a, { caption: n, formatting: a })
                      );
                    }),
                  l
                );
              }),
              t
            );
          }
          componentDidMount() {
            (this.VF = !0),
              null != this.props.onViewed && this.props.onViewed(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.VF = !1),
              this.props.onClose && this.props.onClose(),
              super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.VG,
              r = this.VK(e);
            t.setBack(ot.a),
              (null == i || i.isAtMinScale()) &&
                (null != r &&
                  t.setRightOptions(() => {
                    (0, b.j)(r);
                  }),
                null != this.props.onMsgInfo &&
                  t.setCenterLabel(885, this.props.onMsgInfo)),
              null != i &&
                (i.isAtMinScale()
                  ? t.setLeftLabel(949, i.in)
                  : (t.setUpDownArrows(i.up, i.down),
                    t.setLeftRightArrows(i.left, i.right),
                    t.setLeftLabel(951, i.out),
                    i.isAtMaxScale() || t.setRightLabel(950, i.in)));
          }
          render() {
            var t,
              e,
              i = this.state,
              r = i.scale,
              a = i.x,
              l = i.y,
              o = this.props,
              u = o.src,
              h = o.caption,
              c = o.captionFormatting,
              d = { transform: `scale(${r}) translate(${a}px,${l}px)` };
            return (
              null != u.uri
                ? (t = (0, s.f)(
                    1,
                    "img",
                    "MR",
                    null,
                    1,
                    {
                      src: u.uri,
                      style: n.h(d),
                      onLoad: this.VH,
                      onError: this.VI,
                    },
                    null,
                    this.VE
                  ))
                : null != u.blob &&
                  (t = (0, s.b)(2, it.b, {
                    innerRef: this.VE,
                    blob: u.blob,
                    className: "MR",
                    style: d,
                    onLoad: this.VH,
                    onError: this.VI,
                  })),
              null == h ||
                (null != this.VG && !this.VG.isAtMinScale()) ||
                (e = (0, s.b)(2, ut.a, {
                  textClassName: "MS FV FS",
                  maxLineClassName: "MT",
                  truncated: !0,
                  children: (0, s.b)(2, ht.a, { caption: h, formatting: c }),
                })),
              (0, s.f)(1, "div", "MQ", [t, e], 0)
            );
          }
        },
        dt = (0, d.e)(ct, { fullscreen: !0 }),
        vt = i(107),
        pt = i(140),
        ft = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.jid !== t.jid ||
                i.avatarStatus !== t.avatarStatus ||
                i.avatarPlacement !== t.avatarPlacement)
            );
          }
          componentDidMount() {
            this.Yu(this.props);
          }
          componentDidUpdate(t) {
            this.Yu(t);
          }
          Yu(t) {
            var e = this.props,
              i = e.avatarStatus,
              r = e.jid,
              s = e.avatarPlacement,
              n = e.backend;
            if (i) {
              if (t.avatarStatus) {
                var a = t.avatarStatus,
                  l =
                    "loading" === a.status ||
                    ("loaded" === a.status && null != a.avatar),
                  o = "loaded" === i.status && null == i.avatar;
                if (l && o) {
                  n.goBack();
                  var u = (0, et.x)(r, { user: () => 162, group: () => 401 });
                  (0, pt.a)(u);
                }
              }
            } else
              (function (t, e, i) {
                var r = t.getCache();
                if (!r.fullsizeAvatar(e)) {
                  var s = r.loadingFullsizeAvatar(e);
                  if ("communityHome" === i) {
                    var n = (0, et.p)(e);
                    if (null == n) return;
                    t.dispatch(s),
                      t.fireAndForget("backend", "loadFullsizeAvatarV2", {
                        jid: n,
                      });
                  } else
                    t.dispatch(s),
                      t.fireAndForget("backend", "loadFullsizeAvatar", {
                        jid: e,
                      });
                }
              })(n, r, s);
          }
          render() {
            var t = this.props,
              e = t.avatarStatus,
              i = t.jid;
            if (null == e || "loading" === e.status)
              return (0, s.b)(2, mt, { jid: i });
            var r = null !== (0, et.p)(i);
            return null == e.avatar
              ? null
              : (0, s.b)(2, dt, { src: { uri: e.avatar.url }, enableSave: r });
          }
        };
      function mt(t) {
        var e = t.jid;
        return (0, s.f)(
          1,
          "div",
          "Ya",
          (0, s.b)(2, vt.c, { jid: e, type: "thumb" }),
          2
        );
      }
      var gt = (0, l.j)(ft),
        St = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Yq = (t, e) => {
                var i = (0, B.g)(t);
                return e.filter((t) =>
                  (0, B.a)((0, c.c)(t, this.props.contacts), i)
                );
              }),
              (this.Yr = (t, e) => {
                var i = this.props,
                  r = i.contacts,
                  n = i.blocked,
                  a = i.connected;
                return (0, s.b)(2, yt, {
                  contact: (0, c.c)(t, r),
                  selected: e,
                  connected: a,
                  blocked: n[t],
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contacts !== t.contacts ||
                i.blocked !== t.blocked ||
                i.items !== t.items ||
                i.connected !== t.connected)
            );
          }
          render() {
            var t =
              0 === this.props.items.length
                ? void 0
                : { filter: this.Yq, emptyLabel: 601 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 802 }),
              children: (0, s.b)(2, g.c, {
                items: this.props.items,
                keyOf: bt,
                search: t,
                estimatedItemHeight: D.c,
                emptyLabel: 600,
                renderItem: this.Yr,
              }),
            });
          }
        },
        yt = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contact !== t.contact ||
                i.connected !== t.connected ||
                i.blocked !== t.blocked ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.blocked,
              s = i.connected,
              n = i.contact;
            r
              ? t.setCenterLabel(944, () => this.openUnblockDialog(n, e))
              : t.setCenterLabel(862, () => {
                  s
                    ? (e.blockUser(n.jid), e.goBack())
                    : (0, b.e)({ title: 243, text: 61 });
                });
          }
          openUnblockDialog(t, e) {
            this.props.connected
              ? (0, b.f)(
                  (0, V.b)({
                    contact: t,
                    unblock: () => {
                      this.props.connected
                        ? e.unblockUser(t.jid)
                        : (0, b.e)({ title: 243, text: 1063 });
                    },
                  })
                )
              : (0, b.e)({ title: 243, text: 1063 });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.contact,
              r = t.blocked;
            return (0, s.b)(2, y.f, {
              contact: i,
              selected: e,
              rawSubtitle: r
                ? (0, s.b)(2, o.b, { l10n: 156, className: "Yj" })
                : void 0,
            });
          }
        },
        _t = (0, l.c)((0, d.e)(St), (t, e) => {
          var i = (0, j.j)(t.contacts).map((t) => t.jid);
          return {
            contacts: t.contacts,
            blocked: t.blocked,
            items: i,
            connected: t.connected,
          };
        });
      function bt(t) {
        return t;
      }
      var xt = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Yp = (t, e) => {
                var i = this.props,
                  r = i.offline,
                  n = i.contacts;
                return "ADD_BLOCK" === t
                  ? (0, s.b)(2, wt, { selected: e, offline: r })
                  : (0, s.b)(2, Ot, {
                      item: t,
                      selected: e,
                      contacts: n,
                      offline: r,
                    });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.offline !== t.offline ||
                i.contacts !== t.contacts ||
                i.items !== t.items)
            );
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 805 }),
              children: (0, s.b)(2, g.c, {
                items: this.props.items,
                keyOf: Ct,
                estimatedItemHeight: D.c,
                renderItem: this.Yp,
              }),
            });
          }
        },
        wt = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.offline !== t.offline)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              this.props.offline
                ? (0, b.e)({ title: 243, text: 813 })
                : e.openScreen("BLOCK_CONTACT");
            });
          }
          render() {
            return (0, s.c)(
              [
                (0, s.b)(2, o.b, { l10n: 63, className: "Yi FW FS" }),
                (0, s.b)(2, y.a, { title: 804, selected: this.props.selected }),
              ],
              4
            );
          }
        },
        Ot = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.offline !== t.offline ||
                i.contacts !== t.contacts ||
                i.item !== t.item ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.item,
              s = i.contacts,
              n = i.offline;
            t.setCenterLabel(944, () => {
              n
                ? (0, b.e)({ title: 243, text: 813 })
                : e.unblockUser((0, c.c)(r, s).jid);
            });
          }
          render() {
            var t = this.props,
              e = t.item,
              i = t.selected,
              r = t.contacts;
            return (0, s.b)(2, y.f, { contact: (0, c.c)(e, r), selected: i });
          }
        },
        kt = (0, l.f)(
          (0, d.e)(xt),
          (t, e) => {
            var i = e.offline;
            return t.screens[t.screens.length - 1]
              ? { offline: i, blocked: t.blocked, contacts: t.contacts }
              : null;
          },
          (t, e) => {
            var i = t.offline,
              r = t.blocked,
              s = t.contacts,
              n = (0, F.x)(r)
                .map((t) => (0, c.c)(t, s))
                .sort(j.k)
                .map((t) => t.jid),
              a = ["ADD_BLOCK"];
            return (
              n.forEach((t) => {
                a.push(t);
              }),
              { contacts: s, items: a, offline: i }
            );
          }
        );
      function Ct(t) {
        return t;
      }
      var Nt = i(385),
        It = i(350),
        Et = i(108),
        Tt = i(23),
        Mt = i.n(Tt),
        Lt = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M5.2 8.9c1.3 2.5 3.3 4.6 5.9 5.9l2-2c.2-.2.6-.3.9-.2 1 .3 2.1.5 3.2.5.5 0 .9.4.9.9v3.1c0 .5-.4.9-.9.9C8.8 18 2 11.2 2 2.9c0-.5.4-.9.9-.9H6c.5 0 .9.4.9.9 0 1.1.2 2.2.5 3.2.1.3 0 .7-.2.9l-2 1.9z",
            }),
            2,
            { x: "0", y: "0", viewBox: "0 0 20 20" }
          );
        },
        At = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.start = { item: "contact", scrollFromTop: "start" }),
              (this.renderCall = (t, e) => {
                if ("contact" === t)
                  return (0, s.b)(2, Pt, {
                    contact: this.props.contact,
                    selected: e,
                    isBlocked: this.props.isBlocked,
                    isVoipAvailable: this.props.isVoipAvailable,
                  });
                var i = this.props.idToLog.get(t);
                return null == i
                  ? null
                  : (0, s.b)(2, Gt, { log: i, selected: e });
              }),
              t
            );
          }
          addSoftKeys(t) {
            var e = this.props,
              i = e.contact,
              r = e.isBlocked;
            e.isVoipAvailable &&
              t.setOnCall((t) => {
                (0, It.a)(i, t, r, "callLogInfo");
              });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 94 }),
              children: (0, s.b)(2, g.c, {
                items: this.props.items,
                keyOf: Ut,
                estimatedItemHeight: D.b,
                renderItem: this.renderCall,
                start: this.start,
              }),
            });
          }
        };
      function Ut(t) {
        return String(t);
      }
      var Rt = (0, l.f)(
          (0, d.e)(At),
          (t, e) => {
            var i = t.calls,
              r = t.contacts,
              s = t.blocked,
              n = t.isVoipAvailable,
              a = e.callLogGroupId,
              l = null == i ? void 0 : i.logs;
            if (null == l) return null;
            var o = l.groups.get(a);
            if (null == o) return null;
            var u = o.peer,
              h = o.logs;
            return {
              contact: (0, c.c)(u, r),
              isVoipAvailable: n,
              isBlocked: Boolean(s[u]),
              logs: h,
            };
          },
          (t, e) => {
            for (
              var i = t.contact,
                r = t.isBlocked,
                s = t.logs,
                n = t.isVoipAvailable,
                a = ["contact"],
                l = new Map(),
                o = 0,
                u = s.length;
              o < u;
              o++
            )
              l.set(o, s[o]), a.push(o);
            return {
              backend: e,
              contact: i,
              isVoipAvailable: n,
              isBlocked: r,
              items: a,
              idToLog: l,
            };
          }
        ),
        Pt = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contact !== t.contact ||
                i.selected !== t.selected ||
                i.isBlocked !== t.isBlocked ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contact,
              n = i.isBlocked,
              a = i.isVoipAvailable;
            t.setRightLabel(95, () => {
              (0, Et.a)(e, r.jid, "newest");
            }),
              a &&
                t.setLeftIcon((0, s.b)(2, Lt, { className: "Wl r q" }), (t) => {
                  (0, It.a)(r, t, n, "callLogInfo");
                });
          }
          render() {
            var t = this.props,
              e = t.contact,
              i = t.selected;
            return (0, s.f)(
              1,
              "div",
              "Wg",
              (0, s.b)(2, y.f, {
                contact: e,
                selected: i,
                rawSubtitle: "pushname",
              }),
              2
            );
          }
        };
      function Gt(t) {
        var e = t.log,
          i = t.selected,
          r = e.ts;
        return null == e.callResult
          ? null
          : (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Wh", i && "Wi"),
              (0, s.b)(2, y.a, {
                rawTitle: (0, s.b)(2, o.a, { unix: r }),
                rawSubtitle: (0, s.b)(2, zt, { log: e, selected: i }),
                selected: i,
              }),
              2
            );
      }
      function Ft(t) {
        var e = t.duration,
          i = t.size;
        if (null == e || null == i) return null;
        var r = Math.round(e / 1e3),
          n = Math.floor(r / 3600);
        r -= 3600 * n;
        var a = Math.floor(r / 60);
        r -= 60 * a;
        var l = (0, s.b)(2, Nt.a, { size: i });
        return n > 0
          ? (0, s.b)(2, o.b, {
              l10n: [
                (0, s.b)(2, o.b, { l10n: [n, 283] }),
                (0, s.b)(2, o.b, { l10n: [a, 284] }),
                l,
                31,
              ],
            })
          : a > 0
          ? (0, s.b)(2, o.b, {
              l10n: [
                (0, s.b)(2, o.b, { l10n: [a, 284] }),
                (0, s.b)(2, o.b, { l10n: [r, 285] }),
                l,
                31,
              ],
            })
          : (0, s.b)(2, o.b, {
              l10n: [(0, s.b)(2, o.b, { l10n: [Math.max(1, r), 285] }), l, 30],
            });
      }
      function Dt(t) {
        switch (t.callResult) {
          case "connected":
            return null;
          case "missed":
            return (0, s.b)(2, o.b, { l10n: 99 });
          case "rejected":
            return (0, s.b)(2, o.b, { l10n: 98 });
          case "unavailable":
            return (0, s.b)(2, o.b, { l10n: 100 });
          default:
            return (0, s.b)(2, o.b, { l10n: 97 });
        }
      }
      function zt(t) {
        var e = t.log,
          i = t.selected,
          r = e.bytesTransfered,
          n = e.callResult,
          a = e.isFromMe,
          l = e.duration;
        if (null == n) return null;
        var u = null,
          h = null;
        return (
          "connected" === n
            ? ((u = a
                ? (0, s.b)(2, o.b, { l10n: 96 })
                : (0, s.b)(2, o.b, { l10n: 92 })),
              (h = (0, s.b)(2, Ft, { duration: l, size: r })))
            : a
            ? ((u = (0, s.b)(2, o.b, { l10n: 96 })),
              (h = (0, s.b)(2, Dt, { callResult: n })))
            : (u = (0, s.b)(2, o.b, { l10n: 93, className: "Wj" })),
          (0, s.f)(
            1,
            "div",
            (0, Mt.a)("Wk FX FS", i && "Wi"),
            [(0, s.f)(1, "div", null, u, 0), (0, s.f)(1, "div", null, h, 0)],
            4
          )
        );
      }
      var Vt = i(390),
        Kt = i(358),
        jt = i(362),
        Bt = i(324),
        Wt = "WW",
        Ht = class extends d.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.isLoading !== t.isLoading ||
                i.contacts !== t.contacts ||
                i.blocked !== t.blocked ||
                i.isVoipAvailable !== t.isVoipAvailable ||
                i.orderedGroupIds !== t.orderedGroupIds ||
                i.groups !== t.groups ||
                i.lastScrollPosition !== t.lastScrollPosition)
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.listRef = n.e()),
              (this.filter = (t, e) => {
                if (this.props.isLoading) return [];
                var i = this.props,
                  r = i.contacts,
                  s = i.groups;
                return e.filter((e) => {
                  var i = s.get(e);
                  if (null == i) return null;
                  var n = (0, c.c)(i.peer, r);
                  return (0, B.a)(n, (0, B.g)(t));
                });
              }),
              (this.renderCallLog = (t, e) => {
                if (this.props.isLoading) return null;
                var i = this.props.groups.get(t);
                if (null == i) return null;
                var r = this.props,
                  n = r.blocked,
                  a = r.contacts,
                  l = r.isVoipAvailable;
                return (0, s.b)(2, Yt, {
                  id: t,
                  group: i,
                  contacts: a,
                  blocked: n,
                  selected: e,
                  isVoipAvailable: l,
                });
              }),
              (this.start = t.isLoading
                ? null
                : { item: t.orderedGroupIds[0], scrollFromTop: "start" }),
              t.lastScrollPosition &&
                (this.start = {
                  item: t.lastScrollPosition.id,
                  scrollFromTop: t.lastScrollPosition.fromTop,
                }),
              (this.search = { filter: this.filter, emptyLabel: 258 });
          }
          componentWillUnmount() {
            if (null != this.listRef.current) {
              var t,
                e = this.listRef.current.getSelected();
              null != e &&
                this.props.backend.dispatch({
                  type: "UPDATE_CALL_LOGS_SCROLL",
                  lastScrollPosition: {
                    id: e.item,
                    fromTop:
                      (null == (t = e.node.getClientRect()) ? void 0 : t.top) ||
                      0,
                  },
                }),
                super.componentWillUnmount();
            }
          }
          addSoftKeys(t, e) {
            t.setLeftLabel(898, () => {
              e.openScreen("NEW_CALL");
            });
          }
          render() {
            if (this.props.isLoading)
              return (0, s.b)(2, Kt.b, {
                children: (0, s.b)(2, Vt.a, { type: "center" }),
              });
            var t = this.props.orderedGroupIds;
            return (0, s.b)(2, Kt.b, {
              children: (0, s.b)(
                2,
                g.c,
                {
                  items: t,
                  keyOf: Jt,
                  search: this.search,
                  estimatedItemHeight: D.b,
                  emptyLabel: 91,
                  renderItem: this.renderCallLog,
                  start: this.start,
                },
                null,
                this.listRef
              ),
            });
          }
        };
      function Jt(t) {
        return t;
      }
      var $t = (0, l.c)((0, d.e)(Ht), (t, e) => {
          var i = t.blocked,
            r = t.calls,
            s = t.contacts,
            n = t.isVoipAvailable,
            a = r && r.logs;
          if (!a || null != a.loadingRequestId)
            return {
              isLoading: !0,
              blocked: i,
              contacts: s,
              isVoipAvailable: n,
              backend: e,
            };
          var l = a.groups,
            o = a.lastScrollPosition;
          return {
            isLoading: !1,
            groups: l,
            orderedGroupIds: a.orderedGroupIds,
            isVoipAvailable: n,
            blocked: i,
            contacts: s,
            lastScrollPosition: o,
            backend: e,
          };
        }),
        Yt = class extends d.b {
          buildOptionsMenu(t) {
            var e = this.props.group,
              i = new K.a();
            return (
              i.add(84, () => {
                t.deleteCallLogs(e.logs.map((t) => t.id));
              }),
              i.add(81, t.clearAllCallLogs),
              i
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.id,
              s = i.contacts,
              n = i.group,
              a = n.peer,
              l = n.type,
              o = i.blocked,
              u = i.isVoipAvailable,
              h = (0, c.c)(a, s),
              d = Boolean(o[a]);
            u &&
              t.setOnCall(() => {
                var t = (function (t) {
                  switch (t) {
                    case "incoming":
                      return "callLogListIncoming";
                    case "outgoing":
                      return "callLogListOutgoing";
                    default:
                      return "callLogListMissed";
                  }
                })(l);
                (0, It.a)(h, e, d, t);
              }),
              t.setCenterLabel(94, () => {
                e.openScreen("CALL_LOG_INFO", { callLogGroupId: r });
              }),
              t.setRightOptions(() => {
                var t = this.buildOptionsMenu(e);
                (0, b.j)(t);
              });
          }
          render() {
            var t = this.props,
              e = t.contacts,
              i = t.group,
              r = t.selected,
              n = i.logs,
              a = i.ts,
              l = i.type,
              u = (0, c.c)(i.peer, e),
              h = n.length,
              d = "outgoing" === l ? Bt.a : jt.a;
            return (0, s.b)(2, y.k, {
              className: (0, Mt.a)("WU", r && Wt),
              selected: t.selected,
              children: [
                (0, s.b)(2, vt.c, { jid: u.jid, className: "WX Fa" }),
                (0, s.f)(
                  1,
                  "div",
                  "WV",
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "Wa",
                      [
                        (0, s.f)(
                          1,
                          "div",
                          (0, Mt.a)("Wb FV FS", r && Wt),
                          [
                            (0, s.b)(2, j.a, {
                              className: "Wc FY FU",
                              contact: u,
                            }),
                            h > 1 &&
                              (0, s.f)(
                                1,
                                "span",
                                "Wd",
                                [(0, s.e)(" ("), h, (0, s.e)(")")],
                                0
                              ),
                          ],
                          0
                        ),
                        (0, s.f)(
                          1,
                          "div",
                          (0, Mt.a)("We FY FU FW FS", r && Wt),
                          (0, s.b)(2, o.a, { unix: a }),
                          2
                        ),
                      ],
                      4
                    ),
                    (0, s.b)(2, d, {
                      className: (0, Mt.a)(
                        "WY",
                        "missed" === l && "WZ",
                        r && Wt
                      ),
                    }),
                  ],
                  4
                ),
              ],
            });
          }
        },
        qt = ["#922040", "#451E4E", "#1D2326", "#0A00D5"],
        Xt = "#B3B3B3",
        Qt = [
          Xt,
          "#63BDCF",
          "#7ACBA5",
          "#4A8DF4",
          "#0ACC52",
          "#66D2D5",
          "#FD9A9B",
          "#FA469A",
          "#FF8043",
          "#FD6769",
          "#FFb800",
        ],
        Zt = [
          Qt[0],
          Qt[1],
          Qt[2],
          Qt[3],
          Qt[4],
          Qt[5],
          Qt[6],
          Qt[7],
          qt[0],
          Qt[8],
          Qt[9],
          Qt[10],
          qt[1],
          qt[2],
          qt[3],
        ],
        te = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.chat !== t.chat ||
                i.chatBackgroundSettings !== t.chatBackgroundSettings)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.chat;
            t.setCenterLabel(877, () => {
              e.openScreen("SETTINGS_CHATS_BACKGROUND_COLOR", { chat: i });
            });
          }
          Yf() {
            var t = this.props.chatBackgroundSettings;
            if (t)
              switch (t.type) {
                case "solid-color":
                  return (0, s.f)(1, "div", (0, Mt.a)("XM"), null, 1, {
                    style: n.h({ backgroundColor: t.color }),
                  });
                case "default":
                  return (0, s.f)(1, "div", (0, Mt.a)("XM"), null, 1, {
                    style: n.h({ backgroundColor: Xt }),
                  });
                default:
                  return (0, m.a)(t.type);
              }
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 836,
              selected: this.props.selected,
              rightComponent: this.Yf(),
            });
          }
        },
        ee = (0, l.c)(te, (t, e, i) => {
          return Object.assign(
            {
              chatBackgroundSettings:
                ((r = i.chat),
                (s = t.settings),
                (r && r.chatBackgroundSettings) ||
                  s.chatBackgroundSettings || { type: "default" }),
            },
            i
          );
          var r, s;
        }),
        ie = ["saveMediaToPhoneStorage", "chatBackground"],
        re = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Xr = (t, e) => {
                var i = this.props.saveMediaToPhoneStorage;
                switch (t) {
                  case "saveMediaToPhoneStorage":
                    return (0, s.b)(2, se, {
                      selected: e,
                      saveMediaToPhoneStorage: i,
                    });
                  case "chatBackground":
                    return (0, s.b)(2, ee, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 134 }),
              children: (0, s.b)(2, g.a, {
                items: ie,
                keyOf: ae,
                renderItem: this.Xr,
              }),
            });
          }
        },
        se = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.saveMediaToPhoneStorage !== t.saveMediaToPhoneStorage)
            );
          }
          addSoftKeys(t, e) {
            this.props.saveMediaToPhoneStorage
              ? t.setCenterLabel(874, () => {
                  e.updateGeneralSettings({ saveMediaToPhoneStorage: !1 });
                })
              : t.setCenterLabel(878, () => {
                  e.updateGeneralSettings({ saveMediaToPhoneStorage: !0 });
                });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.saveMediaToPhoneStorage;
            return (0, s.c)(
              [
                (0, s.b)(2, y.d, { title: 841, checked: i, selected: e }),
                (0, s.b)(2, y.n, { text: 842 }),
              ],
              4
            );
          }
        },
        ne = (0, l.c)((0, d.e)(re), (t) => ({
          saveMediaToPhoneStorage: t.settings.saveMediaToPhoneStorage,
        }));
      function ae(t) {
        return t;
      }
      var le = i(21),
        oe = class {
          constructor(t) {
            (this.options = t), (this.Qf = (0, le.g)());
          }
          indexToRow(t) {
            return Math.floor(t / this.options.rowLength);
          }
          moveTo(t, e) {
            return this.Qg(e, t);
          }
          update(t) {
            this.options = (0, F.j)(this.options, t);
          }
          getNumberOfRows() {
            return Math.floor(this.options.length / this.options.rowLength);
          }
          previousRow(t) {
            return this.Qg(t, t - this.options.rowLength);
          }
          nextRow(t) {
            return this.Qg(t, t + this.options.rowLength);
          }
          Qh(t) {
            if (0 !== t) return this.Qg(t, t - 1);
            var e = this.options;
            if (!1 === e.horizontalRowNavigation)
              e.onReachPreviousSide && e.onReachPreviousSide();
            else {
              if (e.loop) return this.Qg(t, this.options.length - 1);
              e.onReachStart && e.onReachStart();
            }
          }
          Qi(t) {
            if (t !== this.options.length - 1) return this.Qg(t, t + 1);
            var e = this.options;
            if (!1 === e.horizontalRowNavigation)
              e.onReachNextSide && e.onReachNextSide();
            else {
              if (e.loop) return this.Qg(t, 0);
              e.onReachEnd && e.onReachEnd();
            }
          }
          defaultLeft(t) {
            return this.Qf ? this.Qi(t) : this.Qh(t);
          }
          defaultRight(t) {
            return this.Qf ? this.Qh(t) : this.Qi(t);
          }
          Qj(t) {
            return Math.max(0, Math.min(t, this.options.length - 1));
          }
          Qk(t, e) {
            var i = this.indexToRow(t),
              r = this.indexToRow(e);
            return r < i
              ? "previousRow"
              : r > i
              ? "nextRow"
              : e > t
              ? "next"
              : "previous";
          }
          Qg(t, e) {
            if (t < 0) return null;
            var i,
              r = this.options,
              s = t % r.rowLength,
              n = (r.length - 1) % r.rowLength;
            return (
              e < 0
                ? r.loop
                  ? (i = this.Qj(r.length - 1 - n + s))
                  : r.onReachStart && r.onReachStart()
                : e >= r.length && s <= n
                ? r.loop
                  ? (i = this.Qj(t % r.rowLength))
                  : r.onReachEnd && r.onReachEnd()
                : !1 === r.horizontalRowNavigation && 0 === s && e === t - 1
                ? r.onReachPreviousSide && r.onReachPreviousSide()
                : !1 === r.horizontalRowNavigation &&
                  s === r.rowLength - 1 &&
                  e === t + 1
                ? r.onReachNextSide && r.onReachNextSide()
                : (i = this.Qj(e)),
              null != i && i !== t
                ? { index: i, direction: this.Qk(t, i) }
                : void 0
            );
          }
        };
      function ue() {
        var t = self.innerWidth;
        return t < 250 ? 2 : t < 350 ? 3 : t < 1024 ? 4 : t < 1920 ? 5 : 6;
      }
      function he() {
        return ue() + 1;
      }
      function ce(t) {
        switch (t) {
          case 2:
            return "RE";
          case 3:
            return "RF";
          case 4:
            return "RG";
          case 5:
            return "RH";
          case 6:
            return "RI";
          default:
            return "";
        }
      }
      var de = i(162),
        ve = i(53),
        pe = i(421),
        fe = i(422),
        me = class extends d.a {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.chat !== t.chat ||
                  i.numberOfChatsWithCustomizedWallpaper !==
                    t.numberOfChatsWithCustomizedWallpaper ||
                  i.defaultColor !== t.defaultColor)) ||
              (r !== e &&
                (r.selection !== e.selection ||
                  r.direction !== e.direction ||
                  r.initialColor !== e.initialColor))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.XQ = new oe({ length: Zt.length, rowLength: he() })),
              (this.XR = () => {
                this.XV(this.XQ.previousRow(this.state.selection.index));
              }),
              (this.XS = () => {
                this.XV(this.XQ.nextRow(this.state.selection.index));
              }),
              (this.XT = () => {
                this.XV(this.XQ.defaultLeft(this.state.selection.index));
              }),
              (this.XU = () => {
                this.XV(this.XQ.defaultRight(this.state.selection.index));
              }),
              (this.XW = (t) => {
                var e;
                null != t &&
                  ("previousRow" === this.state.direction
                    ? (e = "start")
                    : "nextRow" === this.state.direction && (e = "end"),
                  e && (0, de.e)(t, { block: e, behavior: "smooth" }));
              });
            var i = Zt.indexOf(t.defaultColor);
            -1 === i && (i = 0);
            var r = Zt[i];
            this.state = {
              selection: { color: Zt[0], index: 0 },
              direction: "nextRow",
              initialColor: r,
            };
          }
          addSoftKeys(t, e) {
            t.setUpDownArrows(this.XR, this.XS),
              t.setLeftRightArrows(this.XT, this.XU);
          }
          XV(t) {
            if (null != t) {
              var e = Zt[t.index];
              null != e
                ? this.setState({
                    selection: { color: e, index: t.index },
                    direction: t.direction,
                  })
                : __LOG__(4)`Failed to move to color as intended`;
            }
          }
          render() {
            var t = this.state.selection.color,
              e = this.state.initialColor;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 840 }),
              children: (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Wy", ce(this.XQ.options.rowLength)),
                Zt.map((i) =>
                  (0, s.b)(
                    2,
                    ge,
                    {
                      selected: i === t,
                      isCurrent: i === e,
                      chat: this.props.chat,
                      color: i,
                      scrollIntoView: this.XW,
                      numberOfChatsWithCustomizedWallpaper:
                        this.props.numberOfChatsWithCustomizedWallpaper,
                    },
                    i
                  )
                ),
                0
              ),
            });
          }
        },
        ge = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.XX = n.e()), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.isCurrent !== t.isCurrent ||
                i.chat !== t.chat ||
                i.color !== t.color ||
                i.scrollIntoView !== t.scrollIntoView ||
                i.numberOfChatsWithCustomizedWallpaper !==
                  t.numberOfChatsWithCustomizedWallpaper)
            );
          }
          componentDidMount() {
            this.props.selected &&
              setTimeout(() => {
                this.props.scrollIntoView(this.XX.current);
              }, 0),
              super.componentDidMount();
          }
          componentDidUpdate(t) {
            !t.selected &&
              this.props.selected &&
              this.props.scrollIntoView(this.XX.current),
              super.componentDidUpdate(t);
          }
          XY(t, e) {
            var i = this.props,
              r = i.chat,
              s = i.color,
              n =
                s === Xt
                  ? { type: "default" }
                  : { type: "solid-color", color: s };
            t.goBack(), t.updateWallpaper({ chatBackgroundSettings: n }, r, e);
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.selected,
              s = i.isCurrent;
            (r && s) ||
              t.setCenterLabel(930, () => {
                var t = this.props,
                  i = t.chat,
                  r = t.numberOfChatsWithCustomizedWallpaper;
                i || 0 !== r
                  ? (0, b.g)({
                      text: i ? 837 : 838,
                      left: 860,
                      right: i ? 943 : 871,
                      onSoftLeft: () => {
                        this.XY(e, !0);
                      },
                      onSoftRight: () => {
                        this.XY(e, !1);
                      },
                    })
                  : this.XY(e, !1);
              });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.color,
              r = t.isCurrent
                ? (0, s.b)(2, pe.a, { className: "XA" })
                : e
                ? (0, s.b)(2, fe.a, { className: "XA" })
                : null;
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Wz", e && "XB"),
              r,
              0,
              { style: n.h({ backgroundColor: i }) },
              null,
              this.XX
            );
          }
        },
        Se = (0, l.c)((0, d.e)(me), (t, e, i) => {
          var r =
              (i.chat && i.chat.chatBackgroundSettings) ||
              t.settings.chatBackgroundSettings,
            s = (r && "solid-color" === r.type && r.color) || null;
          return Object.assign(
            {
              numberOfChatsWithCustomizedWallpaper: (0, ve.b)(t),
              defaultColor: s,
            },
            i
          );
        }),
        ye = i(64),
        _e = i(14),
        be = i(310),
        xe = i(176),
        we = i(73),
        Oe = i(16),
        ke = i(189),
        Ce = i(77),
        Ne = i(431),
        Ie = i(3),
        Ee = i(317);
      function Te(t) {
        var e,
          i = t.chat.mutedUntil,
          r = (0, rt.k)(t.chat);
        if (r && null != i)
          if ("always" === i) e = 585;
          else {
            var n = (0, Ie.q)(i) ? "time" : "date";
            e = [(0, Ce.i)(i, n), 40];
          }
        else e = 565;
        return (0, s.b)(2, y.d, {
          title: 165,
          subtitle: e,
          checked: r,
          selected: t.selected,
        });
      }
      function Me(t) {
        var e = t.chat,
          i = t.selected;
        return (0, s.b)(2, Ne.a, {
          chat: e,
          children: (0, s.b)(2, Le, { chat: e, selected: i }),
        });
      }
      var Le = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props.chat.id;
            (0, rt.k)(this.props.chat)
              ? t.setCenterLabel(1069, () => {
                  e.muteChat(i, null);
                })
              : t.setCenterLabel(897, () => {
                  (0, b.j)((0, Ee.a)(e, i));
                });
          }
          render() {
            return (0, s.b)(2, Te, {
              selected: this.props.selected,
              chat: this.props.chat,
            });
          }
        },
        Ae = i(247),
        Ue = i(213),
        Re = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.group !== t.group ||
                i.selected !== t.selected ||
                i.contacts !== t.contacts)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, (t) => {
              (0, Et.a)(t, this.props.group.jid, "newest");
            });
          }
          render() {
            var t = this.props,
              e = t.group,
              i = t.contacts,
              r = t.selected,
              n = e.groupInfo,
              a = (0, le.h)(
                n.participants.map((t, e, r) =>
                  (0, s.f)(1, "span", null, (0, j.g)(i, t), 0, null, t)
                )
              );
            return (0, s.b)(2, y.k, {
              selected: r,
              className: "Xp",
              children: [
                (0, s.b)(2, vt.c, { jid: e.jid, className: "Xo Fa" }),
                (0, s.b)(2, y.c, {
                  rawTitle: (0, h.b)(n.title),
                  rawSubtitle: a,
                  ellipsis: !0,
                }),
              ],
            });
          }
        },
        Pe = (0, l.c)(Re, (t, e, i) => ({
          group: i.group,
          selected: i.selected,
          contacts: t.contacts,
        })),
        Ge = "";
      function Fe(t) {
        (Ge = t), (0, pt.a)(1021);
      }
      function De() {
        return Ge;
      }
      var ze = i(551),
        Ve = i(406),
        Ke = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M13.166 7.803H7.66c-.49 0-.917.306-1.101.733L4.724 12.88a.886.886 0 00-.122.428v1.223c0 .673.55 1.224 1.223 1.224h3.854l-.611 2.814v.183c0 .244.122.49.244.673l.673.612L14.022 16a1.21 1.21 0 00.367-.857V9.026c0-.673-.55-1.223-1.223-1.223zm2.446 0v7.34h2.447v-7.34z",
            }),
            2,
            { viewBox: "0 0 23 23" }
          );
        },
        je = i(383),
        Be = i(536),
        We = i(298),
        He = i(179),
        Je = i(52),
        $e = i(111);
      function Ye(t, e, i) {
        var r,
          s = (0, $e.makeBackendRequestId)();
        if (
          (t.dispatch({
            type: "LOAD_FEATURED_MESSAGES",
            requestId: s,
            featureType: e,
          }),
          "star" === e)
        ) {
          var n = i.previousLastMsgId && {
              msgId: i.previousLastMsgId.msgId,
              starred: i.previousLastMsgId.featureIndex,
            },
            a = Object.assign(
              { chatId: i.chatId, limit: i.limit },
              n && { previousLastMsgId: n }
            );
          r = t
            .sendAndReceive("backend", "loadChatStarredMsgs", a)
            .then((t) => t.msgs);
        } else {
          var l = i.previousLastMsgId && {
              msgId: i.previousLastMsgId.msgId,
              kept: i.previousLastMsgId.featureIndex,
            },
            o = Object.assign(
              { chatId: i.chatId, limit: i.limit },
              l && { previousLastMsgId: l }
            );
          r = t
            .sendAndReceive("backend", "loadChatKeptMessages", o)
            .then((t) => t.msgs);
        }
        return (
          r.then((r) =>
            t.dispatch({
              type: "LOADED_FEATURED_MESSAGES",
              requestId: s,
              msgs: r,
              askedFor: i.limit,
              featureType: e,
            })
          ),
          s
        );
      }
      function qe(t, e, i) {
        var r = (0, $e.makeBackendRequestId)();
        return (
          t.dispatch({
            type: "LOAD_FEATURED_MESSAGES",
            requestId: r,
            featureType: e,
          }),
          t.sendAndReceive("backend", "loadStarredMsgs", i).then((s) => {
            var n = s.msgs;
            return t.dispatch({
              type: "LOADED_FEATURED_MESSAGES",
              requestId: r,
              msgs: n,
              askedFor: i.limit,
              featureType: e,
            });
          }),
          r
        );
      }
      var Xe = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.chat !== t.chat ||
                i.featureType !== t.featureType)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(903, (t) => {
              var e = this.props,
                i = e.chat;
              (function (t, e, i) {
                var r = Ye(t, e, { chatId: i.id, limit: _e.R });
                t.openScreen("FEATURED_MESSAGES", {
                  chat: i,
                  items: [],
                  allLoaded: !1,
                  loading: { older: r },
                  featureType: e,
                });
              })(t, e.featureType, i);
            });
          }
          render() {
            var t,
              e,
              i = this.props,
              r = i.featureType,
              n = i.chat,
              a = i.selected;
            if ("star" === r) {
              var l;
              (t = 170),
                (e = [null != (l = n.msgInfo.starredMsgCount) ? l : 0, 41]);
            } else {
              t = 163;
              var o = n.msgInfo.keptMsgCount;
              null != o && o > 0 && (e = [o, 39]);
            }
            return (0, s.b)(2, y.a, {
              title: t,
              subtitle: e,
              rightComponent: (0, s.b)(2, w.a, { className: "YA CC" }),
              selected: a,
            });
          }
        },
        Qe = "Vi FX FS",
        Ze = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.XI = () =>
                (0, s.f)(
                  1,
                  "div",
                  "VX",
                  (0, ke.d)(this.props.contact, { badgeSize: "small" }),
                  0
                )),
              (this.XJ = (t, e) => {
                var i = this.props,
                  r = i.chat,
                  n = i.contact;
                switch (t) {
                  case "contact":
                    return (0, s.b)(2, oi, {
                      selected: e,
                      hasAvatar: i.hasAvatar,
                      contact: n,
                      chat: r,
                    });
                  case "about":
                    return (0, s.b)(2, ii, { contact: n, selected: e });
                  case "businessVerification":
                    return (0, s.b)(2, ai, { selected: e, contact: n });
                  case "businessDetails":
                    return (0, s.b)(2, li, { selected: e, contact: n });
                  case "media":
                    return r ? (0, s.b)(2, pi, { selected: e, chat: r }) : null;
                  case "starredMessages":
                    return r
                      ? (0, s.b)(2, Xe, {
                          selected: e,
                          chat: r,
                          featureType: "star",
                        })
                      : null;
                  case "keptMessages":
                    return r
                      ? (0, s.b)(2, Xe, {
                          selected: e,
                          chat: r,
                          featureType: "keep",
                        })
                      : null;
                  case "muteNotify":
                    return r ? (0, s.b)(2, Me, { selected: e, chat: r }) : null;
                  case "aboutPhone":
                    return (0, s.b)(2, si, { selected: e, contact: i.contact });
                  case "aboutMsg":
                    return (0, s.b)(2, ri, { selected: e, contact: i.contact });
                  case "call":
                    return (0, s.b)(2, mi, {
                      contact: n,
                      isBlocked: i.isBlocked,
                      selected: e,
                    });
                  case "identityVerification":
                    if ((0, we.j)(n.jid))
                      return (0, s.b)(2, hi, {
                        selected: e,
                        isVoipAvailable: i.isVoipAvailable,
                      });
                    if ((0, we.g)(n))
                      return (0, s.b)(2, ui, {
                        contact: n,
                        selected: e,
                        isVoipAvailable: i.isVoipAvailable,
                      });
                    var a,
                      l = null == (a = n.verifiedInfo) ? void 0 : a.bsp;
                    return l
                      ? (0, s.b)(2, di, {
                          contact: n,
                          bsp: l,
                          selected: e,
                          isVoipAvailable: i.isVoipAvailable,
                        })
                      : null;
                  case "groupsMore":
                    var o = this.props.groupsInCommon,
                      u = o.length - _e.z;
                    return u >= 0
                      ? (0, s.b)(2, vi, {
                          selected: e,
                          groupsInCommon: o,
                          numCollapsed: u,
                        })
                      : null;
                  case "actionBlock":
                    return (0, s.b)(2, ni, {
                      isBlocked: i.isBlocked,
                      selected: e,
                      contact: i.contact,
                      connected: i.connected,
                    });
                  case "actionSpam":
                    return (0, s.b)(2, fi, {
                      isBlocked: i.isBlocked,
                      selected: e,
                      contact: i.contact,
                      connected: i.connected,
                    });
                  case "wallpaper":
                    return r ? (0, s.b)(2, ee, { chat: r, selected: e }) : null;
                  case "ephemeralMessages":
                    var h = i.setEphemeralJob;
                    return r
                      ? (0, s.b)(2, We.c, {
                          chat: r,
                          contact: i.contact,
                          selected: e,
                          job: h,
                        })
                      : null;
                  default:
                    var c = this.props.groupsInCommon,
                      d = c.length > 0 ? c[0] : null,
                      v = c.find((e) => e.jid === t);
                    if (v) {
                      var p = (0, s.b)(2, Pe, { group: v, selected: e });
                      return d && v === d
                        ? (0, s.c)(
                            [(0, s.b)(2, y.g, { text: [c.length, 38] }), p],
                            0
                          )
                        : p;
                    }
                    return null;
                }
              }),
              t
            );
          }
          addSoftKeys(t, e) {
            if (this.props.isVoipAvailable) {
              var i = this.props,
                r = i.contact,
                s = i.isBlocked;
              t.setOnCall(() => (0, It.a)(r, e, s, "contactInfo"));
            }
          }
          render() {
            var t = this.props.start;
            return (0, s.b)(2, S.a, {
              title: this.XI(),
              children: (0, s.b)(2, g.c, {
                items: this.props.items,
                keyOf: ei,
                estimatedItemHeight: 52,
                renderItem: this.XJ,
                start: t && { item: t, scrollFromTop: "start" },
              }),
            });
          }
        },
        ti = (0, l.c)((0, d.e)(Ze), (t, e, i) => {
          var r,
            s = i.jid,
            n = i.chat,
            a = i.groupsInCommon,
            l = (0, c.c)(s, t.contacts),
            o = !!t.blocked[s],
            u = (0, we.e)(l),
            h = (null == (r = l.ephemeral) ? void 0 : r.expiration) || _e.k,
            d = Oe.g.setOneToOneEphemeralSetting({ userJid: s, expiration: h }),
            v = (0, ve.h)(t, "setOneToOneEphemeralSetting", d),
            p = [];
          if (
            (p.push("contact"),
            u && (p.push("businessVerification"), p.push("businessDetails")),
            null != n)
          ) {
            p.push("media");
            var f = n.msgInfo.starredMsgCount;
            if (
              (f &&
                f > 0 &&
                !t.starredIndexMissing &&
                p.push("starredMessages"),
              (0, Je.h)() && !u)
            ) {
              var m = n.msgInfo.keptMsgCount;
              (h > 0 || (null != m && m > 0)) && p.push("keptMessages");
            }
            p.push("muteNotify"), p.push("wallpaper");
          }
          return (
            p.push("identityVerification"),
            n && (0, Ae.a)(n, t.contacts) && !o && p.push("ephemeralMessages"),
            null != l.about && "blocked" !== l.about.status && p.push("about"),
            p.push("aboutPhone"),
            p.push("aboutMsg"),
            t.isVoipAvailable && p.push("call"),
            a.length > _e.z
              ? (a.slice(0, _e.z).forEach((t) => {
                  p.push(t.jid);
                }),
                p.push("groupsMore"))
              : a.forEach((t) => {
                  p.push(t.jid);
                }),
            p.push("actionBlock"),
            p.push("actionSpam"),
            {
              hasAvatar: (0, rt.i)(s, t.avatars),
              contact: l,
              chat: n,
              groupsInCommon: a,
              isBlocked: o,
              items: p,
              backend: e,
              screen: i,
              connected: t.connected,
              start: i.start,
              isVoipAvailable: t.isVoipAvailable,
              setEphemeralJob: v,
            }
          );
        });
      function ei(t) {
        return t;
      }
      var ii = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.contact !== t.contact)
            );
          }
          addSoftKeys(t, e) {
            var i,
              r = this.props.contact;
            "loaded" === (null == (i = r.about) ? void 0 : i.status) &&
              t.setCenterLabel(945, () => {
                e.openScreen("ABOUT_CONTENT", { jid: r.jid });
              });
          }
          render() {
            var t,
              e = this.props.contact.about;
            if (e)
              switch (e.status) {
                case "blocked":
                  break;
                case "loaded":
                  t = (0, s.b)(2, y.a, {
                    rawTitle: (0, h.b)(e.content),
                    rawSubtitle: (0, s.b)(2, o.a, { unix: e.ts }),
                    selected: this.props.selected,
                    ellipsis: !0,
                  });
                  break;
                default:
                  e.status,
                    (t = (0, s.b)(2, y.a, {
                      title: 157,
                      selected: this.props.selected,
                      ellipsis: !0,
                    }));
              }
            return (0, s.c)([(0, s.b)(2, y.g, { text: 158 }), t], 0);
          }
        },
        ri = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.contact !== t.contact)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              (0, Et.a)(e, this.props.contact.jid, "unread");
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              title: 193,
              icon: (0, s.b)(2, ze.a),
              selected: this.props.selected,
            });
          }
        },
        si = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.contact !== t.contact)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(195, () => {
              Fe((0, ye.d)(this.props.contact.jid));
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              rawTitle: (0, s.b)(2, xe.a, { jid: this.props.contact.jid }),
              subtitle: 164,
              selected: this.props.selected,
              ellipsis: !0,
            });
          }
        },
        ni = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contact !== t.contact ||
                i.selected !== t.selected ||
                i.isBlocked !== t.isBlocked ||
                i.connected !== t.connected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.isBlocked,
              s = i.contact,
              n = i.connected;
            r
              ? t.setCenterLabel(944, () => {
                  n
                    ? e.unblockUser(s.jid)
                    : (0, b.e)({ title: 243, text: 1063 });
                })
              : t.setCenterLabel(862, () => {
                  var t = new K.a(63);
                  t.add(862, () => {
                    n ? e.blockUser(s.jid) : (0, b.e)({ title: 243, text: 61 });
                  }),
                    t.add(739, () => {
                      n
                        ? e.reportUserSpam({
                            reportType: "chat",
                            userJid: s.jid,
                            spamFlow: "account_info",
                            blockUser: !0,
                            deleteChat: !0,
                          })
                        : (0, b.e)({ title: 243, text: 729 });
                    }),
                    (0, b.j)(t);
                });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.isBlocked;
            return (0, s.c)(
              [
                (0, s.b)(2, y.g, { text: 166 }),
                i
                  ? (0, s.b)(2, y.j, {
                      title: 944,
                      icon: (0, s.b)(2, Ve.a, {
                        className: (0, Mt.a)("Vf Vc", e && "Vh"),
                      }),
                      className: "Ve FV FS",
                      selected: e,
                    })
                  : (0, s.b)(2, y.j, {
                      title: 862,
                      icon: (0, s.b)(2, Ve.a),
                      selected: e,
                      danger: "red",
                    }),
              ],
              0
            );
          }
        },
        ai = class extends d.b {
          addSoftKeys(t, e) {
            var i = (function (t) {
              var e = t.verifiedInfo;
              if (null != e)
                switch (e.level) {
                  case "unknown":
                  case "low":
                    return 57;
                  default:
                    var i = (0, j.e)(t);
                    return (0, ke.e)(t) ? [i, 28] : [i, 27];
                }
            })(this.props.contact);
            i &&
              t.setCenterLabel(885, () => {
                (0, b.g)({
                  text: i,
                  center: 902,
                  onSoftCenter: "CLOSE",
                  right: 891,
                  onSoftRight: () => {
                    (0, _.E)(e, _.i);
                  },
                });
              });
          }
          render() {
            var t = this.props.contact.verifiedInfo;
            return null == t || null == t.name
              ? null
              : (0, s.b)(2, y.a, {
                  title: "high" === t.level ? 629 : 66,
                  selected: this.props.selected,
                });
          }
        },
        li = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props.contact;
            t.setCenterLabel(903, () => {
              e.openScreen("BUSINESS_DETAILS", { jid: i.jid });
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 68,
              selected: this.props.selected,
            });
          }
        },
        oi = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.hasAvatar !== t.hasAvatar ||
                i.contact !== t.contact ||
                i.selected !== t.selected ||
                i.chat !== t.chat)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contact,
              s = i.hasAvatar;
            (0, c.i)(r) ||
              t.setRightLabel(857, () => {
                (0, je.a)(e, { tel: (0, ye.d)(r.jid) }, r.jid);
              }),
              s &&
                t.setCenterLabel(945, () => {
                  e.openAvatarView(r.jid);
                });
          }
          XK(t) {
            var e = (0, we.c)(t);
            return e
              ? (0, s.f)(
                  1,
                  "div",
                  Qe,
                  (0, s.b)(2, ke.b, {
                    verifiedName: "~" + e,
                    badgeSize: "small",
                    noEllipsis: "no-ellipsis",
                  }),
                  2
                )
              : (0, be.d)(t, Qe);
          }
          render() {
            var t,
              e,
              i = this.props,
              r = i.contact,
              n = i.chat,
              a = i.selected,
              l = (0, ke.e)(r);
            return (
              l
                ? (t = (0, s.b)(2, ke.b, {
                    verifiedName: l,
                    noEllipsis: "no-ellipsis",
                  }))
                : ((t = (0, s.b)(2, j.a, { contact: r })), (e = this.XK(r))),
              (0, s.b)(2, y.k, {
                selected: this.props.selected,
                className: (0, Mt.a)("VZ", a && "Vk"),
                children: [
                  (0, s.f)(
                    1,
                    "div",
                    "Va",
                    [
                      (0, s.b)(2, vt.c, { jid: r.jid, className: "VY Fa" }),
                      (0, s.f)(
                        1,
                        "div",
                        "Vb FV FS",
                        [
                          t,
                          n &&
                            (0, s.b)(2, He.b, {
                              chat: n,
                              WhileIdle: Ue.a,
                              className: "Vj FX FS FY FU CG FW FS",
                            }),
                        ],
                        0
                      ),
                    ],
                    4
                  ),
                  e,
                ],
              })
            );
          }
        },
        ui = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.contact !== t.contact ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.contact;
            t.setCenterLabel(576, () => {
              (0, Be.b)(e, i.jid);
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.isVoipAvailable;
            return (0, s.b)(2, y.a, {
              title: 159,
              subtitle: i ? 160 : 161,
              selected: e,
            });
          }
        },
        hi = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.isVoipAvailable ? 480 : 481;
            i &&
              t.setCenterLabel(885, () => {
                (0, b.g)({
                  text: i,
                  center: 902,
                  onSoftCenter: "CLOSE",
                  right: 891,
                  onSoftRight: () => {
                    (0, _.E)(e, _.C);
                  },
                });
              });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.isVoipAvailable;
            return (0, s.b)(2, y.a, {
              selected: e,
              title: 167,
              subtitle: i ? 482 : 483,
            });
          }
        };
      function ci(t) {
        return (0, we.k)(t, {
          SO: () => {
            __LOG__(4)`Invalid state for Security component SELF-ON_PREMISE`;
          },
          SF: () => 169,
          BF: () => 169,
          BO: () => 168,
        });
      }
      var di = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.contact !== t.contact ||
                i.bsp !== t.bsp ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i,
              r,
              s = this.props,
              n =
                ((i = s.bsp),
                (r = s.isVoipAvailable),
                (0, we.k)(i, {
                  SO: () => {
                    __LOG__(
                      4
                    )`Invalid state for Security component SELF-ON_PREMISE`;
                  },
                  SF: () => (r ? 778 : 779),
                  BF: () => (r ? 778 : 779),
                  BO: () => (r ? 776 : 777),
                }));
            n &&
              t.setCenterLabel(885, () => {
                (0, b.g)({
                  text: n,
                  center: 902,
                  onSoftCenter: "CLOSE",
                  right: 891,
                  onSoftRight: () => {
                    (0, _.E)(e, _.e);
                  },
                });
              });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.bsp;
            return (0, s.b)(2, y.a, {
              title: 167,
              subtitle: ci(i),
              selected: e,
            });
          }
        },
        vi = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.groupsInCommon !== t.groupsInCommon ||
                i.numCollapsed !== t.numCollapsed)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(946, () => {
              e.openScreen("CONTACT_INFO_GROUPS", {
                groupsInCommon: this.props.groupsInCommon,
              });
            });
          }
          render() {
            var t = this.props,
              e = t.numCollapsed,
              i = t.selected;
            return (0, s.b)(2, y.j, {
              title: [e, 303],
              icon: (0, s.b)(2, w.a, {
                className: (0, Mt.a)("Vd Vc", i && "Vg"),
              }),
              selected: i,
            });
          }
        },
        pi = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openMediaDrawer(this.props.chat);
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 564,
              selected: this.props.selected,
            });
          }
        },
        fi = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.isBlocked !== t.isBlocked ||
                i.contact !== t.contact ||
                i.connected !== t.connected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(738, () => {
              var t = this.props,
                i = t.isBlocked,
                r = t.contact;
              if (t.connected)
                if (i)
                  (0, b.f)({
                    title: 738,
                    text: 724,
                    confirm: 916,
                    onConfirm: () => {
                      e.reportUserSpam({
                        reportType: "chat",
                        userJid: r.jid,
                        spamFlow: "account_info",
                        blockUser: !1,
                        deleteChat: !0,
                      });
                    },
                  });
                else {
                  var s = new K.a(730);
                  s.add(739, () => {
                    e.reportUserSpam({
                      reportType: "chat",
                      userJid: r.jid,
                      spamFlow: "account_info",
                      blockUser: !0,
                      deleteChat: !0,
                    });
                  }),
                    s.add(634, () => {
                      e.reportUserSpam({
                        reportType: "chat",
                        userJid: r.jid,
                        spamFlow: "account_info",
                        blockUser: !1,
                        deleteChat: !1,
                      });
                    }),
                    (0, b.j)(s);
                }
              else (0, b.e)({ title: 243, text: 729 });
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              title: 738,
              icon: (0, s.b)(2, Ke),
              selected: this.props.selected,
              danger: "red",
            });
          }
        },
        mi = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.isBlocked,
              n = i.contact;
            t.setCenterIcon((0, s.b)(2, Lt, { className: "Vl r q" }), () =>
              (0, It.a)(n, e, r, "contactInfoVoiceCall")
            );
          }
          render() {
            return (0, s.b)(2, y.j, {
              title: 111,
              icon: (0, s.b)(2, Lt),
              selected: this.props.selected,
            });
          }
        },
        gi = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.XL = (t, e) => {
                var i = (0, B.g)(t);
                return e.filter((t) => (0, B.c)(t.groupInfo.title, i));
              }),
              (this.renderItem = (t, e) =>
                (0, s.b)(2, Pe, { group: t, selected: e })),
              t
            );
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = { filter: this.XL, emptyLabel: 258 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, {
                l10n: [this.props.groupsInCommon.length, 38],
              }),
              children: (0, s.b)(2, g.c, {
                items: this.props.groupsInCommon,
                keyOf: yi,
                search: t,
                estimatedItemHeight: D.b,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        Si = (0, d.e)(gi);
      function yi(t) {
        return t.jid;
      }
      var _i = i(524),
        bi = "Xf",
        xi = i(525),
        wi = "open",
        Oi = "closed",
        ki = "closed_today",
        Ci = "open_appointment",
        Ni = "open_24h",
        Ii = (t) => {
          var e = t.config,
            i = t.timezoneOffset,
            r = {};
          return (
            e.forEach((t) => {
              var e = t.day_of_week,
                i = t.mode;
              if ("specific_hours" === i) {
                var s = t.open_time,
                  n = t.close_time;
                r[e] || (r[e] = { mode: i, hours: [] }),
                  null != s &&
                    null != n &&
                    r[e].hours &&
                    r[e].hours.push([s, n]);
              } else r[e] = { mode: i };
            }),
            { config: r, timezoneOffset: i }
          );
        },
        Ei = i(295),
        Ti = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props.url;
            t.setCenterLabel(903, () => {
              (0, Ei.a)(e, i);
            });
          }
          render() {
            var t = this.props,
              e = t.title,
              i = t.selected;
            return (0, s.f)(1, "div", i ? "XL" : "XK", e, 0);
          }
        },
        Mi = i(43),
        Li = i(24),
        Ai = { name: "HMAC", hash: { name: "SHA-1" } },
        Ui = "gme-whatsappinc";
      function Ri(t, e) {
        var i = new URL(t);
        return (
          e &&
            Object.keys(e).forEach((t) => {
              var r = e[t];
              r && i.searchParams.append(t, r.toString());
            }),
          i
        );
      }
      function Pi(t) {
        var e = "LM4NgcjF-X_EedaZ6MwPVSH0Sac="
            .replace(/-/g, "+")
            .replace(/_/g, "/"),
          i = (0, Mi.b)(e),
          r = t.pathname + t.search,
          s = Li.a.build(r).readByteArray();
        return Promise.resolve()
          .then(() => {
            return (
              (t = i),
              self.crypto.subtle
                .importKey(
                  "raw",
                  (function (t) {
                    return "string" == typeof t
                      ? new Uint8Array((0, Mi.b)(t))
                      : t instanceof ArrayBuffer
                      ? new Uint8Array(t)
                      : t;
                  })(t),
                  Ai,
                  !1,
                  ["sign"]
                )
                .then((t) => t)
            );
            var t;
          })
          .then((t) => {
            return (e = t), (i = s), self.crypto.subtle.sign(Ai, e, i);
            var e, i;
          })
          .then(
            (e) => (
              t.searchParams.append("signature", (0, Mi.e)(e)), t.toString()
            )
          );
      }
      var Gi = i(78),
        Fi = i(514),
        Di = i(147),
        zi = i(163);
      function Vi(t) {
        return t ? { blob: t, uri: (0, zi.a)(t) } : { blob: null, uri: null };
      }
      function Ki(t) {
        t.uri && (0, zi.b)(t.uri);
      }
      var ji = class extends n.a {
        static getDerivedStateFromProps(t, e) {
          return (function (t, e) {
            return e.blob !== t ? (Ki(e), Vi(t)) : null;
          })(t.blob, e);
        }
        constructor(t) {
          super(t), (this.state = Vi(t.blob));
        }
        componentWillUnmount() {
          Ki(this.state);
        }
        render() {
          var t = this.props,
            e = t.className,
            i = t.children,
            r = t.style,
            a = Object.assign(
              {
                backgroundImage: this.state.uri
                  ? `url('${this.state.uri}')`
                  : null,
              },
              r
            );
          return (0, s.f)(1, "div", e, i, 0, { style: n.h(a) });
        }
      };
      function Bi(t) {
        return t ? { blob: t, uri: (0, zi.a)(t) } : { blob: null, uri: null };
      }
      function Wi(t) {
        t.uri && (0, zi.b)(t.uri);
      }
      var Hi = class extends n.a {
          static getDerivedStateFromProps(t, e) {
            return (function (t, e) {
              return e.blob !== t ? (Wi(e), Bi(t)) : null;
            })(t.blob, e);
          }
          constructor(t) {
            super(t), (this.state = Bi(t.blob));
          }
          componentWillUnmount() {
            Wi(this.state);
          }
          render() {
            var t = this.props,
              e = t.className,
              i = t.style,
              r = t.autoPlay,
              a = t.loop,
              l = t.muted;
            return (0, s.f)(1, "video", e, null, 1, {
              src: this.state.uri,
              style: n.h(i),
              autoPlay: r,
              loop: a,
              muted: l,
            });
          }
        },
        Ji = i(357);
      function $i(t, e) {
        var i = t / e;
        return i >= 6.4 ? 8 : i >= 3.2 ? 4 : i >= 1.6 ? 2 : 1;
      }
      function Yi(t, e, i) {
        var r;
        return (
          null != i && (r = t && e ? (i * e) / t || 1 : i),
          null != r ? r + "px" : void 0
        );
      }
      function qi(t) {
        var e = { height: Yi(t.width, t.height, t.parentWidth) };
        return (
          t.isReady || (e.filter = "blur(5px)"),
          t.bgColor && (e.backgroundColor = t.bgColor),
          null == t.width &&
            null != t.parentWidth &&
            (e.width = t.parentWidth + "px"),
          (0, s.f)(
            1,
            "div",
            (0, Mt.a)("Jh", "visible" === t.overflow && "Ji", t.className),
            (0, s.b)(2, Xi, {
              previewId: t.previewId,
              style: e,
              children: t.children,
            }),
            2,
            { style: n.h(t.style) }
          )
        );
      }
      function Xi(t) {
        return (0, s.b)(2, Di.a, {
          props: t,
          promise: (0, Ji.c)(t.previewId),
          fallback: Qi,
          render: Qi,
        });
      }
      function Qi(t, e) {
        return (0, s.b)(2, ji, {
          blob: e,
          className: "Jj",
          style: t.style,
          children: t.children,
        });
      }
      function Zi(t) {
        var e = t.content,
          i = t.parentWidth,
          r = t.className,
          n = t.style,
          a = e.width && i ? $i(e.width, i) : void 0;
        return (0, s.b)(2, qi, {
          previewId: e.preview,
          isReady: "ready" === e.mediaStatus.type,
          width: e.width,
          height: e.height,
          parentWidth: i,
          className: r,
          style: n,
          bgColor: e.bg,
          children: (0, s.b)(2, sr, { content: e, sampleSize: a }),
        });
      }
      var tr = class extends n.a {
        constructor() {
          var t;
          return (t = super(...arguments)), (this.videoLock = null), t;
        }
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.contentRef !== t.contentRef ||
              i.parentWidth !== t.parentWidth ||
              i.parentHeight !== t.parentHeight ||
              i.rotation !== t.rotation)
          );
        }
        componentDidMount() {
          this.videoLock = (0, Fi.lockVideoProcessing)();
        }
        componentWillUnmount() {
          this.videoLock && this.videoLock.resolve();
        }
        render() {
          var t = this.props,
            e = t.contentRef,
            i = t.parentWidth,
            r = t.parentHeight,
            n = t.rotation,
            a = (function (t, e, i) {
              var r = t,
                s = e;
              return (
                (90 !== i && 270 !== i) || ((r = e), (s = t)),
                { width: r + "px", height: s + "px" }
              );
            })(i, r, n),
            l = (function (t) {
              switch (t) {
                case 90:
                  return "Jm";
                case 180:
                  return "Jn";
                case 270:
                  return "Jo";
              }
              return null;
            })(n);
          return (0, s.b)(2, Di.a, {
            props: {
              className: l,
              style: a,
              autoPlay: !0,
              loop: !0,
              muted: !0,
            },
            promise: (0, Ji.a)(e),
            render: er,
          });
        }
      };
      function er(t, e) {
        return e
          ? (0, s.b)(2, Hi, {
              blob: e,
              className: t.className,
              style: t.style,
              autoPlay: t.autoPlay,
              loop: t.loop,
              muted: t.muted,
            })
          : null;
      }
      var ir = 500,
        rr = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { playing: !1 }),
              (this.play = new Gi.a(() => {
                this.setState({ playing: !0 });
              })),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.autoplay !== t.autoplay || i.content !== t.content)) ||
              (r !== e && r.playing !== e.playing)
            );
          }
          componentDidMount() {
            this.props.autoplay && this.play.debounce(ir);
          }
          componentDidUpdate(t) {
            this.props.autoplay
              ? this.props.autoplay && !t.autoplay && this.play.debounce(ir)
              : (this.play.cancel(),
                this.state.playing && this.setState({ playing: !1 }));
          }
          componentWillUnmount() {
            this.play.cancel();
          }
          render() {
            var t,
              e = this.props.content,
              i = this.state.playing,
              r = (function (t) {
                var e = D.j,
                  i = D.h;
                if (t.width && t.height) {
                  var r = t.height / t.width;
                  r > D.i
                    ? ((i = D.h), (e = D.h / r))
                    : ((e = D.j), (i = D.j * r));
                }
                var s = { width: e + "px", height: i + "px" };
                return (
                  i < D.k && (s.marginTop = (D.k - i) / 2 + "px"),
                  { width: e, height: i, style: s }
                );
              })(e);
            if (i && "ready" === e.mediaStatus.type)
              t = (0, s.b)(2, tr, {
                contentRef: e.mediaStatus.ref,
                rotation: e.rotation,
                parentWidth: r.width,
                parentHeight: r.height,
              });
            else if (e.highResPreview) {
              var n = e.width && r.width ? $i(e.width, r.width) : void 0;
              t = (0, s.b)(2, sr, { content: e, sampleSize: n });
            }
            return (0, s.b)(2, qi, {
              previewId: e.preview,
              isReady: "ready" === e.mediaStatus.type,
              width: e.width,
              height: e.height,
              parentWidth: r.width,
              className: "Jl",
              style: r.style,
              bgColor: e.bg,
              children: t,
            });
          }
        };
      function sr(t) {
        return "ready" !== t.content.mediaStatus.type
          ? null
          : (0, s.b)(2, Di.a, {
              props: { sampleSize: t.sampleSize },
              promise: (0, Ji.b)(t.content.highResPreview),
              render: nr,
            });
      }
      function nr(t, e) {
        return e
          ? (0, s.b)(2, it.b, {
              blob: e,
              sampleSize: t.sampleSize,
              className: "Jk",
            })
          : null;
      }
      var ar = class extends n.a {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.previewId !== t.previewId ||
              i.className !== t.className ||
              i.bgColor !== t.bgColor)
          );
        }
        render() {
          return (0, s.b)(2, qi, {
            previewId: this.props.previewId,
            isReady: !0,
            className: this.props.className,
            bgColor: this.props.bgColor,
          });
        }
      };
      function lr(t) {
        var e = t.width,
          i = t.parentWidth,
          r = t.src;
        r && e && i && (r = `${r}#-moz-samplesize=${$i(e, i)}`);
        var n =
          null == r ? null : (0, s.f)(1, "img", "Jk", null, 1, { src: r });
        return (0, s.b)(2, qi, {
          previewId: t.previewId,
          isReady: t.isReady || null != n,
          width: e,
          height: t.height,
          parentWidth: i,
          className: t.className,
          style: t.style,
          bgColor: t.bgColor,
          children: n,
        });
      }
      var or = class extends d.b {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.NR = !1),
            (this.state = { imgSrcUrl: null }),
            (this.NS = (t, e) => {
              hr(t, e, D.j, D.h).then((i) => {
                this.NR &&
                  this.setState((r) =>
                    this.props.content.lat !== t || this.props.content.lng !== e
                      ? null
                      : { imgSrcUrl: i }
                  );
              });
            }),
            t
          );
        }
        shouldComponentUpdate(t, e) {
          var i = this.props,
            r = this.state;
          return (
            (i !== t &&
              (i.selected !== t.selected ||
                i.previewHeight !== t.previewHeight ||
                i.content !== t.content ||
                i.children !== t.children)) ||
            (r !== e && r.imgSrcUrl !== e.imgSrcUrl)
          );
        }
        componentDidMount() {
          this.NR = !0;
          var t = this.props.content,
            e = t.lat,
            i = t.lng;
          this.NS(e, i), super.componentDidMount();
        }
        componentDidUpdate(t, e) {
          var i = t.content,
            r = this.props.content,
            s = r.lat,
            n = r.lng;
          (i.lat === s && i.lng === n) || this.NS(s, n),
            super.componentDidUpdate(t, e);
        }
        componentWillUnmount() {
          (this.NR = !1), super.componentWillUnmount();
        }
        addSoftKeys(t, e) {
          var i = this.props.content;
          t.setCenterLabel(945, () => {
            (0, Ei.a)(e, ur(i));
          });
        }
        render() {
          return (0, s.b)(2, lr, {
            previewId: this.props.content.preview,
            src: this.state.imgSrcUrl,
            style: { height: this.props.previewHeight || D.h + "px" },
          });
        }
      };
      function ur(t) {
        var e,
          i = t.lat,
          r = t.lng,
          s = t.name,
          n = t.address;
        return (e = n ? (s ? `${s}, ${n}` : n) : s)
          ? `${_e.n}${encodeURIComponent(e)}/@${i},${r}`
          : `${_e.m}${i},${r}`;
      }
      function hr(t, e, i, r, s) {
        return Pi(
          Ri("https://maps.googleapis.com/maps/api/staticmap", {
            zoom: null != s ? s : 14,
            size: Math.round(i / 2) + "x" + (Math.round(r / 2) + 50),
            scale: 2,
            language: (0, le.d)().lg,
            client: Ui,
            markers: "color:red|size:tiny|" + t + ", " + e,
          })
        );
      }
      var cr = i(292);
      function dr(t) {
        var e = (function (t) {
          switch (t.status) {
            case Ni:
              return (0, s.b)(2, o.b, { l10n: 74 });
            case Ci:
              return (0, s.b)(2, o.b, { l10n: 75 });
            case Oi:
              return t.opensAt
                ? (0, s.b)(2, o.b, { l10n: [t.opensAt, 23] })
                : (0, s.b)(2, o.b, { l10n: 72 });
            case ki:
              return (0, s.b)(2, o.b, { l10n: 73 });
            case wi:
              if (t.openUntil && t.additionalOpen && t.additionalClose)
                return (0, s.b)(2, o.b, {
                  l10n: [t.additionalClose, t.additionalOpen, t.openUntil, 25],
                });
              if (t.openUntil)
                return (0, s.b)(2, o.b, { l10n: [t.openUntil, 24] });
          }
          return null;
        })(t.openState);
        return null == e ? null : (0, s.f)(1, "div", "Xs", e, 0);
      }
      var vr = class extends cr.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ye = (t) => {
                var e = {
                  text: () => this.props.value,
                  left: 861,
                  onSoftLeft: "CLOSE",
                };
                (0, b.g)(e);
              }),
              t
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              this.Ye(e);
            });
          }
          render() {
            var t = this.props.value;
            return (0, s.b)(2, ut.a, {
              textClassName: "Xq FX FS",
              maxLineClassName: "Xr",
              truncated: !0,
              children: t,
            });
          }
        },
        pr = class extends cr.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.XM = !1),
              (this.state = { info: null, items: [], status: "loading" }),
              (this.XN = () => {
                var t = this.props,
                  e = t.backend,
                  i = t.jid;
                e.sendAndReceive("backend", "queryBusinessProfile", { jid: i })
                  .then((t) => {
                    if (this.XM)
                      if (t && 0 !== Object.keys(t).length) {
                        var e = this.XO(t);
                        this.setState({ info: t, items: e, status: "done" });
                      } else this.setState({ status: "error" });
                  })
                  .catch(() => {
                    this.XM && this.setState({ status: "error" });
                  });
              }),
              (this.XO = (t) => {
                var e = [];
                if (
                  (null != (null == t ? void 0 : t.description) &&
                    e.push({
                      type: "description",
                      description: null == t ? void 0 : t.description,
                    }),
                  null != (null == t ? void 0 : t.business_hours))
                ) {
                  var i = (function (t) {
                    var e = new Date(),
                      i = t.config[xi.b[e.getDay()]];
                    if (!i) return { status: ki };
                    switch (i.mode) {
                      case xi.a.CLOSED:
                        return { status: Oi };
                      case xi.a.OPEN_24H:
                        if (i) return { status: Ni };
                        break;
                      case xi.a.APPOINTMENT_ONLY:
                        if (i) return { status: Ci };
                        break;
                      case xi.a.SPECIFIC_HOURS:
                        var r, s;
                        if (null == t.timezoneOffset)
                          return { status: "unknown" };
                        var n = t.timezoneOffset,
                          a = 60 * e.getHours() + e.getMinutes(),
                          l = (0, Ce.c)();
                        if (1 === (null == (r = i.hours) ? void 0 : r.length)) {
                          var o = i.hours[0][0] - n,
                            u = i.hours[0][0],
                            h = i.hours[0][1] - n,
                            c = i.hours[0][1];
                          return a >= o && a <= h
                            ? { status: wi, openUntil: (0, Ce.g)(c, l) }
                            : a <= o
                            ? { status: Oi, opensAt: (0, Ce.g)(u, l) }
                            : { status: Oi };
                        }
                        if (2 === (null == (s = i.hours) ? void 0 : s.length)) {
                          var d = i.hours[0][0] - n,
                            v = i.hours[0][0],
                            p = i.hours[0][1] - n,
                            f = i.hours[0][1],
                            m = i.hours[1][0] - n,
                            g = i.hours[1][0],
                            S = i.hours[1][1] - n,
                            y = i.hours[1][1];
                          if (a >= d && a <= p) {
                            var _ = (0, Ce.g)(f, l),
                              b = (0, Ce.g)(g, l),
                              x = (0, Ce.g)(y, l);
                            return {
                              status: wi,
                              openUntil: _,
                              additionalOpen: b,
                              additionalClose: x,
                            };
                          }
                          return a < d
                            ? {
                                status: Oi,
                                opensAt: (0, Ce.g)(v, l),
                                additionalOpen: (0, Ce.g)(g, l),
                                additionalClose: (0, Ce.g)(y, l),
                              }
                            : a >= m && a <= S
                            ? { status: wi, openUntil: (0, Ce.g)(y, l) }
                            : a < m
                            ? { status: Oi, opensAt: (0, Ce.g)(g, l) }
                            : { status: Oi };
                        }
                    }
                    return { status: "unknown" };
                  })(Ii(t.business_hours));
                  i &&
                    "unknown" !== i.status &&
                    e.push({ type: "openState", openState: i });
                }
                if (null != (null == t ? void 0 : t.categories)) {
                  var r =
                    null == t
                      ? void 0
                      : t.categories
                          .map((t) => t.localized_display_name)
                          .join(", ");
                  e.push({ type: "category", category: r });
                }
                if (null != (null == t ? void 0 : t.business_hours)) {
                  var s = (function (t) {
                    var e = t.config,
                      i = new Date().getDay();
                    return xi.b.map((t, r) => {
                      var s = (i + r) % xi.b.length,
                        n = xi.b[s],
                        a = (0, Ce.a)(s, (0, Ce.c)()),
                        l = (function (t) {
                          switch (t && t.mode) {
                            case xi.a.SPECIFIC_HOURS:
                              return Object.assign(
                                { mode: xi.a.SPECIFIC_HOURS },
                                t &&
                                  t.hours && {
                                    hours: t.hours.map((t) =>
                                      t
                                        .map((t) => (0, Ce.g)(t, (0, Ce.c)()))
                                        .join(" - ")
                                    ),
                                  }
                              );
                            case xi.a.APPOINTMENT_ONLY:
                              return { mode: xi.a.APPOINTMENT_ONLY };
                            case xi.a.OPEN_24H:
                              return { mode: xi.a.OPEN_24H };
                            default:
                              return { mode: xi.a.CLOSED };
                          }
                        })(e[n]);
                      return {
                        day: a,
                        hours: l.hours,
                        mode: l.mode,
                        first: 0 === r,
                      };
                    });
                  })(Ii(t.business_hours));
                  e.push({ type: "businessHours", businessHours: s });
                }
                if (null != (null == t ? void 0 : t.address)) {
                  var n = { address: t.address, lat: void 0, long: void 0 };
                  null != (null == t ? void 0 : t.latitude) &&
                    null != (null == t ? void 0 : t.longitude) &&
                    ((n.lat = null == t ? void 0 : t.latitude),
                    (n.long = null == t ? void 0 : t.longitude)),
                    e.push({ type: "location", location: n });
                }
                return (
                  null != (null == t ? void 0 : t.website) &&
                    e.push({
                      type: "website",
                      website: null == t ? void 0 : t.website[0],
                    }),
                  null != (null == t ? void 0 : t.email) &&
                    e.push({
                      type: "email",
                      email: null == t ? void 0 : t.email,
                    }),
                  e
                );
              }),
              (this.XP = (t, e) => {
                switch (t.type) {
                  case "website":
                    return (0, s.b)(2, y.k, {
                      selected: e,
                      children: (0, s.b)(2, Ti, {
                        selected: e,
                        url:
                          ((c = t.website),
                          "https://l.wl.co/l?u=" + encodeURIComponent(c)),
                        title: t.website,
                      }),
                    });
                  case "email":
                    return (0, s.b)(2, y.k, {
                      selected: e,
                      children: (0, s.b)(2, Ti, {
                        selected: e,
                        url: "mailto:" + t.email,
                        title: t.email,
                      }),
                    });
                  case "location":
                    var i = t.location,
                      r = i.lat,
                      n = i.long,
                      a = i.address;
                    return (0, s.b)(2, y.k, {
                      selected: e,
                      children: [
                        "string_address" === (null == a ? void 0 : a.type) &&
                          (0, s.f)(1, "div", "Xe", a.address, 0),
                        "structured_address" ===
                          (null == a ? void 0 : a.type) &&
                          (0, s.f)(
                            1,
                            "div",
                            "Xe",
                            [
                              a.street_address,
                              (0, s.f)(1, "br"),
                              a.localized_city_name,
                              (0, s.f)(1, "br"),
                              a.zip_code,
                            ],
                            0
                          ),
                        r && n
                          ? (0, s.b)(2, or, {
                              previewHeight: "60px",
                              selected: e,
                              content: {
                                lat: r,
                                lng: n,
                                type: "location",
                                preview: null,
                              },
                            })
                          : null,
                      ],
                    });
                  case "businessHours":
                    var l = t.businessHours.find((t) => t.first);
                    if (!l || null == (null == l ? void 0 : l.mode))
                      return null;
                    var u = l.mode,
                      h = l.hours;
                    return (0, s.b)(2, y.a, {
                      rawTitle: (0, s.b)(2, o.b, { l10n: 76, className: bi }),
                      rawSubtitle: (0, s.f)(
                        1,
                        "div",
                        "Xc",
                        [
                          (0, s.f)(
                            1,
                            "div",
                            null,
                            null == l ? void 0 : l.day,
                            0
                          ),
                          (0, s.f)(
                            1,
                            "div",
                            "Xd",
                            this.getL10nTextFromBusinessHourMode({
                              mode: u,
                              hours: h,
                            }),
                            0
                          ),
                        ],
                        4
                      ),
                      selected: e,
                    });
                  case "openState":
                    return t.openState
                      ? (0, s.b)(2, y.k, {
                          selected: e,
                          children: (0, s.b)(2, dr, { openState: t.openState }),
                        })
                      : null;
                  case "description":
                    return (0, s.b)(2, y.a, {
                      rawTitle: (0, s.b)(2, o.b, { l10n: 67, className: bi }),
                      rawSubtitle: (0, s.b)(2, vr, {
                        selected: e,
                        value: t.description,
                      }),
                      selected: e,
                    });
                  case "category":
                    return (0, s.b)(2, y.a, {
                      rawTitle: (0, s.b)(2, o.b, { l10n: 114, className: bi }),
                      rawSubtitle: t.category,
                      selected: e,
                    });
                  default:
                    return (0, m.a)(t);
                }
                var c;
              }),
              t
            );
          }
          componentDidMount() {
            (this.XM = !0), this.XN(), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.XM = !1), super.componentWillUnmount();
          }
          getL10nTextFromBusinessHourMode(t) {
            var e = t.mode,
              i = t.hours;
            return e === xi.a.APPOINTMENT_ONLY
              ? (0, s.b)(2, o.b, { l10n: 70 })
              : e === xi.a.OPEN_24H
              ? (0, s.b)(2, o.b, { l10n: 74 })
              : e === xi.a.CLOSED
              ? (0, s.b)(2, o.b, { l10n: 71 })
              : e === xi.a.SPECIFIC_HOURS && null != i
              ? (0, s.f)(
                  1,
                  "div",
                  null,
                  i.map((t) => (0, s.f)(1, "div", null, t, 0, null, t)),
                  0
                )
              : void 0;
          }
          addSoftKeys(t, e) {
            t.setLeftLabel(861, e.goBack);
          }
          render() {
            var t,
              e = this.state,
              i = e.items,
              r = e.status;
            return (
              (t =
                "error" === r
                  ? (0, s.f)(1, "div", "Xg", (0, s.b)(2, o.b, { l10n: 77 }), 2)
                  : "done" === r
                  ? (0, s.b)(2, g.c, {
                      className: "Xb",
                      items: i,
                      keyOf: (t) => t.type,
                      estimatedItemHeight: D.b,
                      emptyLabel: 77,
                      renderItem: this.XP,
                    })
                  : (0, s.b)(2, _i.a)),
              (0, s.b)(2, S.a, {
                title: (0, s.b)(2, o.b, { l10n: 69 }),
                children: t,
              })
            );
          }
        },
        fr = (0, l.b)((0, d.e)(pr), (t, e) =>
          Object.assign({}, e, { backend: t })
        ),
        mr = i(552),
        gr = i(392),
        Sr = i(196),
        yr = i(15),
        _r = i(267),
        br = i(42),
        xr = i(199),
        wr = i(218),
        Or = i(370),
        kr = i(96),
        Cr = [
          "text",
          "vcard",
          "location",
          "image",
          "video",
          "voice",
          "gif",
          "sticker",
          "document",
          "rich_hsm",
          "poll",
          "group_invite",
        ];
      function Nr(t) {
        return !Ir(t, br.d.JOINED_WITH_NEXT);
      }
      function Ir(t, e) {
        return Boolean(t & e);
      }
      function Er(t) {
        return null != t && "frequently-forwarded" === t.status;
      }
      function Tr(t) {
        return null != t && "will-become-frequently-forwarded" === t.status;
      }
      function Mr(t, e, i) {
        (function (t) {
          switch (t.content.type) {
            case "text":
            case "vcard":
            case "image":
            case "sticker":
            case "voice":
            case "video":
            case "gif":
            case "location":
            case "futureproof":
            case "revoked":
            case "ciphertext":
            case "placeholder":
            case "group_invite":
            case "rich_hsm":
            case "document":
            case "ephemeral_change":
            case "ephemeral_change_fail":
            case "contact_block_change":
            case "poll":
              return !0;
            default:
              return !1;
          }
        })(i) &&
          t.addNamed("msgInfo", 198, () => {
            e.openMsgInfo(i);
          });
      }
      function Lr(t, e, i, r, s, n) {
        if (
          ((function (t) {
            switch (t.content.type) {
              case "text":
              case "vcard":
              case "image":
              case "sticker":
              case "voice":
              case "video":
              case "gif":
              case "location":
              case "revoked":
              case "futureproof":
              case "group_invite":
              case "rich_hsm":
              case "document":
              case "poll":
                return !0;
              default:
                return !1;
            }
          })(s) &&
            t.childMenu(
              (function (t) {
                var e = t.chat,
                  i = t.msg,
                  r = t.backend,
                  s = t.contacts,
                  n = new K.a(196);
                n.add(238, r.deleteChatMsgs, e.id, [i.id]);
                var a = Ur(i, e);
                return (
                  null != a &&
                    n.add(237, () => {
                      "sender" === a
                        ? r.senderRevokeChatMsgs(e.jid, [i.id])
                        : r.adminRevokeChatMsg(e.jid, i, s);
                    }),
                  n
                );
              })({ chat: n, msg: s, backend: e, contacts: i })
            ),
          (function (t) {
            return (
              ("text" === t.content.type &&
                !(null == (e = t.content.linkPreview) ||
                null == (i = e.suspiciousCharacters)
                  ? void 0
                  : i.size)) ||
              ("vcard" === t.content.type && !t.content.isMMS) ||
              "location" === t.content.type ||
              ((("image" === t.content.type && !Dr(t.content)) ||
                ("video" === t.content.type && !Dr(t.content)) ||
                "voice" === t.content.type ||
                ("vcard" === t.content.type && t.content.isMMS) ||
                "gif" === t.content.type ||
                "sticker" === t.content.type ||
                "document" === t.content.type) &&
                "ready" === t.content.mediaStatus.type) ||
              ("rich_hsm" === t.content.type &&
                (function (t) {
                  return (
                    !t.richContent ||
                    "location" === t.richContent.type ||
                    (("image" === t.richContent.type ||
                      "video" === t.richContent.type ||
                      "document" === t.richContent.type) &&
                      "ready" === t.richContent.mediaStatus.type)
                  );
                })(t.content))
            );
            var e, i;
          })(s) &&
            (function (t, e, i) {
              e.add(197, () => Rr(t, i));
            })(s, t, e),
          e.isStarredIndexMissing() ||
            (null != s.starred
              ? t.add(204, e.unstarMessagesFromChat, [s.id], n.id)
              : null == s.starred &&
                (function (t) {
                  return (!(0, Je.m)() || !zr(t)) && Fr(t.content);
                })(s) &&
                t.add(202, e.starMessagesFromChat, [s.id], n.id)),
          (function (t, e) {
            var i;
            if (!(0, Je.m)()) return !1;
            if ("GROUP" === e.type) {
              var r = e.groupInfo;
              if (!r.isInGroup) return !1;
              if (r.announcement && !r.isAdmin) return !1;
            }
            return (
              Vr(t) &&
              null == (null == (i = t.keptInfo) ? void 0 : i.kept) &&
              Fr(t.content)
            );
          })(s, n))
        )
          t.add(199, e.keepMessagesFromChat, [s.id], n.id);
        else {
          var a = s.keptInfo,
            l = null == a ? void 0 : a.validUntil;
          null != l &&
            (function (t, e) {
              var i;
              if (!(0, Je.l)()) return !1;
              if (!(0, Je.m)() && !t.meta.fromMe) return !1;
              if ("GROUP" === e.type) {
                var r = e.groupInfo;
                if (!r.isInGroup) return !1;
                if (r.announcement && !r.isAdmin && !t.meta.fromMe) return !1;
              }
              return null != (null == (i = t.keptInfo) ? void 0 : i.kept);
            })(s, n) &&
            t.add(203, () => {
              Kr(e, n.id, [
                { msgId: s.id, validUntil: l, fromMe: !0 === s.meta.fromMe },
              ]);
            });
        }
        if ("vcard" === s.content.type && 1 === s.content.total) {
          var o = s.content.contacts[0],
            u = o.jid;
          if (u) {
            var h = o.displayName || (0, ye.d)(u);
            t.add([h, 42], () => {
              (0, Et.b)(e, u, "newest");
            });
          }
        }
        if ("GROUP" === n.type && !s.meta.fromMe) {
          var c = Br(s);
          c &&
            (Ar(t, e, i, c),
            t.add([(0, j.g)(i, c), 42], () => {
              (0, Et.a)(e, c, "newest");
            }));
        }
        var d = (function (t) {
          if ("text" === t.type) return t.content;
          if ("quote" === t.type) {
            var e = t.quoted.content;
            if ("text" === e.type) return e.text;
            if ("image" === e.type || "video" === e.type || "gif" === e.type)
              return e.caption;
            if ("location" === e.type) return Gr(e.name, e.address);
          } else if ("locationName" === t.type) {
            var i = t.content;
            return Gr(i.name, i.address);
          }
        })(r);
        d &&
          t.add(195, () => {
            Fe(d);
          }),
          (function (t) {
            var e;
            if (
              !(0, Je.c)() ||
              t.meta.fromMe ||
              (Wr(t.content) &&
                !(0, kr.c)(t) &&
                "rich_hsm" !== t.content.type &&
                "ready" !==
                  (null == (e = t.content.mediaStatus) ? void 0 : e.type))
            )
              return !1;
            switch (t.content.type) {
              case "text":
              case "audio":
              case "image":
              case "voice":
              case "gif":
              case "video":
              case "vcard":
              case "futureproof":
              case "ciphertext":
              case "placeholder":
              case "document":
                return !0;
              default:
                return t.content.type, !1;
            }
          })(s) &&
            t.add(201, () => {
              var t = Br(s);
              t &&
                (0, Or.a)(t, s, (t) => {
                  (function (t, e) {
                    var i = t.chat,
                      r = t.msg,
                      s = t.backend;
                    if ("GROUP" === i.type)
                      s.reportGroupSpam({
                        reportType: "message",
                        msgId: r.id,
                        groupChat: i,
                        spamFlow: "message_menu",
                        deleteGroup: e,
                        exitGroup: e,
                      });
                    else {
                      var n = Br(r);
                      if (null == n) return;
                      s.reportUserSpam({
                        reportType: "message",
                        msgId: r.id,
                        userJid: n,
                        spamFlow: "message_menu",
                        blockUser: e,
                        deleteChat: !1,
                      });
                    }
                  })({ chat: n, msg: s, backend: e }, t);
                });
            });
      }
      function Ar(t, e, i, r) {
        var s = (0, c.c)(r, i);
        if (!(0, c.i)(s)) {
          var n = (0, ye.d)(r);
          t.add(184, () => {
            (0, je.a)(e, { tel: n }, r);
          });
        }
      }
      function Ur(t, e) {
        var i, r;
        if (
          (null == (i = t.keptInfo) ? void 0 : i.validUntil) &&
          !(0, xr.a)(null == (r = t.keptInfo) ? void 0 : r.validUntil)
        )
          return null;
        var s = (0, Je.s)() ? _e.O * Ie.d : 4096;
        return !0 === t.meta.fromMe &&
          "revoked" !== t.content.type &&
          (0, Ie.m)(t.ts, s)
          ? "sender"
          : (0, Je.k)() &&
            "GROUP" === e.type &&
            e.groupInfo.isAdmin &&
            !0 !== t.meta.fromMe &&
            "revoked" !== t.content.type &&
            (0, Ie.m)(t.ts, _e.b * Ie.d)
          ? "admin"
          : null;
      }
      function Rr(t, e) {
        var i = t.forwarded || void 0,
          r = { msgs: [t], includesFrequentlyForwarded: Er(i) };
        Tr(i)
          ? (0, b.g)({
              title: 642,
              text: 310,
              left: 864,
              onSoftLeft: "CLOSE",
              center: 902,
              onSoftCenter: () => {
                e.openScreen("FORWARD_SCREEN", r);
              },
              right: 891,
              onSoftRight: () => (0, _.E)(e, _.l),
            })
          : e.openScreen("FORWARD_SCREEN", r);
      }
      function Pr(t, e, i) {
        var r = e.mediaStatus,
          s = e.mimetype;
        return "ready" !== r.type
          ? (__LOG__(3)`Tried to open a document on a not ready media`,
            Promise.resolve())
          : t.loadMsgContentBlob(i, r.ref).then((e) => {
              null != e
                ? (0, U.g)(t, e, s)
                : (0, b.e)({ title: 242, text: 541 });
            });
      }
      function Gr(t, e) {
        return t && e ? (0, le.h)([t, e]).join("") : t || e;
      }
      function Fr(t) {
        switch (t.type) {
          case "text":
          case "vcard":
          case "location":
          case "group_invite":
          case "sticker":
          case "voice":
          case "gif":
          case "rich_hsm":
          case "document":
          case "poll":
            return !0;
          case "image":
          case "video":
            return !Dr(t);
          default:
            return !1;
        }
      }
      function Dr(t) {
        return null != t.viewOnceState;
      }
      function zr(t) {
        var e = t.expiration;
        return null != e && e > _e.k;
      }
      function Vr(t) {
        if (!zr(t)) return !1;
        var e = t.validUntil;
        return !!e && e >= (0, Ie.D)();
      }
      function Kr(t, e, i) {
        if (0 !== i.length) {
          var r = i.filter((t) => {
            var e = t.validUntil;
            return !(0, xr.a)(e);
          });
          if (r.length > 0) {
            var s = 1 === i.length ? 510 : 511;
            (0, b.g)({
              text: s,
              left: 902,
              onSoftLeft: "CLOSE",
              right: 238,
              onSoftRight: () => {
                t.deleteChatMsgs(
                  e,
                  r.map((t) => t.msgId)
                );
              },
            });
          } else if (i.some((t) => t.fromMe)) {
            var n = 1 === i.length ? 529 : 530;
            (0, b.f)({
              text: n,
              onConfirm: () => {
                jr(t, e, i);
              },
            });
          } else jr(t, e, i);
        }
      }
      function jr(t, e, i) {
        var r,
          s,
          n = () =>
            t.unkeepMessagesFromChat(
              i.map((t) => t.msgId),
              e
            ),
          a = i.filter((t) => {
            var e = t.validUntil;
            return !(0, Ie.o)(e);
          });
        if (a.length > 0)
          return (
            1 === i.length ? ((r = 518), (s = 514)) : ((r = 519), (s = 515)),
            void (0, b.g)({
              title: r,
              text: s,
              left: 864,
              onSoftLeft: "CLOSE",
              right: 516,
              onSoftRight: () => {
                n(),
                  a.forEach((t) => {
                    var e = t.msgId;
                    (0, wr.d)(e);
                  }),
                  (0, b.e)({ text: 517 });
              },
            })
          );
        n();
      }
      function Br(t) {
        if ("gp2" === t.content.type)
          switch (t.content.subtype) {
            case "promote":
            case "demote":
            case "invite":
            case "description":
            case "description_remove":
            case "revoke_invite":
            case "delete":
            case "announce":
            case "restrict":
              return null;
          }
        return t.meta.author;
      }
      function Wr(t) {
        return (
          "image" === t.type ||
          "video" === t.type ||
          "gif" === t.type ||
          "voice" === t.type ||
          ("vcard" === t.type && t.isMMS) ||
          "document" === t.type ||
          ("rich_hsm" === t.type &&
            !!t.richContent &&
            ("image" === t.richContent.type ||
              "video" === t.richContent.type ||
              "document" === t.richContent.type))
        );
      }
      var Hr = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M9 2C5.15 2 2 5.15 2 9s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7zm2.94 9.94L8.3 9.7V5.5h1.05v3.64l3.15 1.89-.56.91z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        Jr = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d: "m6.3 9.2-2.5 1.7c-.3.2-.8-.1-.7-.5L4 7.6c.1-.2 0-.4-.2-.5L1.5 5.3c-.4-.3-.2-.8.2-.8l3-.1c.2 0 .3-.1.4-.3l1-2.8c.1-.4.7-.4.8 0l1 2.8c.1.2.2.3.4.3l3 .1c.4 0 .6.5.3.8L9.2 7.1c-.1.1-.2.3-.2.5l.9 2.9c.1.4-.3.7-.7.5L6.7 9.3c-.1-.2-.3-.2-.4-.1z",
            }),
            2,
            { viewBox: "0 0 13 13" }
          );
        },
        $r = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d: "M25.5 4.5h-15a2.996 2.996 0 00-2.985 3l-.015 24L18 27l10.5 4.5v-24c0-1.65-1.35-3-3-3z",
            }),
            2,
            { viewBox: "0 0 36 36" }
          );
        },
        Yr = i(211),
        qr = "MZ FX FS FY FU",
        Xr = "Ma Ie";
      function Qr(t) {
        if (t.user)
          return (0, s.f)(
            1,
            "div",
            (0, Mt.a)(qr, t.isSticker && Xr),
            [(0, s.b)(2, o.b, { l10n: 181 }), t.origin],
            0,
            { style: n.h({ color: (0, j.c)(t.user.jid) }) }
          );
        var e = null,
          i = null,
          r = t.contacts[t.author];
        return (
          r &&
            (0, be.c)(r) &&
            (D.f
              ? (e = (0, s.b)(2, be.b, {
                  contact: r,
                  className: "Mc Mb FX FS FY FU",
                }))
              : (i = (0, s.b)(2, be.b, {
                  contact: r,
                  className: "Md Mb FX FS FY FU",
                }))),
          (0, s.f)(
            1,
            "div",
            (0, Mt.a)("MY", t.isSticker && Xr),
            [
              (0, s.f)(
                1,
                "div",
                qr,
                [
                  (0, s.f)(1, "span", null, (0, j.f)(t.contacts, t.author), 0),
                  e,
                  t.origin,
                ],
                0,
                { style: n.h({ color: (0, j.c)(t.author) }) }
              ),
              i,
            ],
            0
          )
        );
      }
      var Zr = i(32),
        ts = i(9),
        es = i(396),
        is = i(307),
        rs = i(414),
        ss = i(183),
        ns = i(405),
        as = i(269),
        ls = i(359),
        os = i(404),
        us = i(393),
        hs = i(360),
        cs = i(432),
        ds = i(319),
        vs = i(433),
        ps = i(121),
        fs = i(8),
        ms = i.n(fs),
        gs = i(303),
        Ss = i(395),
        ys = i(512),
        _s = i(537),
        bs = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "m17.5 7.8-6.7-6.7c-.5-.5-1.2-.5-1.7 0L2.4 7.8c-.6.6-.2 1.7.7 1.7h4.5v8.2c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V9.5h4.5c1 0 1.4-1 .7-1.7z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        },
        xs = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M13.407 3.076a.26.26 0 01.37 0l1.147 1.152a.26.26 0 010 .369l-4.407 4.406 4.407 4.405a.26.26 0 010 .37l-1.148 1.146a.26.26 0 01-.37 0L9 10.518l-4.407 4.406a.26.26 0 01-.369 0l-1.147-1.147a.26.26 0 010-.369l4.406-4.405-4.407-4.406a.26.26 0 010-.369l1.148-1.151a.26.26 0 01.37 0L9 7.481l4.407-4.406z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        ws = i(301),
        Os = "OI";
      function ks(t, e) {
        return null != t
          ? (0, s.f)(
              1,
              "div",
              "OL",
              [e, (0, s.b)(2, Nt.a, { className: "OM", size: t })],
              0
            )
          : e;
      }
      var Cs = { progress: void 0 },
        Ns = (0, s.b)(2, ys.a, { className: Os }),
        Is = (0, s.b)(
          2,
          (t) => {
            var e = t.className;
            return (0, s.f)(
              32,
              "svg",
              e,
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M20.7 6.9h4.6c.7 0 1.1-.5 1-1.2-.1-.5-.5-.8-1.1-.8h-5.4c-.8 0-1.3.4-1.3 1.3v7.9c0 .4.2.8.5 1 .7.4 1.6-.1 1.6-1v-3h4.1c.5 0 .8-.3.9-.7.1-.4 0-.9-.4-1.1-.2-.1-.5-.2-.7-.2h-3.8V6.9zM9.2 11.4v1.4c0 .2-.1.3-.2.3-.5.3-1 .4-1.6.5-1.4.1-2.7-.6-3.3-1.9-.3-.6-.3-1.3-.2-2 .2-1.8 1.8-3 3.5-2.7.6.1 1.2.3 1.7.7.3.2.6.3.9.2.4-.1.7-.4.8-.8.1-.5-.1-.9-.5-1.1-1.4-1-3-1.2-4.6-.8-3.5.8-5 4.4-3.7 7.4.9 1.9 2.4 2.9 4.5 3 1.4.1 2.7-.3 3.9-1 .5-.3.8-.7.8-1.2v-2.8c0-.5-.4-1-.9-1H7.4c-.4 0-.7.3-.8.7-.1.4 0 .8.4 1 .2.1.4.1.6.2.5-.1 1.1-.1 1.6-.1zm6.6-1.2V6c0-.5-.4-.9-.8-1-.5-.1-1 .1-1.2.6-.1.2-.1.4-.1.6v8.2c0 .4.4.8.8.9.7.1 1.3-.3 1.3-1.1v-4z",
                "clip-rule": "evenodd",
              }),
              2,
              { viewBox: "0 0 28 20" }
            );
          },
          { className: "OJ OI" }
        ),
        Es = (0, s.f)(1, "div", "OK OI");
      function Ts(t) {
        var e = t.mediaStatus,
          i = t.meta,
          r = t.size,
          n = t.onReady,
          a = null,
          l = null;
        switch (e.type) {
          case "idle":
            l = i.fromMe
              ? (0, br.l)(i.ack)
                ? (0, s.b)(2, ws.a, { className: Os })
                : ks(r, (0, s.b)(2, bs, { className: Os }))
              : ks(r, (0, s.b)(2, _s.a, { className: Os }));
            break;
          case "pending":
            (a = Cs), (l = (0, s.b)(2, xs, { className: Os }));
            break;
          case "processing":
            (a = { progress: e.progress }),
              (l = (0, s.b)(2, xs, { className: Os }));
            break;
          case "ready":
            null != n && ((l = n.icon), (a = n.spinner));
            break;
          default:
            e.type,
              (l =
                "tooBig" === e.error || "notEnoughSpace" === e.error
                  ? ks(r, (0, s.b)(2, ws.a, { className: Os }))
                  : (0, s.b)(2, ws.a, { className: Os }));
        }
        if (null == l) {
          if (null == a) return (0, s.f)(1, "div");
          l = Es;
        }
        var o = (0, Mt.a)("OE", t.placement && "OF"),
          u = (0, Mt.a)("OG", t.placement && "OH");
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)(t.className, o),
          (0, s.f)(
            1,
            "div",
            u,
            [
              null == a
                ? null
                : (0, s.b)(2, Ss.a, {
                    theme: "white",
                    progress: a.progress || void 0,
                    strokeWidth: 4,
                    className: "ON",
                  }),
              l,
            ],
            0
          ),
          2
        );
      }
      var Ms = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ng = !1),
              (this.state = {
                content: null,
                originalRef: null,
                blobUri: null,
                deleted: !1,
              }),
              t
            );
          }
          static getDerivedStateFromProps(t, e) {
            var i = t.content,
              r = i.mediaStatus;
            return "ready" !== r.type
              ? { content: i, originalRef: null, blobUri: null, deleted: !1 }
              : r.ref === e.originalRef || e.deleted
              ? e
              : (e.blobUri && (0, zi.b)(e.blobUri),
                { content: i, originalRef: r.ref, blobUri: null, deleted: !1 });
          }
          componentDidMount() {
            (this.Ng = !0), this.Nh();
          }
          componentDidUpdate(t, e) {
            null != this.state.originalRef &&
              null == this.state.blobUri &&
              this.state.originalRef !== e.originalRef &&
              this.Nh();
          }
          componentWillUnmount() {
            (this.Ng = !1), this.state.blobUri && (0, zi.b)(this.state.blobUri);
          }
          Nh() {
            if (null != this.state.originalRef && null == this.state.blobUri) {
              var t = this.state.originalRef,
                e = this.props,
                i = e.backend,
                r = e.content,
                s = e.msgId,
                n = e.onBlobError,
                a = e.onBlobLoad,
                l = r.mediaStatus;
              "ready" === l.type &&
                i.loadMsgContentBlob(s, l.ref).then((e) => {
                  if (this.Ng) {
                    if (t !== this.state.originalRef) return;
                    if (this.state.blobUri || this.state.deleted) return;
                    if (null != e) {
                      var i = (0, zi.a)(e);
                      this.setState(
                        { content: r, originalRef: t, blobUri: i, deleted: !1 },
                        () => {
                          a && a(i);
                        }
                      );
                    } else
                      this.setState(
                        {
                          content: Object.assign({}, r, {
                            mediaStatus: { type: "idle" },
                          }),
                          deleted: !0,
                        },
                        () => {
                          n && n(l.ref);
                        }
                      );
                  }
                });
            }
          }
          render() {
            var t = this.state,
              e = t.content,
              i = t.blobUri;
            if (!e) return null;
            var r = this.props,
              n = r.className,
              a = r.parentWidth,
              l = r.render;
            return l
              ? l(i)
              : (0, s.b)(2, lr, {
                  previewId: e.preview,
                  src: i,
                  isReady: "ready" === e.mediaStatus.type,
                  width: e.width,
                  height: e.height,
                  parentWidth: a,
                  className: n,
                  bgColor: e.bg,
                });
          }
        },
        Ls = (0, l.j)(Ms),
        As = i(197),
        Us = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M6.7 2a3.882 3.882 0 013.051 1.254L8.475 4.519A2.567 2.567 0 006.7 3.842a1.984 1.984 0 00-2.087 2.274 2.038 2.038 0 001.835 2.223c.084.008.168.01.252.008a2.706 2.706 0 001.5-.4v-1H6.233V5.229h3.8V8.68a3.623 3.623 0 01-3.34 1.52A3.864 3.864 0 012.45 6.116 3.982 3.982 0 016.7 2m32.331.222v.1l-3.084 4.571v3.1h-2.2v-3.1L30.8 2.311v-.089h2.474l1.609 2.663 1.675-2.663h2.473m-25.57 0v7.767h-2.187V2.222h2.187m5.348 0a2.8 2.8 0 013.118 2.829c0 1.587-1.043 2.819-3.118 2.841h-1.575v2.1h-2.2v-7.77h3.773m-1.573 3.817h1.576a.887.887 0 00.921-.954.912.912 0 00-.921-.977h-1.576v1.931m12.84-3.806V10H27.9V7.06h-2.8V10h-2.2V2.233h2.2v2.951h2.8V2.233h2.174M6.7 1a4.964 4.964 0 00-5.25 5.116A4.843 4.843 0 006.689 11.2a5.24 5.24 0 003.585-1.211v1h7.96v-2.1h.576a4.3 4.3 0 003.1-1.188V11h4.2V8.06h.8V11h4.175V4.586l1.676 2.6v3.8h4.2V7.2l2.899-4.319.171-.253V1.222H36l-.294.467L34.9 2.98l-.772-1.28-.292-.483H29.8v.016h-2.9v2.951h-.8V1.233h-4.2v1.184a4.232 4.232 0 00-3.1-1.195h-8.526v1.145A4.835 4.835 0 006.7 1zm3.488 3.229.086-.085v.085h-.086z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M6.7 2a3.882 3.882 0 013.051 1.254L8.475 4.519A2.567 2.567 0 006.7 3.842a1.984 1.984 0 00-2.087 2.274 2.038 2.038 0 001.835 2.223c.084.008.168.01.252.008a2.706 2.706 0 001.5-.4v-1H6.233V5.229h3.8V8.68a3.623 3.623 0 01-3.34 1.52A3.864 3.864 0 012.45 6.116 3.982 3.982 0 016.7 2m32.331.222v.1l-3.084 4.571v3.1h-2.2v-3.1L30.8 2.311v-.089h2.474l1.609 2.663 1.675-2.663h2.473m-25.57 0v7.767h-2.187V2.222h2.187m5.348 0a2.8 2.8 0 013.118 2.829c0 1.587-1.043 2.819-3.118 2.841h-1.575v2.1h-2.2v-7.77h3.773m-1.573 3.817h1.576a.887.887 0 00.921-.954.912.912 0 00-.921-.977h-1.576v1.931m12.84-3.806V10H27.9V7.06h-2.8V10h-2.2V2.233h2.2v2.951h2.8V2.233h2.174m-19.885 2 .086-.085v.081h-.087l.001.004z",
              }),
            ],
            4,
            { viewBox: "0 0 42 12" }
          );
        },
        Rs = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M3.725 2.286a.715.715 0 01.71.72v.016c.002.57 0 1.142 0 1.712.003.047.003.096.003.157h1.92a.648.648 0 01.616.323.631.631 0 01-.46.949 1.614 1.614 0 01-.22.012H4.438v4.504c-.019.292.067.581.245.815a.94.94 0 00.616.316 2.329 2.329 0 001.052-.081.685.685 0 01.211-.034.572.572 0 01.55.381.61.61 0 01-.35.763 3.31 3.31 0 01-1.411.316 2.342 2.342 0 01-2.303-1.97 2.982 2.982 0 01-.032-.462c-.003-1.455-.003-2.91-.003-4.366v-.169c-.053-.003-.097-.008-.138-.008l-.461.002c-.115 0-.231-.001-.346-.004a.64.64 0 11-.01-1.281c.113-.003.227-.004.34-.004l.455.002c.161 0 .161 0 .161-.169v-1.7a.71.71 0 01.682-.738l.02-.001.009-.001m13.67 2.432a.707.707 0 01.378.117.664.664 0 01.33.568c.002.161 0 .318 0 .511.154-.147.279-.272.409-.389a3.092 3.092 0 012.171-.8h.038a3.16 3.16 0 011.825.536 2.894 2.894 0 011.194 1.947c.046.261.071.525.073.79.007 1.497.002 2.992.002 4.489 0 .29-.178.55-.448.656a.834.834 0 01-.28.054.654.654 0 01-.475-.208.746.746 0 01-.218-.553c.002-1.387.007-2.771-.005-4.159a3.555 3.555 0 00-.108-.82 1.786 1.786 0 00-1.617-1.397 2.906 2.906 0 00-.349-.021 2.135 2.135 0 00-1.292.403 2.252 2.252 0 00-.917 1.933c-.005 1.365 0 2.732-.002 4.097a.709.709 0 01-.695.722h-.013a.711.711 0 01-.717-.706l.001-.049V5.444a.687.687 0 01.362-.624.696.696 0 01.353-.102m18.318.005c.261-.004.5.146.609.384a.995.995 0 01.093.386c.015.272.005.546.005.819.002.042.002.081.002.127.21-.24.396-.477.611-.687a3.437 3.437 0 011.749-.949 2.447 2.447 0 01.631-.042c.394.024.7.351.697.746a.763.763 0 01-.697.751 7.512 7.512 0 00-.873.093 2.406 2.406 0 00-1.698 1.355 4.352 4.352 0 00-.421 1.979c-.005.917 0 1.835 0 2.752a.725.725 0 01-.693.753l-.019.001h-.005a.712.712 0 01-.712-.713l.001-.031V5.429a.712.712 0 01.72-.706m-6.36.002h.009a4.166 4.166 0 014.217 4.262 4.198 4.198 0 01-4.182 4.213l-.087-.001a4.245 4.245 0 01-4.19-4.283 4.168 4.168 0 014.148-4.19l.085-.001m.043 7.17a2.626 2.626 0 001.528-.476 2.873 2.873 0 001.208-2.39 3.111 3.111 0 00-.785-2.131 2.677 2.677 0 00-2.007-.881 2.713 2.713 0 00-2.095.964 3.21 3.21 0 00.078 4.004c.53.583 1.284.913 2.073.91M11.542 4.729l.078.001a3.498 3.498 0 012.556 1.076 4.016 4.016 0 011.047 2.143c.053.309.084.621.095.935a.607.607 0 01-.582.631h-.015l-.049.001-.098-.001H9.257c-.049-.002-.1-.002-.174-.002.048.422.188.828.411 1.189a2.507 2.507 0 002.253 1.223h.027a3.07 3.07 0 002.096-.837.673.673 0 01.452-.183c.213.001.41.112.522.293a.587.587 0 01-.093.761 4.016 4.016 0 01-2.405 1.199 5.49 5.49 0 01-.666.043 3.89 3.89 0 01-1.164-.168 3.823 3.823 0 01-2.676-2.688 4.387 4.387 0 01.894-4.36 3.58 3.58 0 012.808-1.256M9.11 8.282h4.748a3.265 3.265 0 00-.247-.898 2.202 2.202 0 00-2.069-1.424 2.256 2.256 0 00-1.456.519 2.927 2.927 0 00-.944 1.617c-.015.059-.02.117-.032.186M3.725 1.286h-.022a1.71 1.71 0 00-1.689 1.732v.879A1.64 1.64 0 00.771 6.58c.311.366.763.583 1.243.597l.002 3.548a3.78 3.78 0 00.045.62 3.346 3.346 0 003.454 2.806 4.3 4.3 0 001.685-.413c.426-.199.747-.569.884-1.018a5.042 5.042 0 002.136 1.268c.473.144.965.215 1.46.212.263-.001.527-.017.788-.05a5.008 5.008 0 002.99-1.484c.082-.082.156-.172.22-.269v.043a1.712 1.712 0 003.423.081v-1.805c0-.78 0-1.559.002-2.338a1.242 1.242 0 01.506-1.127c.205-.146.453-.221.705-.211.078 0 .156.005.234.014a.794.794 0 01.764.652c.048.19.073.384.076.58.011 1.21.008 2.418.006 3.628l-.001.52c-.009.475.178.934.516 1.267a1.64 1.64 0 001.177.495c.214-.001.426-.04.626-.115a1.7 1.7 0 001.102-1.594l.001-.929c.234.409.522.786.855 1.119a5.114 5.114 0 003.641 1.522 5.229 5.229 0 004.683-2.793v1.042a1.715 1.715 0 103.429.053v-.063l-.001-.919c-.001-.609-.002-1.219.001-1.828a3.34 3.34 0 01.314-1.534 1.419 1.419 0 011.015-.828c.161-.028.324-.046.487-.054.09-.006.179-.013.268-.021a1.75 1.75 0 00-.037-3.492 3.472 3.472 0 00-.885.06 4.254 4.254 0 00-1.499.611 1.657 1.657 0 00-1.373-.711 1.72 1.72 0 00-1.719 1.707v1.08a5.095 5.095 0 00-.927-1.273 5.188 5.188 0 00-3.703-1.512h-.01a5.09 5.09 0 00-4.713 2.931 3.8 3.8 0 00-1.523-2.215 4.171 4.171 0 00-2.386-.716h-.002a4.326 4.326 0 00-2.12.506 1.82 1.82 0 00-.3-.239 1.72 1.72 0 00-.916-.274 1.737 1.737 0 00-1.716 1.726v.753a4.694 4.694 0 00-.784-1.087 4.474 4.474 0 00-3.257-1.381l-.095-.001a4.598 4.598 0 00-3.503 1.532 1.702 1.702 0 00-.196-.54 1.638 1.638 0 00-1.485-.827h-.922l-.001-.873a1.71 1.71 0 00-1.688-1.732l-.022-.001zm6.963 5.996.05-.044c.228-.183.512-.281.804-.278.305-.004.599.112.82.322h-1.674zm18.707 3.612a1.792 1.792 0 01-1.326-.573 2.228 2.228 0 01-.058-2.7c.33-.389.816-.61 1.326-.604.479-.005.938.194 1.262.548.361.406.551.936.531 1.478a1.85 1.85 0 01-.79 1.562 1.604 1.604 0 01-.945.289zM5.438 7.175h.857c.119.001.239-.006.357-.022.092-.013.184-.034.273-.063a5.574 5.574 0 00-.043 3.537l.032.105a1.671 1.671 0 00-.868.044 1.338 1.338 0 01-.59.045l-.01-.002a.953.953 0 01-.008-.141V7.175zm9.99 3.171c.088-.043.172-.094.251-.152v.453a1.722 1.722 0 00-.251-.301zm-4.81.169h2.376a2.002 2.002 0 01-1.226.41 1.562 1.562 0 01-1.15-.41z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M13.858 8.282a3.265 3.265 0 00-.247-.898 2.238 2.238 0 00-3.525-.905 2.927 2.927 0 00-.944 1.617c-.015.059-.02.117-.032.186h4.748zm-4.364 2.419a2.511 2.511 0 002.28 1.223 3.07 3.07 0 002.096-.837.626.626 0 01.974.11.587.587 0 01-.093.761 4.016 4.016 0 01-2.405 1.199 4.32 4.32 0 01-1.83-.125 3.823 3.823 0 01-2.676-2.688 4.386 4.386 0 01.893-4.359A3.596 3.596 0 0111.62 4.73a3.498 3.498 0 012.556 1.076 4.016 4.016 0 011.047 2.143c.053.309.084.621.095.935a.607.607 0 01-.582.631h-.015c-.049.002-.098 0-.147 0H9.257c-.049-.002-.1-.002-.174-.002.048.421.188.827.411 1.188zm27.54-4.949a3.437 3.437 0 011.749-.949c.208-.04.42-.054.631-.042.394.024.7.351.697.746a.763.763 0 01-.697.751 7.512 7.512 0 00-.873.093 2.406 2.406 0 00-1.698 1.355 4.352 4.352 0 00-.421 1.979c-.005.917 0 1.835 0 2.752a.724.724 0 01-.693.753l-.024.001a.713.713 0 01-.713-.712l.001-.031V5.429c.003-.32.219-.6.528-.682a.675.675 0 01.8.36.995.995 0 01.093.386c.015.271.005.545.005.819.002.042.002.081.002.127.212-.239.398-.476.613-.687zM4.597 4.891h1.761a.648.648 0 01.616.323.632.632 0 01-.459.949 1.614 1.614 0 01-.22.012H4.438v4.504c-.019.292.067.581.245.815a.94.94 0 00.616.316c.352.055.712.028 1.052-.081a.59.59 0 01.759.343l.002.005a.61.61 0 01-.35.763 3.31 3.31 0 01-1.297.313 2.34 2.34 0 01-2.417-1.967 2.982 2.982 0 01-.032-.462c-.002-1.456-.003-2.912-.002-4.367v-.169c-.054-.003-.098-.008-.139-.008-.269 0-.538.005-.807-.003a.64.64 0 11-.01-1.28c.264-.007.531-.002.795-.002.161 0 .161 0 .161-.169v-1.7a.713.713 0 111.422-.003c.002.57 0 1.142 0 1.712.002.046.002.095.002.156h.159zm13.914.634a3.103 3.103 0 012.209-.8 3.16 3.16 0 011.825.536 2.894 2.894 0 011.194 1.947c.046.261.071.525.073.79.007 1.497.002 2.992.002 4.489 0 .29-.178.55-.448.656a.673.673 0 01-.756-.154.746.746 0 01-.218-.553c.002-1.387.007-2.772-.005-4.158a3.555 3.555 0 00-.108-.82 1.786 1.786 0 00-1.617-1.397 2.204 2.204 0 00-2.559 2.314c-.005 1.365 0 2.732-.002 4.097a.711.711 0 01-.993.666.744.744 0 01-.431-.697V5.444a.687.687 0 01.362-.624.71.71 0 011.062.582c.002.161 0 .318 0 .511.156-.146.28-.271.41-.388zm12.835 1.372a2.743 2.743 0 00-4.103.083 3.212 3.212 0 00.078 4.005 2.771 2.771 0 003.601.433 2.873 2.873 0 001.208-2.39 3.105 3.105 0 00-.784-2.131zm-1.984-2.172a4.166 4.166 0 014.217 4.262 4.198 4.198 0 01-4.182 4.213l-.087-.001a4.245 4.245 0 01-4.19-4.283 4.169 4.169 0 014.242-4.191z",
              }),
            ],
            4,
            { viewBox: "0 0 42 15" }
          );
        },
        Ps = "Lg";
      function Gs(t, e, i, r, s) {
        var n,
          a =
            arguments.length > 5 && void 0 !== arguments[5]
              ? arguments[5]
              : "image",
          l = arguments.length > 6 ? arguments[6] : void 0,
          o = r.mediaStatus;
        "ready" !== o.type
          ? (0, As.a)(t, null != (n = i.meta.fromMe) && n, o, {
              id: i.id,
              chatJid: s,
              origin: "chat",
            })
          : t.setCenterLabel(930, () => {
              "image" === a
                ? e.openScreen("MSG_IMAGE_VIEW", {
                    msgId: i.id,
                    contentRef: o.ref,
                  })
                : e.openScreen("MSG_STICKER_VIEW", {
                    msgId: i.id,
                    contentRef: o.ref,
                    isNotNativeSupport: l,
                  });
            });
      }
      var Fs = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.content !== t.content ||
                i.ack !== t.ack ||
                i.icons !== t.icons ||
                i.parentWidth !== t.parentWidth ||
                i.children !== t.children ||
                i.chatJid !== t.chatJid)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props;
            Gs(t, e, i.msg, i.content, i.chatJid);
          }
          render() {
            var t = this.props,
              e = t.content,
              i = (0, s.b)(2, Ts, {
                mediaStatus: e.mediaStatus,
                meta: t.msg.meta,
                size: e.size,
                onReady: void 0,
              });
            return (0, s.b)(2, Ks, {
              mediaStatusProgress: i,
              ack: t.ack,
              icons: t.icons,
              children: (0, s.b)(2, Ls, {
                className: "Ll",
                msgId: t.msg.id,
                content: e,
                parentWidth: t.parentWidth,
              }),
            });
          }
        },
        Ds = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.player !== t.player ||
                i.content !== t.content ||
                i.ack !== t.ack ||
                i.icons !== t.icons ||
                i.parentWidth !== t.parentWidth ||
                i.chatJid !== t.chatJid ||
                i.children !== t.children)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props;
            (0, _r.c)(t, e, i.msg, i.content, i.chatJid);
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.player.active,
              r =
                null != i && i.msgId === t.msg.id && i.loading
                  ? { spinner: Cs, icon: null }
                  : { spinner: null, icon: Ns },
              n = (0, s.b)(2, Ts, {
                mediaStatus: e.mediaStatus,
                meta: t.msg.meta,
                size: e.size,
                onReady: r,
              }),
              a = null != e.duration ? zs(e.duration) : null;
            return (0, s.b)(2, Ks, {
              mediaStatusProgress: n,
              badge: a,
              ack: t.ack,
              icons: t.icons,
              children: (0, s.b)(2, Zi, {
                content: e,
                className: "Ll",
                parentWidth: t.parentWidth,
              }),
            });
          }
        };
      function zs(t) {
        return (0, s.f)(
          1,
          "div",
          "Lb",
          [(0, s.b)(2, ls.a, { className: "Lc" }), (0, Ce.b)(t)],
          0
        );
      }
      var Vs = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.selected !== t.selected ||
              i.msg !== t.msg ||
              i.playGif !== t.playGif ||
              i.content !== t.content ||
              i.player !== t.player ||
              i.ack !== t.ack ||
              i.icons !== t.icons ||
              i.children !== t.children ||
              i.chatJid !== t.chatJid)
          );
        }
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.msg,
            s = i.content,
            n = i.chatJid;
          (0, _r.b)(t, e, r, s, n);
        }
        render() {
          var t,
            e = this.props,
            i = e.content,
            r = e.playGif,
            n = e.ack,
            a = e.icons,
            l = e.msg,
            o = e.player,
            u = r ? void 0 : { spinner: null, icon: Is },
            h = (0, s.b)(2, Ts, {
              mediaStatus: i.mediaStatus,
              meta: l.meta,
              size: i.size,
              onReady: u,
            }),
            c = i.attribution;
          t =
            c === yr.g.GIPHY
              ? (0, s.b)(2, Us, { className: "La" })
              : c === yr.g.TENOR
              ? (0, s.b)(2, Rs, { className: "La" })
              : null;
          var d = r && null == o.active;
          return (0, s.b)(2, Ks, {
            className: "LZ LY",
            mediaStatusProgress: h,
            badge: t,
            ack: n,
            icons: a,
            children: (0, s.b)(2, rr, { autoplay: d, content: i }),
          });
        }
      };
      function Ks(t) {
        var e = null,
          i = t.icons,
          r = null != t.ack,
          n = i.star,
          a = i.kept;
        if (r || n || a) {
          var l = (r ? 1 : 0) + (n ? 1 : 0) + (a ? 1 : 0),
            o = 2 === l ? "Lj" : 3 === l ? "Lk" : null;
          e = (0, s.f)(
            1,
            "div",
            (0, Mt.a)("Li", o),
            [
              n && (0, s.b)(2, Jr, { className: (0, Mt.a)("Lf", r && Ps) }),
              i.kept &&
                (0, s.b)(2, $r, {
                  className: (0, Mt.a)(
                    "Le",
                    !r && n && Ps,
                    r && !n && Ps,
                    r && n && "Lh"
                  ),
                }),
              null != t.ack &&
                (0, s.b)(2, gs.a, { className: "Ld", ack: t.ack }),
            ],
            0
          );
        }
        return (0, s.f)(
          1,
          "div",
          t.className || "LY",
          [t.children, t.mediaStatusProgress, t.badge, e],
          0
        );
      }
      var js = new (i(316).a)(5);
      function Bs(t, e, i) {
        return new Promise((r) => {
          __LOG__(2)`WebP: AlphaJpeg to canvas was called`, performance.now();
          var s = e.getContext("2d", { willReadFrequently: !0 }),
            n = document.createElement("img");
          js.set(t, i);
          var a = URL.createObjectURL(i);
          (n.onload = function () {
            performance.now();
            var t = n.width,
              i = n.height,
              l = Math.floor(i / 2);
            (e.width = t),
              (e.height = i),
              s.drawImage(n, 0, 0),
              URL.revokeObjectURL(a);
            for (
              var o = s.getImageData(0, 0, t, i), u = t * l * 4, h = 0;
              h < u;
              h += 4
            )
              o.data[h + 3] = o.data[u + h];
            (e.height = l), s.putImageData(o, 0, 0, 0, 0, t, l), r();
          }),
            (n.src = a);
        });
      }
      var Ws = i(50),
        Hs = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M20.8 0h-9.6C5 0 0 5 0 11.3v9.4C0 27 5 32 11.3 32h9.4C27 32 32 27 32 20.7v-9.4C32 5 27 0 20.7 0z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        Js = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { blob: null, src: null }),
              (this.NU = !0),
              t
            );
          }
          componentDidMount() {
            var t = this.props,
              e = t.previewMsgId,
              i = t.backend;
            i.getStickerMsgMediaRefs(e)
              .then((t) => {
                if (null != t && this.NU) {
                  if (!t.isNotNativeSupported) {
                    var r = (0, Ws.e)(t.contentRef);
                    if (!r) return;
                    return i.loadMsgContentBlob(e, r).then((t) => {
                      t && this.NU && this.setState({ src: (0, zi.a)(t) });
                    });
                  }
                  (0, Ji.b)(t.frame).then((t) => {
                    t &&
                      this.NU &&
                      this.setState({ blob: t, isNotNativeSupported: !0 });
                  });
                }
              })
              .catch((t) => {
                __LOG__(4)`Cannot get quoted sticker: ${t}`;
              });
          }
          componentWillUnmount() {
            (this.NU = !1), null != this.state.src && (0, zi.b)(this.state.src);
          }
          render() {
            return this.state.isNotNativeSupported
              ? (0, s.b)(2, Xs, {
                  className: this.props.className,
                  height: 52,
                  parentWidth: 52,
                  isReady: null != this.state.blob,
                  blob: this.state.blob,
                  isNotNativeSupported: this.state.isNotNativeSupported,
                  msgId: this.props.previewMsgId,
                  previewId: null,
                })
              : (0, s.b)(2, Xs, {
                  className: this.props.className,
                  height: 52,
                  parentWidth: 52,
                  src: this.state.src,
                  isReady: null != this.state.blob,
                  msgId: this.props.previewMsgId,
                  previewId: null,
                });
          }
        },
        $s = (0, l.j)(Js);
      function Ys(t) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("Mk", "Mn", "visible" === t.overflow && "Ml", t.className),
          [
            t.children,
            !t.isReady && (0, s.b)(2, Hs, { className: "Mr", style: t.style }),
            t.isProcessing &&
              !t.isReady &&
              (0, s.f)(1, "div", "Mo", (0, s.b)(2, ss.a), 2),
          ],
          0,
          { style: n.h(t.style) }
        );
      }
      var qs = class extends n.b {
          constructor(t) {
            super(t),
              (this.NV = n.e()),
              (this.state = {
                webpState: t.isNotNativeSupported ? "not-ready" : "ready",
              });
          }
          componentDidMount() {
            this.NU = !0;
          }
          componentDidUpdate(t) {
            if (this.props.isNotNativeSupported) {
              var e = this.props.blob;
              null != e &&
                null == t.blob &&
                ("image/jpeg" === e.type && this.NV.current
                  ? (Bs(this.props.msgId, this.NV.current, e),
                    this.setState({ webpState: "ready" }))
                  : this.NW(e));
            }
          }
          componentWillUnmount() {
            this.NU = !1;
          }
          NW(t) {
            __LOG__(
              2
            )`Converting sticker blob as the device doesn't support WebP`,
              Promise.all([i.e(193).then(i.bind(null, 735)), (0, F.h)(t)]).then(
                (t) => {
                  var e = ms()(t, 2),
                    i = e[0],
                    r = e[1];
                  if (this.NU && this.NV.current && r instanceof ArrayBuffer) {
                    var s = this.NV.current;
                    this.setState({ webpState: "processing" }),
                      i
                        .processWebpToCanvas(
                          this.props.msgId,
                          s,
                          r,
                          this.props.backend
                        )
                        .then((t) => {
                          this.NU &&
                            this.setState({
                              webpState: t ? "ready" : "not-ready",
                            });
                        });
                  }
                }
              );
          }
          render() {
            var t = this.props,
              e = t.width,
              i = t.parentWidth,
              r = t.height,
              a = t.className,
              l = null,
              o = { height: Yi(e, r, i) };
            if (
              (null != i && (o.width = i + "px"),
              this.props.isNotNativeSupported)
            )
              "ready" !== this.state.webpState && (o.display = "none"),
                (l = (0, s.f)(
                  1,
                  "canvas",
                  "Mq",
                  null,
                  1,
                  { style: n.h(o) },
                  null,
                  this.NV
                ));
            else {
              var u = this.props.src;
              u && e && i && (u = `${u}#-moz-samplesize=${$i(e, i)}`),
                null != u &&
                  (l = (0, s.f)(1, "img", "Mp Jk", null, 1, {
                    style: n.h(o),
                    src: u,
                  }));
            }
            return (0, s.b)(2, Ys, {
              isReady: null != l && "ready" === this.state.webpState,
              style: { width: o.width, height: o.height },
              isProcessing: "processing" === this.state.webpState,
              className: a,
              children: l,
            });
          }
        },
        Xs = (0, l.j)(qs),
        Qs = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.NU = !1),
              (this.state = {
                content: null,
                originalRef: null,
                blobUri: null,
                deleted: !1,
                blob: null,
              }),
              t
            );
          }
          static getDerivedStateFromProps(t, e) {
            var i = t.content,
              r = i.mediaStatus;
            return "ready" !== r.type
              ? {
                  content: i,
                  originalRef: null,
                  blobUri: null,
                  deleted: !1,
                  blob: null,
                }
              : r.ref === e.originalRef || e.deleted
              ? e
              : (e.blobUri &&
                  (__LOG__(2)`Media status ref was changed. Revoking blobUri`,
                  (0, zi.b)(e.blobUri)),
                {
                  content: i,
                  originalRef: r.ref,
                  blobUri: null,
                  deleted: !1,
                  blob: null,
                });
          }
          componentDidMount() {
            (this.NU = !0), this.NX();
          }
          componentDidUpdate(t, e) {
            null != this.state.originalRef &&
              null == this.state.blobUri &&
              this.state.originalRef !== e.originalRef &&
              this.NX();
          }
          componentWillUnmount() {
            (this.NU = !1), this.state.blobUri && (0, zi.b)(this.state.blobUri);
          }
          NX() {
            if (null != this.state.originalRef && null == this.state.blobUri) {
              var t = this.props,
                e = t.backend,
                i = t.content,
                r = t.msgId,
                s = t.onBlobError,
                n = t.onBlobLoad,
                a = i.mediaStatus;
              if ("ready" === a.type) {
                var l = this.state.originalRef;
                __LOG__(2)`Loading content for ${r}`,
                  null != i.highResPreview && i.isNotNativeSupported
                    ? (0, Ji.b)(i.highResPreview).then((t) => {
                        null != t &&
                          this.NU &&
                          this.setState({
                            content: i,
                            originalRef: l,
                            deleted: !1,
                            blob: t,
                          });
                      })
                    : e.loadMsgContentBlob(r, a.ref).then((t) => {
                        if (
                          this.NU &&
                          l === this.state.originalRef &&
                          !this.state.blobUri &&
                          !this.state.deleted
                        )
                          if (null != t) {
                            __LOG__(2)`Creating blobUri for ${r}`;
                            var e = (0, zi.a)(t);
                            this.setState(
                              {
                                content: i,
                                originalRef: l,
                                blobUri: e,
                                deleted: !1,
                                blob: t,
                              },
                              () => {
                                n && n(e);
                              }
                            );
                          } else
                            this.setState(
                              {
                                content: Object.assign({}, i, {
                                  mediaStatus: { type: "idle" },
                                }),
                                deleted: !0,
                              },
                              () => {
                                s && s(a.ref);
                              }
                            );
                      });
              }
            }
          }
          render() {
            var t = this.state,
              e = t.content,
              i = t.blobUri;
            if (!e) return null;
            var r = this.props.render;
            if (r) return r(i);
            var n = this.props,
              a = n.className,
              l = n.parentWidth;
            return e.isNotNativeSupported
              ? (0, s.b)(2, Xs, {
                  previewId: e.preview,
                  blob: this.state.blob,
                  isNotNativeSupported: e.isNotNativeSupported,
                  isReady: "ready" === e.mediaStatus.type,
                  width: e.width,
                  height: e.height,
                  parentWidth: l,
                  className: a,
                  bgColor: e.bg,
                  msgId: this.props.msgId,
                })
              : (0, s.b)(2, Xs, {
                  previewId: e.preview,
                  src: i,
                  isReady: "ready" === e.mediaStatus.type,
                  width: e.width,
                  height: e.height,
                  parentWidth: l,
                  className: a,
                  bgColor: e.bg,
                  msgId: this.props.msgId,
                });
          }
        },
        Zs = (0, l.j)(Qs),
        tn = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.content !== t.content ||
                i.ack !== t.ack ||
                i.icons !== t.icons ||
                i.parentWidth !== t.parentWidth ||
                i.children !== t.children ||
                i.chatJid !== t.chatJid)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.content,
              r = this.props;
            Gs(t, e, r.msg, i, r.chatJid, "sticker", i.isNotNativeSupported);
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.icons,
              r = t.msg,
              n = t.parentWidth,
              a = t.ack,
              l = r.meta,
              o = l.fromMe,
              u = (0, s.b)(2, Ts, {
                mediaStatus: e.mediaStatus,
                meta: l,
                size: void 0,
                onReady: void 0,
                className: "Mm",
              }),
              h = null != a || i.star || i.kept;
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Mf LY", o && "Mj"),
              [
                (0, s.b)(2, Zs, {
                  className: (0, Mt.a)("Me Ll", o && "Mg"),
                  msgId: r.id,
                  content: e,
                  parentWidth: n,
                }),
                h &&
                  (0, s.f)(
                    1,
                    "div",
                    (0, Mt.a)("Mh IX FS Ip Ie", o && "Mi"),
                    [
                      i.kept && (0, s.b)(2, $r, { className: (0, Mt.a)("Mt") }),
                      i.star && (0, s.b)(2, Jr, { className: (0, Mt.a)("Mu") }),
                      null != a &&
                        (0, s.b)(2, gs.a, { className: "Ms", ack: a }),
                    ],
                    0
                  ),
                u,
              ],
              0
            );
          }
        },
        en = i(273),
        rn = "MO",
        sn = class extends n.a {
          render() {
            return this.props.getContent(
              this.props.remoteJid === ts.h
                ? "status"
                : this.props.group || "unknownGroup"
            );
          }
        },
        nn = (0, l.f)(
          sn,
          (t, e) => ({
            remoteJid: e.remoteJid,
            getContent: e.getContent,
            orderedChatIds: t.chatlist.orderedChatIds,
            chats: t.chatlist.chats,
          }),
          (t) => {
            var e;
            if (t.remoteJid !== ts.h)
              for (var i = 0, r = t.orderedChatIds.length; i < r; ++i) {
                var s = t.chats[t.orderedChatIds[i]];
                if (s && s.jid === t.remoteJid && "GROUP" === s.type) {
                  e = s;
                  break;
                }
              }
            return {
              remoteJid: t.remoteJid,
              getContent: t.getContent,
              orderedChatIds: t.orderedChatIds,
              chats: t.chats,
              group: e,
            };
          }
        );
      function an(t) {
        return null == t
          ? null
          : (e =
              "status" === t
                ? (0, s.b)(2, o.b, { l10n: 1015 })
                : "unknownGroup" === t
                ? (0, s.b)(2, o.b, { l10n: 190 })
                : (0, h.b)(t.groupInfo.title))
          ? (0, s.c)([h.a, e], 0)
          : null;
        var e;
      }
      function ln(t) {
        var e;
        return (
          "status" === t ||
            "unknownGroup" === t ||
            (e = (0, s.c)(
              [h.a, (0, s.f)(1, "span", null, (0, h.b)(t.groupInfo.title), 0)],
              0
            )),
          (0, s.c)([(0, s.b)(2, o.b, { l10n: 190 }), e], 0)
        );
      }
      function on(t) {
        return (
          "group_invite" !== t.type &&
          "viewOnceVideo" !== t.type &&
          "viewOnceImage" !== t.type
        );
      }
      var un = class extends d.b {
          constructor(t, e) {
            super(t, e),
              (this.NY = null),
              (this.state = { target: null }),
              (this.NZ = !1);
            var i = null;
            "bubble" === t.quote.type &&
              (i = (function (t) {
                var e = t.quotedMsg.id;
                if (null != e)
                  return (0, Zr.H)(e, {
                    chat: (t) => ({ type: "msg", msgId: t }),
                    status: (e) => {
                      var i = t.quotedMsg.ts;
                      return null == i
                        ? (__LOG__(4)`A quoted status has no timestamp`,
                          void SEND_LOGS("quotedStatus-noTimestamp"))
                        : (0, Ie.m)(i, _e.V)
                        ? { type: "status", statusId: e }
                        : { type: "expiredStatus" };
                    },
                  });
              })(t.quote)),
              (this.state = { target: i });
          }
          componentDidMount() {
            (this.NZ = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.NZ = !1), (this.NY = null), super.componentWillUnmount();
          }
          Na(t, e) {
            (0, b.g)({
              full: 894,
              text: () => (0, s.b)(2, ss.a, { type: "dialog" }),
              onBack: () => {
                (this.NY = null), (0, b.a)();
              },
            });
            var i = e.statusId,
              r = (function (t, e) {
                return t.loadStatusWithAuthor(e).then((t) => {
                  if (null != t) {
                    var i = t.author;
                    if (
                      ((i.msgs = i.msgs.filter((t) => t.id === e)),
                      0 !== i.msgs.length)
                    )
                      return t;
                  }
                });
              })(t, i).then((e) => {
                if (r === this.NY) {
                  if (((this.NY = null), null == e))
                    return (
                      this.setState({ target: { type: "revokedStatus" } }),
                      void cn()
                    );
                  var s = e.status,
                    n = e.author;
                  (0, es.b)(n, {
                    authorMe: (e) => {
                      t.openScreen("STATUS_READ_ME", {
                        authorMe: e,
                        initialStatusMsgId: i,
                        statuses: { [i]: s },
                      });
                    },
                    authorUser: (e) => {
                      t.openScreen("STATUS_READ_OTHERS", {
                        authors: [e],
                        initialAuthorIdx: 0,
                        initialStatusMsgId: i,
                        statuses: { [i]: s },
                      });
                    },
                    authorPsa: () => {
                      __LOG__(3)`Quote received for PSA`,
                        SEND_LOGS("status-quote-psa");
                    },
                  });
                }
              });
            this.NY = r;
          }
          addSoftKeys(t, e) {
            var i = this.props.groupChat,
              r = this.state.target,
              s = this.props.quote;
            if ("group" === s.type && i)
              t.setCenterLabel(903, () => {
                (0, Et.c)(e, i.id, "unread");
              });
            else if (null != r)
              switch (r.type) {
                case "msg":
                  "bubble" === s.type &&
                    t.setCenterLabel(903, () => {
                      e.sendAndReceive("backend", "doesMsgExist", {
                        msgId: r.msgId,
                      }).then((t) => {
                        if (this.NZ && this.props.selected)
                          if (t) {
                            var i = s.setSelectionTarget;
                            i && i(r.msgId),
                              (0, Et.c)(e, (0, yr.v)(r.msgId), r.msgId);
                          } else (0, b.e)({ title: 243, text: 571 });
                      });
                    });
                  break;
                case "expiredStatus":
                  t.setCenterLabel(885, () => {
                    (0, b.g)({ text: 968, center: 902, onSoftCenter: "CLOSE" });
                  });
                  break;
                case "revokedStatus":
                  t.setCenterLabel(885, () => {
                    cn();
                  });
                  break;
                case "status":
                  t.setCenterLabel(903, () => {
                    this.Na(e, r);
                  });
                  break;
                default:
                  return (0, m.a)(r.type);
              }
          }
          render() {
            var t = this.props,
              e = null,
              i = null,
              r = null,
              a = null,
              l = null;
            if ("group" === t.quote.type)
              e = (0, s.b)(2, nn, {
                remoteJid: t.quote.groupJid,
                getContent: ln,
              });
            else {
              var u = t.quote.quotedMsg,
                c = u.meta;
              (e = (function (t, e, i) {
                switch (t.type) {
                  case "vcard":
                    return (
                      (w = t.displayNames),
                      (O = t.total),
                      (0, s.c)(
                        [
                          (0, s.b)(2, ns.a, { className: rn }),
                          (0, rs.b)(O, w, Yr.a, !0),
                        ],
                        0
                      )
                    );
                  case "text":
                    return (0, s.f)(
                      1,
                      "span",
                      null,
                      (0, h.d)((0, ps.c)(t.text), e),
                      0,
                      { dir: "auto" }
                    );
                  case "image":
                    var r =
                      (t.caption && (0, h.d)((0, ps.c)(t.caption), e)) ||
                      (0, s.b)(2, o.b, { l10n: 672 });
                    return (0, s.c)(
                      [(0, s.b)(2, as.a, { className: rn }), r],
                      0
                    );
                  case "viewOnceImage":
                    var n = (0, en.c)(kr.a, rn),
                      a = (0, en.d)(kr.a, "MP");
                    return (0, s.c)([n, a], 0);
                  case "sticker":
                    return null;
                  case "video":
                    var l =
                      (t.caption &&
                        (0, s.f)(
                          1,
                          "span",
                          null,
                          (0, h.d)((0, ps.c)(t.caption), e),
                          0,
                          { dir: "auto" }
                        )) ||
                      (0, s.b)(2, o.b, { l10n: 1079 });
                    return (0, s.c)(
                      [(0, s.b)(2, ls.a, { className: rn }), l],
                      0
                    );
                  case "viewOnceVideo":
                    var u = (0, en.c)(kr.a, rn),
                      c = (0, en.e)(kr.a, "MP");
                    return (0, s.c)([u, c], 0);
                  case "gif":
                    var d =
                      (t.caption &&
                        (0, s.f)(
                          1,
                          "span",
                          null,
                          (0, h.d)((0, ps.c)(t.caption), e),
                          0,
                          { dir: "auto" }
                        )) ||
                      (0, s.b)(2, o.b, { l10n: 361 });
                    return (0, s.c)(
                      [(0, s.b)(2, os.a, { className: rn }), d],
                      0
                    );
                  case "voice":
                    var v = t.duration,
                      p = t.isPtt
                        ? (0, s.b)(2, o.b, { l10n: [(0, Ce.b)(v), 302] })
                        : (0, s.b)(2, o.b, { l10n: [(0, Ce.b)(v), 8] });
                    return (0, s.c)(
                      [(0, s.b)(2, us.a, { className: rn }), p],
                      0
                    );
                  case "location":
                    var f = t.name,
                      g = t.address,
                      S = f && g ? (0, le.h)([f, g]).join("") : f || g || null;
                    return (
                      (S =
                        null != S
                          ? (0, ps.c)(S)
                          : (0, s.b)(2, o.b, { l10n: 544 })),
                      (0, s.c)([(0, s.b)(2, hs.a, { className: rn }), S], 0)
                    );
                  case "group_invite":
                    var y = t.caption
                      ? (0, ps.c)(t.caption)
                      : (0, s.b)(2, o.b, { l10n: 497 });
                    return (0, s.c)(
                      [(0, s.b)(2, cs.a, { className: rn }), y],
                      0
                    );
                  case "rich_hsm":
                    var _,
                      b = (0, h.d)((0, ps.c)(t.text), e);
                    switch (t.subtype) {
                      case "image":
                        _ = (0, s.b)(2, as.a, { className: rn });
                        break;
                      case "video":
                        _ = (0, s.b)(2, ls.a, { className: rn });
                        break;
                      case "location":
                        _ = (0, s.b)(2, hs.a, { className: rn });
                        break;
                      case "text":
                        break;
                      default:
                        t.subtype, (_ = (0, s.b)(2, ds.a, { className: rn }));
                    }
                    return (0, s.c)([_, b], 0);
                  case "hsm_button_reply":
                    return (0, s.f)(
                      1,
                      "span",
                      null,
                      (0, h.d)((0, ps.c)(t.text), e),
                      0,
                      { dir: "auto" }
                    );
                  case "document":
                    var x = (0, is.a)(t, "shouldExcludeFileExtension");
                    return (0, s.c)(
                      [(0, s.b)(2, ds.a, { className: rn }), x],
                      0
                    );
                  case "poll":
                    return (0, s.f)(
                      1,
                      "span",
                      null,
                      [
                        (0, s.b)(2, vs.a, { className: rn }),
                        (0, h.d)((0, ps.c)(t.name), e),
                      ],
                      0,
                      { dir: "auto" }
                    );
                  default:
                    return (0, m.a)(t.type);
                }
                var w, O;
              })(u.content, t.quote.formatting)),
                c.fromMe
                  ? ((i = t.user.jid),
                    (r = (e) =>
                      (0, s.b)(2, Qr, { user: t.user, origin: an(e) })))
                  : ((i = c.author),
                    (r = (e) =>
                      (0, s.b)(2, Qr, {
                        contacts: t.contacts,
                        author: c.author,
                        origin: an(e),
                      }))),
                null != i && (l = (0, j.c)(i)),
                (r = u.remoteJid
                  ? (0, s.b)(2, nn, { remoteJid: u.remoteJid, getContent: r })
                  : r()),
                u.stickerPreviewMsgId && on(u.content)
                  ? (a = (0, s.b)(2, $s, {
                      previewMsgId: u.stickerPreviewMsgId,
                      className: "MN MM",
                    }))
                  : u.preview &&
                    on(u.content) &&
                    (a = (0, s.b)(2, ar, {
                      previewId: u.preview,
                      className: "MM",
                      bgColor: u.bg,
                    }));
            }
            var d = l ? { backgroundColor: l } : null;
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("MH", t.fromMe && "MI"),
              [
                (0, s.f)(1, "div", "MJ", null, 1, { style: n.h(d) }),
                (0, s.f)(
                  1,
                  "div",
                  "MK",
                  [
                    (0, s.f)(1, "div", null, r, 0),
                    (0, s.f)(1, "div", "ML FW FS FY FU", e, 0),
                  ],
                  4
                ),
                a,
              ],
              0
            );
          }
        },
        hn = (0, l.f)(
          un,
          (t, e) => Object.assign({}, e, { chats: t.chatlist.chats }),
          (t) => {
            var e,
              i = t.chats,
              r = t.quote;
            return (
              "group" === r.type &&
                i &&
                (e = (function (t) {
                  var e = (0, F.y)(t),
                    i = [];
                  return (
                    e.forEach((t) => {
                      "GROUP" === t.type && i.push(t);
                    }),
                    i
                  );
                })(i).find((t) => t.jid === r.groupJid)),
              Object.assign({}, t, { groupChat: e })
            );
          }
        );
      function cn() {
        (0, b.g)({ text: 967, center: 902, onSoftCenter: "CLOSE" });
      }
      var dn = "Oj";
      function vn(t) {
        var e,
          i = !0;
        if ("audio" === t.kind) {
          var r = !0 === t.gallery;
          (i = !r), (e = (0, Mt.a)(dn, "Ol", r && "Ot"));
        } else
          "voice" === t.kind
            ? (t.kind,
              (e = (0, Mt.a)(dn, t.fromMe ? "Om" : "On", t.played && "Oo")))
            : "voiceStatus" === t.kind
            ? (e = dn)
            : (t.kind, (i = !1), (e = (0, Mt.a)(dn, "Op")));
        var a = t.progress,
          l = t.duration,
          o = 100 * a + "%",
          u = (0, Mt.a)("Oh", i && "Oi");
        return (0, s.f)(
          1,
          "div",
          u,
          [
            (0, s.f)(
              1,
              "div",
              "Ok",
              (0, s.f)(
                1,
                "div",
                e,
                [
                  (0, s.f)(1, "div", "Oq", null, 1, {
                    style: n.h({ left: o }),
                  }),
                  (0, s.f)(1, "div", "Or", null, 1, {
                    style: n.h({ width: o }),
                  }),
                ],
                4
              ),
              2
            ),
            pn(l, t.kind),
          ],
          0
        );
      }
      function pn(t, e) {
        return (0, s.f)(
          1,
          "div",
          "Os",
          (0, Ce.b)("voiceStatus" === e ? Math.ceil(t) : Math.floor(t)),
          0
        );
      }
      var fn = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M6.7 2.1H4.4c-.7 0-1.2.5-1.2 1.2v13.5c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V3.3c0-.7-.5-1.2-1.2-1.2zm8.9 0h-2.3c-.7 0-1.2.5-1.2 1.2v13.5c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V3.3c0-.7-.5-1.2-1.2-1.2z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        },
        mn = i(407),
        gn = "NI";
      function Sn(t, e, i) {
        return t + (e - t) * i;
      }
      function yn(t, e) {
        var i = e - 1,
          r = [],
          s = (t.length - 1) / i;
        r[0] = t[0];
        for (var n = 1; n < i; n++) {
          var a = n * s,
            l = Number(Math.floor(a).toFixed()),
            o = Number(Math.ceil(a).toFixed()),
            u = a - l;
          r[n] = Sn(t[l], t[o], u);
        }
        return (r[i] = t[t.length - 1]), r;
      }
      i(589);
      var _n = class extends n.a {
        constructor() {
          super(),
            (this.Nb = n.e()),
            (this.Nc = n.e()),
            (this.Nf = !1),
            (this.state = { hasDrawnCanvas: !1 });
        }
        componentDidMount() {
          (this.Nf = !0),
            (this.Ne = requestIdleCallback(() => {
              var t = this.Nb.current;
              if (t && this.Nf) {
                var e = t.getBoundingClientRect();
                this.Nd = e.width;
                var i = (function (t) {
                    var e = Array.from(new Uint8Array(t));
                    return D.f ? bn(e) : yn(bn(e), 32);
                  })(this.props.waveformData),
                  r = this.props.fromMe ? "#bbed95" : "#fff";
                (function (t) {
                  var e = t.data,
                    i = t.canvas,
                    r = t.width,
                    s = t.backgroundColor;
                  if (i) {
                    var n = window.devicePixelRatio || 1;
                    (i.width = r * n), (i.height = i.offsetHeight * n);
                    var a = i.offsetHeight - 2,
                      l = i.getContext("2d");
                    n > 1 && l.scale(n, n);
                    var o = r / e.length,
                      u = i.offsetHeight;
                    (l.fillStyle = s),
                      l.fillRect(0, 0, r, u),
                      (l.lineWidth = 2),
                      (l.globalCompositeOperation = "destination-out");
                    for (var h = 0; h < e.length; h++)
                      xn(l, o * h + 1, Math.min(Math.max(1, e[h] * u), a), u);
                  }
                })({
                  data: i,
                  canvas: this.Nc.current,
                  width: this.Nd,
                  backgroundColor: r,
                }),
                  this.setState({ hasDrawnCanvas: !0 });
              }
            }));
        }
        componentWillUnmount() {
          (this.Nf = !1), cancelIdleCallback(this.Ne);
        }
        render() {
          var t,
            e = this.state.hasDrawnCanvas,
            i = this.Nd * this.props.progress + "px";
          return (0, s.f)(
            1,
            "div",
            "Nl",
            [
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Np", e ? void 0 : "Nq"),
                (0, s.f)(
                  1,
                  "div",
                  null,
                  [
                    (0, s.f)(1, "div", "No", null, 1, {
                      style: n.h({ width: i }),
                    }),
                    (0, s.f)(1, "canvas", "Nm", null, 1, null, null, this.Nc),
                  ],
                  4,
                  null,
                  null,
                  this.Nb
                ),
                2
              ),
              e ? null : (0, s.f)(1, "div", "Nr", (0, s.f)(1, "div", "Ns"), 2),
              ((t = this.props.duration),
              t ? (0, s.f)(1, "div", "Nn", (0, Ce.b)(Math.floor(t)), 0) : null),
            ],
            0
          );
        }
      };
      function bn(t) {
        var e = Math.max(...t);
        if (e <= 0) return t;
        var i = Math.pow(e, -1);
        return t.map((t) => t * i);
      }
      function xn(t, e, i, r) {
        t.beginPath(),
          t.moveTo(e, (r - i) / 2),
          t.lineTo(e, (r + i) / 2),
          (t.lineCap = "round"),
          t.stroke();
      }
      var wn = { progress: 0 },
        On = { progress: void 0 };
      function kn(t, e) {
        return "audio" === t
          ? (0, s.f)(
              1,
              "div",
              "ND My",
              (0, s.b)(2, mn.a, { className: "NE" }),
              2
            )
          : null == t
          ? null
          : (0, s.f)(
              1,
              "div",
              (0, Mt.a)("My", e && "Mx"),
              [
                (0, s.b)(2, vt.c, { className: "NC Fa", jid: t }),
                (0, s.b)(2, us.a, { className: "NG NF" }),
                (0, s.b)(2, us.a, { className: "NF" }),
              ],
              4
            );
      }
      function Cn(t) {
        var e,
          i = t.playbackRate;
        return (
          (e = "1x" === i ? 854 : "1.5x" === i ? 855 : 856),
          (0, s.f)(
            1,
            "div",
            "My",
            (0, s.f)(
              1,
              "div",
              "Mz",
              (0, s.b)(2, o.b, { l10n: e, className: "NA" }),
              2
            ),
            2
          )
        );
      }
      var Nn = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.content !== t.content ||
                i.msg !== t.msg ||
                i.user !== t.user ||
                i.chatJid !== t.chatJid ||
                i.pttPlaybackRate !== t.pttPlaybackRate ||
                i.currentTime !== t.currentTime ||
                i.player !== t.player)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props;
            (0, _r.a)(t, e, i.msg, i.content, i.chatJid),
              "ready" === i.content.mediaStatus.type &&
                t.setLeftRightArrows(
                  () => {
                    var t;
                    e.dispatch({
                      type: "TOWARD_MEDIA",
                      msgId: i.msg.id,
                      direction: "backward",
                      duration:
                        (null == (t = i.player) ? void 0 : t.duration) ||
                        i.content.duration,
                    });
                  },
                  () => {
                    var t;
                    e.dispatch({
                      type: "TOWARD_MEDIA",
                      msgId: i.msg.id,
                      direction: "forward",
                      duration:
                        (null == (t = i.player) ? void 0 : t.duration) ||
                        i.content.duration,
                    });
                  }
                );
          }
          render() {
            var t,
              e = this.props,
              i = e.msg,
              r = e.content,
              n = e.user,
              a = e.player,
              l = e.currentTime,
              o = e.pttPlaybackRate,
              u = r.mediaStatus,
              h = r.isPtt,
              c = i.meta,
              d = c.fromMe,
              v = !!i.starred,
              p =
                (0, Je.l)() &&
                null != (null == (t = i.keptInfo) ? void 0 : t.kept),
              f = (0, Mt.a)("Mv", d ? "Mw" : "NB", (v || p) && "NO"),
              g = !0 === d ? n.jid : c.author,
              S =
                null != c.ack
                  ? c.ack === yr.a.PLAYED
                  : "ready" === u.type && u.played,
              y = null != a && "audio" === a.type && !a.paused,
              _ = (function (t, e, i) {
                switch (e.type) {
                  case "idle":
                    var r;
                    return (
                      (r = t.fromMe
                        ? (0, br.l)(t.ack)
                          ? (0, s.b)(2, ws.a, { className: gn })
                          : (0, s.b)(2, bs, { className: gn })
                        : (0, s.b)(2, _s.a, { className: gn })),
                      { spinner: wn, icon: r }
                    );
                  case "pending":
                    return {
                      spinner: On,
                      icon: (0, s.b)(2, xs, { className: gn }),
                    };
                  case "processing":
                    return {
                      spinner: { progress: e.progress },
                      icon: (0, s.b)(2, xs, { className: gn }),
                    };
                  case "ready":
                    return null == i || i.paused
                      ? {
                          spinner: null,
                          icon: (0, s.b)(2, ys.a, { className: "NJ NI" }),
                        }
                      : i.loading
                      ? {
                          spinner: On,
                          icon: (0, s.b)(2, fn, { className: gn }),
                        }
                      : {
                          spinner: null,
                          icon: (0, s.b)(2, fn, { className: gn }),
                        };
                  case "error":
                    return {
                      spinner: null,
                      icon: (0, s.b)(2, ws.a, { className: gn }),
                    };
                  default:
                    return (0, m.a)(e.type);
                }
              })(i.meta, u, a),
              b = y || l > 0 ? l : r.duration,
              x = l / ((null == a ? void 0 : a.duration) || r.duration + 1);
            return (0, s.f)(
              1,
              "div",
              f,
              [
                (0, s.f)(
                  1,
                  "div",
                  "NH",
                  [
                    null == _.spinner
                      ? null
                      : (0, s.b)(2, Ss.a, {
                          theme: "green",
                          progress: _.spinner.progress,
                          strokeWidth: 4,
                          className: "NK",
                          backgroundCircle: !0,
                        }),
                    _.icon,
                  ],
                  0
                ),
                h
                  ? i.content.waveform
                    ? (0, s.b)(2, _n, {
                        duration: b,
                        progress: x,
                        waveformData: i.content.waveform,
                        fromMe: !!d,
                      })
                    : (0, s.b)(2, vn, {
                        kind: "voice",
                        progress: x,
                        duration: b,
                        fromMe: !!d,
                        played: S,
                      })
                  : (0, s.b)(2, vn, {
                      kind: "audio",
                      progress: x,
                      duration: b,
                    }),
                v && !d && (0, s.b)(2, Jr, { className: "NM" }),
                p &&
                  !d &&
                  (0, s.b)(2, $r, { className: (0, Mt.a)("NL", v && "NN") }),
                h && y
                  ? (0, s.b)(2, Cn, { playbackRate: o })
                  : kn(h ? g : "audio", S),
              ],
              0
            );
          }
        },
        In = (0, l.c)(Nn, (t, e, i) => {
          var r,
            s,
            n = t.player,
            a = t.settings,
            l = i.msg.id;
          return (
            (null == (r = n.active) ? void 0 : r.msgId) === l && (s = n.active),
            Object.assign({}, i, {
              currentTime: n.currentTimes[l] || 0,
              player: s,
              pttPlaybackRate: a.pttPlaybackRate,
            })
          );
        }),
        En = i(228),
        Tn = i(423),
        Mn = i(382),
        Ln = i(388),
        An = i(119),
        Un = i(94);
      function Rn(t, e) {
        return (0, Ws.p)(t, {
          uri: (t) => (0, An.getChunkTable)().getFullContent(t),
          path: (t) => (0, Un.i)(t),
        }).then((t) => (t ? (0, En.j)(t, e) : null));
      }
      function Pn(t, e) {
        return (0, je.a)(
          t,
          (function (t) {
            var e = {},
              i = "";
            t.firstName && ((e.givenName = [t.firstName]), (i += t.firstName)),
              t.lastName &&
                ((e.familyName = [t.lastName]),
                i && (i += " "),
                (i += t.lastName)),
              i && (e.name = [i]);
            var r = (0, En.c)(t);
            null != r && (e.tel = r.formattedNumber);
            var s = (t.emails || []).find((t) => t.value);
            return null != s && (e.email = s.value), e;
          })(e)
        );
      }
      function Gn(t, e) {
        return t.sendAndReceive("backend", "loadMsgContentVCards", {
          msgId: e,
        });
      }
      var Fn = "HZ Fa",
        Dn = "Hb HZ Fa";
      function zn(t, e, i) {
        if (null != t)
          return (0, s.b)(2, vt.c, { jid: t, className: (0, Mt.a)(Fn, i) });
        if (null != e) {
          var r = e.startsWith(Mi.a) ? e : Mi.a + e;
          return (0, s.b)(2, it.a, {
            src: r,
            className: (0, Mt.a)(Fn, i),
            fallback: (0, s.b)(2, Tn.a, { className: (0, Mt.a)(Dn, i) }),
          });
        }
        return (0, s.b)(2, Tn.a, { className: (0, Mt.a)(Dn, i) });
      }
      function Vn(t) {
        if (0 === t.contacts.length)
          return (
            __LOG__(4)`Trying to render empty vcard content`,
            SEND_LOGS("empty-vcard"),
            null
          );
        var e = t.contacts[0],
          i = e.jid,
          r = e.photo;
        return (0, s.f)(1, "div", "HY", zn(i, r, "Ha"), 0);
      }
      var Kn = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.jid !== t.jid ||
              i.ack !== t.ack ||
              i.fromMe !== t.fromMe ||
              i.msgId !== t.msgId ||
              i.selected !== t.selected ||
              i.content !== t.content ||
              i.appendSpaces !== t.appendSpaces ||
              i.children !== t.children ||
              i.contacts !== t.contacts)
          );
        }
        componentDidMount() {
          var t = this.props,
            e = t.backend,
            i = t.msgId,
            r = t.content;
          e.maybeCheckMsgMediaContent(i, r), super.componentDidMount();
        }
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.content,
            n = i.contacts,
            a = i.msgId,
            l = i.fromMe,
            o = i.jid;
          if (r.isMMS && "ready" !== r.mediaStatus.type)
            (0, As.a)(t, null != l && l, r.mediaStatus, {
              id: a,
              chatJid: o,
              origin: "chat",
            });
          else {
            var u = r.total;
            if (1 === u) {
              var h = r.contacts[0].jid;
              if (null != h && (0, c.i)((0, c.c)(h, n)))
                t.setCenterLabel(945, () => {
                  (0, Mn.a)(e, h);
                });
              else {
                var d = (0, s.b)(2, Ln.a, { className: "Hc r q" });
                if (r.isMMS) {
                  var v = r.mediaStatus;
                  "ready" === v.type &&
                    t.setCenterIcon(d, () => {
                      Rn(v.ref, 1).then((t) => {
                        if (!t)
                          return (
                            e.markMediaContentAsDeleted(a),
                            void (0, b.e)({ text: 563 })
                          );
                        if (1 === t.length) {
                          var i = t[0];
                          Pn(e, i);
                        } else __LOG__(3)`No VCards file found`;
                      });
                    });
                } else
                  t.setCenterIcon(d, () => {
                    (function (t, e) {
                      return Gn(t, e).then((t) => {
                        if (t && 0 !== t.length) {
                          t.length > 1 &&
                            (__LOG__(
                              3
                            )`VCard: loaded more than one vcard when expecting only one`,
                            SEND_LOGS("more-vcards-loaded"));
                          var i = t[0];
                          return i ? (0, En.i)(i.vcard) : null;
                        }
                        __LOG__(3)`VCard msg ${e} was not found.`;
                      });
                    })(e, a).then((t) => {
                      t && Pn(e, t);
                    });
                  });
              }
            } else if (u > 1)
              if (r.isMMS) {
                var p = r.mediaStatus;
                "ready" === p.type &&
                  t.setCenterLabel(946, () => {
                    e.openScreen("VCARD_CONTACTS", {
                      isMMS: !0,
                      msgId: a,
                      path: p.ref,
                    });
                  });
              } else
                t.setCenterLabel(946, () => {
                  e.openScreen("VCARD_CONTACTS", { msgId: a });
                });
          }
        }
        render() {
          var t = this.props;
          return (0, s.f)(
            1,
            "div",
            "HW",
            [
              Vn(t.content),
              (0, s.f)(
                1,
                "div",
                null,
                [
                  (0, rs.c)(t.content, Yr.a, !1),
                  jn(t.content),
                  (0, o.c)(t.appendSpaces),
                ],
                0
              ),
            ],
            0
          );
        }
      };
      function jn(t) {
        if (1 === t.total && null != t.contacts[0].bizName)
          return (0, s.b)(2, o.b, { l10n: 1076, className: "HX FW FS" });
      }
      var Bn = (0, l.c)(Kn, (t, e, i) =>
          Object.assign({}, i, { contacts: t.contacts, backend: e })
        ),
        Wn = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props.content.url;
            i
              ? t.setCenterLabel(903, () => {
                  (0, Ei.a)(e, i);
                })
              : t.setCenterLabel(929, () => {
                  (0, Ei.a)(e, ur(this.props.content));
                });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = e.name,
              r = e.address,
              n = e.url,
              a = r ? "LS" : "LQ",
              l = i ? "LT" : "LR",
              o = r ? null : t.msg,
              u = i
                ? (0, s.b)(2, ut.a, {
                    textClassName: "LU FW FS",
                    maxLineClassName: a,
                    truncated: t.truncated,
                    whitespaceMsg: o,
                    children: n ? (0, s.f)(1, "a", null, i, 0, { href: n }) : i,
                  })
                : null,
              h = r
                ? (0, s.b)(2, ut.a, {
                    textClassName: "LV FX FS",
                    maxLineClassName: l,
                    truncated: t.truncated,
                    whitespaceMsg: t.msg,
                    children:
                      n && !u ? (0, s.f)(1, "a", null, i, 0, { href: r }) : r,
                  })
                : null;
            return (0, s.f)(1, "div", null, [u, h], 0);
          }
        },
        Hn = "Nb",
        Jn = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(
              32,
              "g",
              null,
              [
                (0, s.f)(32, "path", null, null, 1, {
                  fill: "#F34646",
                  d: "M1.239 0C.542 0 0 .542 0 1.239V22.76C0 23.458.542 24 1.239 24H18.89c.697 0 1.239-.542 1.239-1.24V6.272L13.859 0H1.238z",
                }),
                (0, s.f)(32, "path", null, null, 1, {
                  fill: "#FFF",
                  d: "M10.542 11c.48 0 .91.109 1.29.325.38.217.675.525.888.924.212.4.32.853.32 1.361v.252c0 .508-.105.96-.314 1.354a2.25 2.25 0 01-.885.921c-.38.218-.81.328-1.288.33H8.86V11h1.682zm6.876 0v.913h-2.434v1.411h2.163v.91h-2.163v2.233h-1.126V11h3.56zM6.032 11c.411 0 .772.075 1.083.225.313.151.552.364.72.64a1.8 1.8 0 01.251.945c0 .536-.183.958-.55 1.267-.367.31-.874.465-1.522.465h-.988v1.925H3.9V11h2.132zm4.51.913h-.556v3.65h.545c.44 0 .778-.144 1.01-.432.232-.289.352-.7.356-1.236v-.289c0-.556-.115-.976-.345-1.263-.23-.286-.567-.43-1.01-.43zm-4.484 0H5.026v1.715h1.006c.298 0 .526-.07.682-.21.156-.14.234-.34.234-.6 0-.268-.079-.484-.236-.65-.158-.165-.375-.25-.654-.255z",
                }),
                (0, s.f)(32, "path", null, null, 1, {
                  fill: "#F77E7E",
                  d: "M14 0v4.815A1.17 1.17 0 0015.185 6H20l-6-6z",
                }),
              ],
              4,
              { fill: "none", "fill-rule": "evenodd" }
            ),
            2,
            { viewBox: "0 0 20 24" }
          );
        },
        $n = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#60aaf6",
                d: "M1.6 0C.7 0 0 .7 0 1.6v27.8c0 .9.7 1.6 1.6 1.6h22.8c.9 0 1.6-.7 1.6-1.6V8.1L17.9 0H1.6z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#90c4f9",
                d: "M17.9 0v6.5c0 .9.7 1.6 1.6 1.6H26L17.9 0z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d: "M6 14.7V13h13.3v1.7H6zm0 4V17h13.3v1.7H6zm0 3.9V21h9.9v1.7H6z",
              }),
            ],
            4,
            { x: "0", y: "0", viewBox: "0 0 26 31" }
          );
        },
        Yn = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#79909b",
                d: "M1.6 0C.7 0 0 .7 0 1.6v27.8c0 .9.7 1.6 1.6 1.6h22.8c.9 0 1.6-.7 1.6-1.6V8.1L17.9 0H1.6z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#a1b2b9",
                d: "M17.9 0v6.5c0 .9.7 1.6 1.6 1.6H26L17.9 0z",
              }),
            ],
            4,
            { x: "0", y: "0", viewBox: "0 0 26 31" }
          );
        },
        qn = i(17),
        Xn = D.o > D.m ? 34 : D.h / 2,
        Qn = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.NQ = null), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.content !== t.content ||
                i.chatJid !== t.chatJid)
            );
          }
          componentWillUnmount() {
            this.NQ && (this.NQ = null), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i,
              r = this.props.content,
              s = this.props,
              n = s.msg,
              a = s.chatJid,
              l = r.mediaStatus;
            "ready" !== l.type
              ? (0, As.a)(t, null != (i = n.meta.fromMe) && i, l, {
                  id: n.id,
                  chatJid: a,
                  origin: "chat",
                })
              : t.setCenterLabel(903, () => {
                  if (null == this.NQ) {
                    var t = Pr(e, r, n.id).then(() => {
                      this.NQ === t && (this.NQ = null);
                    });
                    this.NQ = t;
                  }
                });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.msg,
              r = t.backend,
              n = "ready" === e.mediaStatus.type,
              a = (0, is.b)(e.mimetype),
              l = (0, s.b)(2, ea, {
                content: e,
                documentType: a,
                isReady: n,
                meta: i.meta,
                hasPreview: null != e.preview,
              }),
              o = (0, s.b)(2, ra, {
                fileName: e.fileName,
                size: e.size,
                pages: e.pages,
              });
            return (0, s.f)(
              1,
              "div",
              "NW",
              [
                (0, s.b)(2, ta, {
                  msgId: i.id,
                  fromMe: !!i.meta.fromMe,
                  content: e,
                  backend: r,
                }),
                l,
                o,
              ],
              0
            );
          }
        },
        Zn = (0, l.b)(Qn, (t, e) => Object.assign({}, e, { backend: t })),
        ta = class extends n.a {
          componentWillMount() {
            var t,
              e,
              i,
              r,
              s = this.props;
            (t = s.msgId),
              (e = s.fromMe),
              (i = s.content),
              (r = s.backend),
              e ||
                null == i.mmsThumb ||
                (null != i.preview && (0, Zr.z)(i.preview)) ||
                (i.mmsThumb.lastThumbDownloadAttempt &&
                  (0, Ie.m)(i.mmsThumb.lastThumbDownloadAttempt, 300)) ||
                !(0, qn.a)("download_document_thumb_mms_enabled") ||
                r
                  .sendAndReceive("backend", "getMediaMsglikelyOnServerFrom", {
                    msgId: t,
                  })
                  .then((e) => {
                    if (e) {
                      var i = e.mediaId,
                        s = e.likelyOnServerFrom;
                      (0, Ie.m)(s, _e.E) &&
                        (__LOG__(
                          2
                        )`maybeDownloadMmsThumb try to download mms thumb for ${t}`,
                        r.downloadMediaThumb(t, i));
                    }
                  });
          }
          render() {
            var t = this.props.content;
            if (!t.preview) return null;
            var e = { width: D.j + "px", height: Xn + "px" };
            return (0, s.b)(2, qi, {
              previewId: t.preview,
              bgColor: t.bg,
              isReady: !0,
              style: e,
              previewPosition: "top",
            });
          }
        };
      function ea(t) {
        var e;
        switch (t.documentType) {
          case "pdf":
            e = (0, s.b)(2, Jn, { className: Hn });
            break;
          case "docx":
            e = (0, s.b)(2, $n, { className: Hn });
            break;
          default:
            e = (0, s.b)(2, Yn, { className: Hn });
        }
        var i = (0, s.b)(2, Ts, {
          mediaStatus: t.content.mediaStatus,
          placement: "documentFileName",
          meta: t.meta,
          size: void 0,
          onReady: void 0,
        });
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("NX", t.isReady && "NZ", !t.hasPreview && "NY"),
          [
            e,
            (0, s.f)(
              1,
              "div",
              "Na FW FS FY FU",
              (0, is.a)(t.content, "shouldExcludeFileExtension"),
              0
            ),
            i,
          ],
          0
        );
      }
      function ia(t) {
        return (0, s.f)(1, "span", "Nc", "•", 0, null, t);
      }
      function ra(t) {
        var e = [],
          i =
            t.fileName &&
            (function (t) {
              var e = t.split(".");
              return e.length >= 2 ? e[e.length - 1].toUpperCase() : null;
            })(t.fileName);
        return (
          i &&
            (e.push((0, s.f)(1, "span", null, i, 0, null, "documentType")),
            e.push(ia("documentTypeSeparator"))),
          null != t.pages &&
            (e.push((0, s.b)(2, o.b, { l10n: [t.pages, 211] }, "pages")),
            e.push(ia("pagesSeparator"))),
          e.push(
            (0, s.b)(2, Nt.a, { className: "Ne", size: t.size }, "fileSize")
          ),
          (0, s.f)(1, "div", "Nd FX FS FY FU", e, 0)
        );
      }
      var sa = i(403);
      function na(t, e, i) {
        var r = (0, ve.g)(t, e);
        if (null == r) return !1;
        var s = r.groupInfo;
        if (!s.isInGroup) return !0;
        var n = s.leftTs;
        return null != n && i < n;
      }
      var aa = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "m6.07.931 4.31 7.054A.667.667 0 019.81 9H1.19a.667.667 0 01-.57-1.015L4.93.931a.667.667 0 011.14 0zM6 6V3H5v3h1zM5 7v1h1V7H5z",
            }),
            2,
            { viewBox: "0 0 11 10" }
          );
        },
        la = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.content !== t.content ||
                i.chatJid !== t.chatJid ||
                i.truncated !== t.truncated ||
                i.formatting !== t.formatting)
            );
          }
          addSoftKeys(t) {
            pa(this.props.content.pollVotes) &&
              (0, Je.o)() &&
              t.setCenterLabel(919, (t) => {
                var e = this.props,
                  i = e.msg,
                  r = e.content,
                  s = i.id,
                  n = i.ts,
                  a = i.chatId;
                (0, sa.b)(t, { msgId: s, chatId: a, ts: n }, r);
              });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.truncated,
              r = t.msg,
              n = t.formatting,
              a = e.name,
              l = i ? (0, ps.a)(a) : a;
            return (0, s.f)(
              1,
              "div",
              "LC",
              (0, s.b)(2, ut.a, {
                maxLineClassName: "LD",
                truncated: i,
                whitespaceMsg: r,
                isUsingMoreLabel: !0,
                children: (0, h.d)(l, n),
              }),
              2
            );
          }
        },
        oa = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.msg !== t.msg ||
                i.selected !== t.selected ||
                i.content !== t.content ||
                i.readOnly !== t.readOnly)
            );
          }
          addSoftKeys(t) {
            this.props.readOnly ||
              t.setCenterLabel(930, (t) => {
                var e = this.props,
                  i = e.msg,
                  r = e.content,
                  s = r.votes;
                (0, sa.d)(
                  t,
                  i.id,
                  r.pollOptionId,
                  null == s ? void 0 : s.myVotes
                );
              });
          }
          render() {
            var t,
              e,
              i = this.props,
              r = i.content,
              n = i.readOnly,
              a = r.name,
              l = r.votes;
            e =
              null == l
                ? (0, s.b)(2, ca)
                : (0, s.b)(2, ha, { votes: l.count, maxVotes: l.maxVotes });
            var o = !0 === (null == l ? void 0 : l.votedByMe),
              u = (0, s.b)(2, z.a, { checked: o, disabled: n }),
              c = (0, s.f)(
                1,
                "div",
                "LI",
                null != (t = null == l ? void 0 : l.count) ? t : 0,
                0
              );
            return (0, s.f)(
              1,
              "div",
              "LE",
              [
                u,
                (0, s.f)(
                  1,
                  "div",
                  "LF",
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "LH",
                      [(0, s.f)(1, "div", "LG FS", (0, h.b)(a), 0), c],
                      0
                    ),
                    e,
                  ],
                  0
                ),
              ],
              0
            );
          }
        },
        ua = (0, l.c)(oa, (t, e, i) => {
          var r = i.msg,
            s = r.chatId,
            n = r.ts;
          return Object.assign({}, i, { readOnly: na(t, s, n) });
        });
      function ha(t) {
        var e = t.maxVotes,
          i = t.votes;
        if (0 === e || 0 === i) return (0, s.b)(2, ca);
        var r = (i / e) * 100 + "%";
        return (0, s.f)(1, "div", "LJ", null, 1, { style: n.h({ width: r }) });
      }
      function ca() {
        return (0, s.f)(1, "div", (0, Mt.a)("LJ", "LK"));
      }
      var da = (0, l.c)(
          function (t) {
            var e = t.msg,
              i = t.content,
              r = t.selected,
              n = t.readOnly,
              a = (0, s.b)(2, va, { msg: e, content: i, selected: r }),
              l = n
                ? (0, s.f)(
                    1,
                    "div",
                    "LO",
                    [
                      (0, s.b)(2, aa, { className: "LP" }),
                      (0, s.b)(2, o.b, { l10n: 681 }),
                    ],
                    4
                  )
                : null;
            return (0, s.c)([a, l], 0);
          },
          (t, e, i) => {
            var r = i.msg,
              s = r.chatId,
              n = r.ts;
            return Object.assign({}, i, { readOnly: na(t, s, n) });
          }
        ),
        va = class extends d.b {
          addSoftKeys(t) {
            pa(this.props.content.pollVotes) &&
              t.setCenterLabel(945, (t) => {
                var e = this.props,
                  i = e.content,
                  r = e.msg,
                  s = r.id,
                  n = r.ts,
                  a = r.chatId;
                (0, sa.b)(t, { msgId: s, chatId: a, ts: n }, i);
              });
          }
          render() {
            var t = !pa(this.props.content.pollVotes);
            return (0, s.f)(
              1,
              "div",
              "LL",
              (0, s.f)(
                1,
                "span",
                (0, Mt.a)("LM FV FS", t && "LN"),
                (0, s.b)(2, o.b, { l10n: 680 }),
                2
              ),
              2
            );
          }
        };
      function pa(t) {
        return null != t && t.maxVotes > 0;
      }
      var fa = i(31),
        ma = i(538);
      function ga() {
        return (0, s.f)(
          1,
          "div",
          "JZ",
          [
            (0, s.b)(2, aa, { className: "Jb" }),
            (0, s.b)(2, o.b, { l10n: 192, className: "Ja FX FS" }),
          ],
          4
        );
      }
      var Sa = i(400),
        ya = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.content,
              s = i.msgId,
              n = r.matchedText,
              a = (0, ma.a)(n);
            a
              ? t.setCenterLabel(907, () => {
                  e.dispatch({
                    type: "PLAY_YOUTUBE_VIDEO",
                    videoId: a,
                    msgId: s,
                  });
                })
              : t.setCenterLabel(903, () => {
                  var t,
                    i = this.props.content,
                    r = i.suspiciousCharacters,
                    s = !!(null == (t = i.suspiciousCharacters)
                      ? void 0
                      : t.size);
                  r && s ? (0, Sa.a)(e, i.matchedText, r) : (0, Ei.a)(e, n);
                });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = e.preview,
              r = e.title,
              n = e.description,
              a = e.matchedText,
              l = e.bg,
              o = e.suspiciousCharacters,
              u = !!(null == o ? void 0 : o.size),
              h =
                null == i || u
                  ? null
                  : (0, s.b)(2, ar, {
                      previewId: i,
                      className: "JB",
                      bgColor: l,
                    }),
              c = u ? (0, s.b)(2, ga) : null;
            return (0, s.c)(
              [
                c,
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("Iy", t.fromMe && "JA"),
                  (0, s.b)(2, ba, {
                    truncated: t.truncated,
                    matchedText: a,
                    description: n,
                    title: r,
                    hasSuspiciousChars: u,
                    children: h,
                  }),
                  2
                ),
              ],
              0
            );
          }
        };
      function _a(t) {
        var e = t.content,
          i = e.imgBlob,
          r = e.title,
          n = e.description,
          a = e.matchedText;
        return (0, s.f)(
          1,
          "div",
          "Iz",
          (0, s.b)(2, ba, {
            truncated: !0,
            matchedText: a,
            description: n,
            title: r,
            children:
              null != i && (0, s.b)(2, it.b, { blob: i, className: "JB" }),
          }),
          2
        );
      }
      function ba(t) {
        var e = t.matchedText,
          i = t.description,
          r = t.title,
          n = t.hasSuspiciousChars,
          a = (0, fa.e)(e),
          l = i ? "JE" : "JC",
          o = r ? "JF" : "JD",
          u = (0, s.f)(
            1,
            "div",
            null,
            [
              r
                ? (0, s.b)(2, ut.a, {
                    textClassName: "JG FW FS",
                    maxLineClassName: l,
                    truncated: t.truncated,
                    children: (0, h.b)(r),
                  })
                : null,
              i && !n
                ? (0, s.b)(2, ut.a, {
                    textClassName: "JH FX FS",
                    maxLineClassName: o,
                    truncated: t.truncated,
                    children: (0, h.b)(i),
                  })
                : null,
              a ? (0, s.f)(1, "div", "JI FY FU", a, 0) : null,
            ],
            0
          );
        return (0, s.f)(
          1,
          "div",
          "Ix",
          [t.children, (0, s.f)(1, "div", "JJ", u, 0)],
          0
        );
      }
      function xa(t) {
        var e,
          i = t.text,
          r = t.whitespaceMsg,
          n = t.formatting,
          a = (t.contacts, t.user, n.styles.length);
        return (
          1 === a ? (e = "NT") : 2 === a ? (e = "NU") : 3 === a && (e = "NV"),
          (0, s.f)(1, "div", e, [(0, h.d)(i, n), (0, o.c)((0, Yr.d)(r))], 0)
        );
      }
      var wa = i.p + "bb2bccc0d99c7b288c9cf014bd47a108.png";
      function Oa(t) {
        var e = t.fromMe,
          i = t.extraIcons,
          r = i.star && i.kept ? "LA" : i.star || i.kept ? "Ky" : null;
        return (0, s.f)(1, "img", (0, Mt.a)("Kw", e && "Kz", r), null, 1, {
          src: wa,
        });
      }
      var ka = class extends d.b {
          addSoftKeys(t, e) {
            var i,
              r = (0, Sr.b)(this.props.msg);
            if (
              r &&
              r.parsedPhoneNumbers &&
              1 === r.parsedPhoneNumbers.length &&
              null != (i = r.parsedPhoneNumbers[0].absoluteEndWithoutMarkup) &&
              i < _e.H
            ) {
              var n = r.parsedPhoneNumbers[0].phoneNumber,
                a = (0, et.C)(n),
                l = (0, c.c)(a, this.props.contacts);
              (0, c.i)(l)
                ? t.setCenterLabel(945, () => {
                    (0, Mn.a)(e, l.jid);
                  })
                : t.setCenterIcon(
                    (0, s.b)(2, Ln.a, { className: "LB r q" }),
                    () => {
                      (0, je.a)(e, { tel: (0, ye.c)(n) });
                    }
                  );
            } else
              t.setCenterLabel(885, () => {
                e.openMsgInfo(this.props.msg);
              });
          }
          render() {
            var t = this.props;
            if (
              (function (t) {
                return "❤" === t;
              })(t.text)
            )
              return (0, s.b)(2, Oa, { fromMe: t.fromMe, extraIcons: t.icons });
            var e = t.formatting;
            if (e && e.allEmojis && e.styles.length < 4) {
              var i = t.truncated ? (0, ps.a)(t.text) : t.text;
              return (0, s.b)(2, xa, {
                text: i,
                whitespaceMsg: t.msg,
                formatting: e,
                contacts: t.contacts,
                user: t.user,
              });
            }
            var r = t.truncated ? (0, ps.a)(t.text) : t.text;
            return (0, s.b)(2, ut.a, {
              maxLineClassName: "Kv",
              truncated: t.truncated,
              whitespaceMsg: t.msg,
              isUsingMoreLabel: !0,
              onMount: t.onOverflowMultiLineText,
              children: (0, h.d)(r, t.formatting),
            });
          }
        },
        Ca = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(885, () => {
              e.openMsgInfo(this.props.msg);
            });
          }
          render() {
            var t,
              e,
              i = this.props;
            if (i.title) {
              var r = i.title ? `${i.title}${i.content}` : i.content;
              (t = i.truncated ? (0, ps.b)(r, i.title.length) : i.content),
                (e = (0, s.f)(1, "strong", "Kp", i.title, 0));
            } else t = i.truncated ? (0, ps.a)(i.content) : i.content;
            var n = i.footer
              ? (0, s.f)(1, "span", "Kq FW FS", i.footer, 0)
              : null;
            return (0, s.b)(2, ut.a, {
              maxLineClassName: "Ko",
              truncated: i.truncated,
              whitespaceMsg: i.msg,
              isUsingMoreLabel: !0,
              children: [e, (0, h.d)(t, i.formatting), n],
            });
          }
        },
        Na = "Kr",
        Ia = "Ks FV FS",
        Ea = class extends n.b {
          render() {
            var t = this.props,
              e = t.button,
              i = t.buttonIndex,
              r = t.selected,
              n = t.msg;
            switch (e.type) {
              case "url":
                return (0, s.b)(2, Ma, {
                  selected: r,
                  msg: n,
                  displayText: e.displayText,
                  url: e.url,
                  buttonIndex: i,
                });
              case "quick_reply":
                return (0, s.b)(2, Aa, {
                  selected: r,
                  msg: n,
                  displayText: e.displayText,
                  pressed: e.pressed,
                  buttonIndex: i,
                });
              case "call":
                return (0, s.b)(2, La, {
                  selected: r,
                  msg: n,
                  displayText: e.displayText,
                  phoneNumber: e.phoneNumber,
                  buttonIndex: i,
                });
              default:
                return (0, m.a)(e.type);
            }
          }
        };
      function Ta(t) {
        return t.length <= 96 ? t : `${t.substr(0, 64)}…${t.substr(-32)}`;
      }
      var Ma = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              var t = this.props.url;
              (0, b.f)({
                text: [Ta(t), 165],
                confirm: 870,
                onConfirm: () => {
                  (0, Ei.a)(e, t);
                },
              });
            });
          }
          render() {
            var t = this.props,
              e = t.displayText,
              i = t.url,
              r = (0, ps.c)(e || i);
            return (0, s.f)(1, "div", Na, (0, s.f)(1, "span", Ia, r, 0), 2);
          }
        },
        La = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterIcon((0, s.b)(2, Lt, { className: "Ku r q" }), () => {
              (0, U.d)(e, this.props.phoneNumber);
            });
          }
          render() {
            var t = this.props,
              e = t.displayText,
              i = t.phoneNumber,
              r = (0, ps.c)(e || i);
            return (0, s.f)(1, "div", Na, (0, s.f)(1, "span", Ia, r, 0), 2);
          }
        },
        Aa = class extends d.b {
          addSoftKeys(t, e) {
            this.props.pressed ||
              t.setCenterLabel(914, () => {
                var t = this.props,
                  i = t.msg,
                  r = t.buttonIndex;
                e.quickReplyToHsm(i.id, r);
              });
          }
          render() {
            var t = this.props,
              e = t.displayText,
              i = t.pressed,
              r = (0, ps.c)(e);
            return (0, s.f)(
              1,
              "div",
              Na,
              (0, s.f)(1, "span", (0, Mt.a)(Ia, i && "Kt"), r, 0),
              2
            );
          }
        },
        Ua = "Jw FX FS";
      function Ra(t) {
        if ((0, Ie.o)(t)) {
          var e = Math.floor((0, Ie.y)(t) / Ie.d);
          return e >= 12
            ? [Math.floor(e / 24) + 1, 173]
            : [(0, Ce.i)(t, "time"), 174];
        }
        return 494;
      }
      function Pa(t, e, i) {
        var r,
          s = null == (r = t[e]) ? void 0 : r[i.groupJid];
        return null != s && s >= i.inviteExpiration;
      }
      var Ga = (0, l.c)(
        function (t) {
          var e = t.expires,
            i = t.isRevoked,
            r = i || !(0, Ie.o)(e),
            n = i
              ? (0, s.b)(2, o.b, { l10n: 494 })
              : (0, s.b)(2, o.b, { l10n: Ra(e) });
          return (0, s.f)(
            1,
            "div",
            (0, Mt.a)(Ua, r && "Jx"),
            (0, s.b)(2, ut.a, {
              maxLineClassName: "Jy",
              truncated: !0,
              children: n,
            }),
            2
          );
        },
        (t, e, i) => {
          var r;
          return (
            (r = i.fromMe
              ? t.sentGroupInviteRevokes
              : t.receivedGroupInviteRevokes),
            {
              expires: i.content.inviteExpiration,
              isRevoked: Pa(r, i.userJid, i.content),
            }
          );
        }
      );
      function Fa(t) {
        var e = t.className;
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)(e, Ua, "Jx"),
          (0, s.b)(2, o.b, { l10n: 494 }),
          2
        );
      }
      var Da = i(26),
        za = i.n(Da),
        Va = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(
              32,
              "g",
              null,
              [
                (0, s.f)(32, "path", null, null, 1, {
                  d: "M6.994 1.167A5.83 5.83 0 001.167 7a5.83 5.83 0 005.827 5.833A5.837 5.837 0 0012.834 7a5.837 5.837 0 00-5.84-5.833zM7 11.667A4.665 4.665 0 012.333 7 4.665 4.665 0 017 2.333 4.665 4.665 0 0111.667 7 4.665 4.665 0 017 11.667z",
                }),
                (0, s.f)(32, "path", null, null, 1, {
                  d: "M7.292 4.083h-.875v3.5l3.062 1.838.438-.718-2.625-1.557z",
                }),
              ],
              4,
              { fill: "#000", "fill-rule": "nonzero" }
            ),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        Ka = i(178),
        ja = i(413),
        Ba = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.MF = !1),
              (this.onMultilineMount = (t) => {
                var e = t.overflowing,
                  i = this.props,
                  r = i.extended,
                  s = i.forceShowExtend;
                if (e && !r && !s)
                  if ("subgroup" === this.props.type) {
                    var n = this.props;
                    Ja({
                      type: "subgroup",
                      backend: n.backend,
                      requestInfo: n.requestInfo,
                      groupInfo: n.groupInfo,
                      options: { forceShowExtend: !0 },
                    });
                  } else {
                    var a = this.props;
                    Ha({
                      type: "invite",
                      backend: a.backend,
                      authorJid: a.authorJid,
                      requestInfo: a.requestInfo,
                      groupInfo: a.groupInfo,
                      options: { forceShowExtend: !0 },
                    });
                  }
              }),
              t
            );
          }
          componentDidMount() {
            if (((this.MF = !0), this.props.groupInfo)) {
              var t = this.props,
                e = t.backend,
                i = t.groupInfo;
              (0, Ka.a)(e, i.group);
            } else if ("invite" === this.props.type) {
              var r = this.props,
                s = r.backend,
                n = r.requestInfo,
                a = r.authorJid,
                l = r.type;
              s.sendAndReceive("backend", "queryAddRequest", {
                group: n.groupJid,
                code: n.inviteCode,
                expiration: n.inviteExpiration,
                admin: a,
              }).then((t) => {
                if (this.MF)
                  return t.error
                    ? this.MG(t)
                    : void (
                        "invite" === l &&
                        Ha({
                          type: "invite",
                          backend: s,
                          authorJid: a,
                          requestInfo: n,
                          groupInfo: t.result,
                          options: { forceShowExtend: !1, extended: !1 },
                        })
                      );
              });
            } else {
              this.props.type;
              var o = this.props,
                u = o.backend,
                h = o.requestInfo;
              (function (t, e, i) {
                return $a.apply(this, arguments);
              })(u, h.parentGroupJid, h.subGroupJid).then((t) => {
                if (this.MF)
                  return t.error
                    ? this.MH(t)
                    : void Ja({
                        type: "subgroup",
                        backend: u,
                        requestInfo: h,
                        groupInfo: t.result,
                        options: { forceShowExtend: !1, extended: !1 },
                      });
              });
            }
          }
          componentWillUnmount() {
            this.MF = !1;
          }
          MH(t) {
            var e,
              i = t.error;
            switch (i.reason) {
              case "GroupDoesNotExist":
                e = 434;
                break;
              case "UserIsNotAParticipant":
                e = 508;
                break;
              case "InvalidGroupLink":
                e = 507;
                break;
              default:
                i.reason, (e = 423);
            }
            (0, b.a)(), (0, pt.a)(e);
          }
          MG(t) {
            var e,
              i = t.error;
            switch (i.reason) {
              case "already-in-group":
                return void this.MI(i.extra);
              case "group-not-found":
                e = 434;
                break;
              case "too-many-participants":
                e = 4;
                break;
              case "rate-overlimit":
                e = 7;
                break;
              default:
                i.reason, (e = 423);
            }
            (0, b.a)(), (0, pt.a)(e);
          }
          MI(t) {
            var e = this.props.backend;
            (0, b.a)(), (0, Et.a)(e, t, "newest"), (0, pt.a)(417);
          }
          render() {
            var t = this.props.groupInfo;
            if (!t) return (0, s.b)(2, ss.a, { type: "dialog" });
            var e = null;
            if ("invite" === this.props.type) {
              var i = this.props,
                r = i.requestInfo,
                n = i.authorJid;
              e = (0, s.b)(2, vt.c, {
                jid: t.group,
                type: "thumb",
                addRequest: {
                  code: r.inviteCode,
                  expiration: r.inviteExpiration,
                  admin: n,
                },
              });
            } else {
              var a = this.props.type;
              e = (0, s.b)(2, vt.c, {
                jid: t.group,
                avatarPlacement: "subgroup" === a ? "communityHome" : "default",
              });
            }
            var l =
                "invite" === this.props.type
                  ? (0, s.f)(
                      1,
                      "div",
                      "JV",
                      [
                        (0, s.b)(2, Va, { className: "JW" }),
                        (0, s.b)(2, Ga, {
                          fromMe: !1,
                          userJid: this.props.authorJid,
                          content: this.props.requestInfo,
                        }),
                      ],
                      4
                    )
                  : null,
              o = (0, s.c)(
                [
                  t.description
                    ? (0, s.b)(2, ut.a, {
                        textClassName: "JT FX FS",
                        maxLineClassName: "JU",
                        truncated: !this.props.extended,
                        onMount: this.onMultilineMount,
                        children: (0, h.b)(t.description),
                      })
                    : null,
                  l,
                ],
                0
              ),
              u = this.props,
              c = u.contacts,
              d = u.extended;
            return (0, s.b)(2, ja.a, {
              avatar: e,
              contacts: c,
              extended: null != d && d,
              participants: t.participantJids,
              groupSize: t.size,
              includeYou: !1,
              subtitle: o,
              title: t.title,
            });
          }
        },
        Wa = (0, l.c)(Ba, (t, e, i) => {
          if ("invite" === i.type) {
            var r = i.requestInfo,
              s = i.groupInfo,
              n = i.authorJid,
              a = i.forceShowExtend,
              l = i.extended;
            return {
              backend: e,
              type: "invite",
              authorJid: n,
              requestInfo: r,
              groupInfo: s,
              contacts: t.contacts,
              forceShowExtend: a,
              extended: l,
            };
          }
          i.type;
          var o = i.requestInfo,
            u = i.groupInfo,
            h = i.forceShowExtend,
            c = i.extended;
          return {
            backend: e,
            type: "subgroup",
            requestInfo: o,
            groupInfo: u,
            contacts: t.contacts,
            forceShowExtend: h,
            extended: c,
          };
        });
      function Ha(t) {
        var e = t.type,
          i = t.groupInfo,
          r = t.authorJid,
          n = t.requestInfo,
          a = t.options,
          l = a.forceShowExtend,
          o = a.extended,
          u = (0, s.b)(2, Wa, {
            type: e,
            authorJid: r,
            requestInfo: n,
            groupInfo: i,
            forceShowExtend: l,
            extended: o || !1,
          });
        if (t.groupInfo) {
          t.groupInfo;
          var h = t.backend,
            c = t.groupInfo,
            d = c.size,
            v = c.participantJids,
            p = d - v.length > 0 ? 1 : 0,
            f = v.length + p,
            m = !a.extended && (a.forceShowExtend || f > _e.l),
            g = m
              ? () => {
                  Ha({
                    type: e,
                    backend: h,
                    requestInfo: n,
                    groupInfo: i,
                    authorJid: r,
                    options: { forceShowExtend: !0, extended: !0 },
                  });
                }
              : void 0;
          (0, b.h)(
            {
              title: 422,
              right: 887,
              onSoftRight: () => {
                var e = t.backend,
                  i = t.authorJid,
                  r = t.requestInfo;
                return e.acceptGroupAddRequest(
                  r.groupJid,
                  r.inviteCode,
                  r.inviteExpiration,
                  i
                );
              },
              center: m ? 896 : void 0,
              onSoftCenter: g,
              left: 864,
              onSoftLeft: "CLOSE",
              onBack: "CLOSE",
            },
            u
          );
        } else
          (0, b.h)(
            { title: 422, left: 864, onSoftLeft: "CLOSE", onBack: "CLOSE" },
            u
          );
      }
      function Ja(t) {
        var e = t.type,
          i = t.groupInfo,
          r = t.requestInfo,
          n = t.options,
          a = n.forceShowExtend,
          l = n.extended,
          o = (0, s.b)(2, Wa, {
            type: e,
            requestInfo: r,
            groupInfo: i,
            forceShowExtend: a,
            extended: l || !1,
          });
        if (t.groupInfo) {
          t.groupInfo;
          var u = t.groupInfo,
            h = u.size,
            c = u.participantJids,
            d = h - c.length > 0 ? 1 : 0,
            v = c.length + d,
            p = !n.extended && (n.forceShowExtend || v > _e.l),
            f = p
              ? () => {
                  var e = t.type,
                    i = t.backend,
                    r = t.groupInfo;
                  Ja({
                    type: e,
                    backend: i,
                    requestInfo: t.requestInfo,
                    groupInfo: r,
                    options: { forceShowExtend: !0, extended: !0 },
                  });
                }
              : void 0;
          (0, b.h)(
            {
              title: 509,
              right: 887,
              onSoftRight: () => {
                var e = t.backend,
                  i = t.requestInfo;
                return e.joinSubGroupRequest(
                  i.parentGroupJid,
                  i.subGroupJid,
                  i.isDefaultGroup
                );
              },
              center: p ? 896 : void 0,
              onSoftCenter: f,
              left: 864,
              onSoftLeft: "CLOSE",
              onBack: "CLOSE",
            },
            o
          );
        } else
          (0, b.h)(
            { title: 509, left: 864, onSoftLeft: "CLOSE", onBack: "CLOSE" },
            o
          );
      }
      function $a() {
        return ($a = za()(function* (t, e, i) {
          return yield t.sendAndReceive("backend", "querySubGroupInfo", {
            parentGroupJid: e,
            subGroupJid: i,
          });
        })).apply(this, arguments);
      }
      var Ya = i(160),
        qa = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.onMultilineMount = (t) => {
                var e = t.overflowing,
                  i = this.props,
                  r = i.backend,
                  s = i.userJid,
                  n = i.extended,
                  a = i.forceShowExtend,
                  l = i.content,
                  o = i.contacts,
                  u = i.group;
                !e || n || a || Qa(r, s, u, l, o, !0);
              }),
              t
            );
          }
          render() {
            var t = this.props,
              e = t.userJid,
              i = t.content,
              r = t.group,
              n = t.contacts,
              a = t.extended,
              l = (0, s.b)(2, vt.c, { jid: r.jid, type: "thumb" }),
              o = (0, s.f)(
                1,
                "div",
                "NR",
                [
                  (0, s.b)(2, Va, { className: "NS" }),
                  (0, s.b)(2, Ga, { fromMe: !0, userJid: e, content: i }),
                ],
                4
              ),
              u = (0, s.c)(
                [
                  r.groupInfo.description
                    ? (0, s.b)(2, ut.a, {
                        textClassName: "NP FX FS",
                        maxLineClassName: "NQ",
                        truncated: !a,
                        onMount: this.onMultilineMount,
                        children: (0, h.b)(r.groupInfo.description),
                      })
                    : null,
                  o,
                ],
                0
              ),
              c = r.groupInfo.participants.length + 1;
            return (0, s.b)(2, ja.a, {
              avatar: l,
              contacts: n,
              extended: a,
              participants: r.groupInfo.participants,
              groupSize: c,
              includeYou: !0,
              subtitle: u,
              title: r.groupInfo.title,
            });
          }
        },
        Xa = (0, l.c)(qa, (t, e, i) => ({
          backend: e,
          userJid: i.userJid,
          content: i.content,
          group: i.group,
          contacts: t.contacts,
          forceShowExtend: i.forceShowExtend,
          extended: i.extended,
        }));
      function Qa(t, e, i, r, n, a, l) {
        var o = i.groupInfo.participants,
          u = o.some((t) => {
            var e = n[t];
            return null == e || null == e.phonebookPhone;
          })
            ? 1
            : 0,
          h = o.length + u + 1,
          c = !l && (a || h > _e.l),
          d = c
            ? () => {
                Qa(t, e, i, r, n, !0, !0);
              }
            : void 0,
          v = { jid: e, code: r.inviteCode, expiration: r.inviteExpiration };
        (0, b.h)(
          {
            title: 422,
            right: 493,
            onSoftRight: () => t.revokeGroupInvitation(r.groupJid, v),
            center: c ? 896 : void 0,
            onSoftCenter: d,
            left: 864,
            onSoftLeft: "CLOSE",
            onBack: "CLOSE",
          },
          (0, s.b)(2, Xa, {
            userJid: e,
            group: i,
            content: r,
            forceShowExtend: a,
            extended: l || !1,
          })
        );
      }
      var Za = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.fromMe !== t.fromMe ||
                i.content !== t.content ||
                i.chatJid !== t.chatJid ||
                i.userJid !== t.userJid ||
                i.receivedGroupInviteRevokes !== t.receivedGroupInviteRevokes ||
                i.sentGroupInviteRevokes !== t.sentGroupInviteRevokes ||
                i.contacts !== t.contacts ||
                i.group !== t.group)
            );
          }
          addSoftKeys(t, e) {
            nl(t, e, this.props, !1);
          }
          NP() {
            return null != this.props.content.caption
              ? null
              : rl(this.props)
              ? (0, s.b)(2, Fa, { className: "Nk" })
              : null;
          }
          render() {
            var t = this.props.content,
              e = t.preview,
              i = t.groupName;
            return (0, s.c)(
              [
                (0, s.f)(
                  1,
                  "div",
                  "Nf",
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "Ng Fa",
                      null == e
                        ? (0, vt.a)()
                        : (0, s.b)(2, ar, { previewId: e }),
                      0
                    ),
                    (0, s.f)(
                      1,
                      "div",
                      "Nh",
                      [
                        (0, s.f)(1, "div", "Ni FV FS", (0, h.b)(i), 0),
                        (0, s.f)(
                          1,
                          "div",
                          "Nj FX FS",
                          (0, s.b)(2, o.b, { l10n: 497 }),
                          2
                        ),
                      ],
                      4
                    ),
                  ],
                  4
                ),
                this.NP(),
              ],
              0
            );
          }
        },
        tl = (0, l.f)(
          Za,
          (t, e) =>
            Object.assign({}, e, {
              chats: t.chatlist.chats,
              contacts: t.contacts,
              receivedGroupInviteRevokes: t.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: t.sentGroupInviteRevokes,
            }),
          (t) => {
            var e = t.chats,
              i = e[t.chatId],
              r = i ? (0, et.q)(i.jid) : null;
            if (null == r) return null;
            var s = (0, Ya.f)(e, t.content.groupJid);
            return {
              selected: t.selected,
              content: t.content,
              fromMe: t.fromMe,
              msg: t.msg,
              chatJid: i.jid,
              userJid: r,
              contacts: t.contacts,
              group: s,
              receivedGroupInviteRevokes: t.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: t.sentGroupInviteRevokes,
            };
          }
        ),
        el = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { overflow: !1 }),
              (this.overflowMultiLineText = (t) => {
                this.setState({ overflow: t.overflowing });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.selected !== t.selected ||
                  i.msg !== t.msg ||
                  i.fromMe !== t.fromMe ||
                  i.content !== t.content ||
                  i.caption !== t.caption ||
                  i.formatting !== t.formatting ||
                  i.truncated !== t.truncated ||
                  i.icons !== t.icons ||
                  i.user !== t.user ||
                  i.chatJid !== t.chatJid ||
                  i.userJid !== t.userJid ||
                  i.receivedGroupInviteRevokes !==
                    t.receivedGroupInviteRevokes ||
                  i.sentGroupInviteRevokes !== t.sentGroupInviteRevokes ||
                  i.contacts !== t.contacts ||
                  i.group !== t.group)) ||
              (r !== e && r.overflow !== e.overflow)
            );
          }
          addSoftKeys(t, e) {
            nl(t, e, this.props, this.state.overflow);
          }
          renderExpiration() {
            return rl(this.props) ? (0, s.b)(2, Fa, { className: "Nk" }) : null;
          }
          render() {
            var t = this.props;
            return (0, s.c)(
              [
                (0, s.b)(2, ka, {
                  selected: !1,
                  msg: t.msg,
                  text: t.caption,
                  formatting: t.formatting,
                  truncated: t.truncated,
                  icons: t.icons,
                  fromMe: t.fromMe,
                  contacts: t.contacts,
                  user: t.user,
                  onOverflowMultiLineText: this.overflowMultiLineText,
                }),
                this.renderExpiration(),
              ],
              0
            );
          }
        },
        il = (0, l.f)(
          el,
          (t, e) =>
            Object.assign({}, e, {
              chats: t.chatlist.chats,
              receivedGroupInviteRevokes: t.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: t.sentGroupInviteRevokes,
              contacts: t.contacts,
            }),
          (t) => {
            var e = t.chats,
              i = e[t.chatId],
              r = (0, et.q)(i.jid);
            if (null == r) return null;
            var s = (0, Ya.f)(e, t.content.groupJid);
            return {
              selected: t.selected,
              content: t.content,
              fromMe: t.fromMe,
              msg: t.msg,
              caption: t.caption,
              formatting: t.formatting,
              truncated: t.truncated,
              icons: t.icons,
              user: t.user,
              chatJid: i.jid,
              userJid: r,
              contacts: t.contacts,
              receivedGroupInviteRevokes: t.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: t.sentGroupInviteRevokes,
              group: s,
            };
          }
        );
      function rl(t) {
        var e = !!t.msg.meta.fromMe,
          i = e ? (0, et.q)(t.chatJid) : t.msg.meta.author;
        return i
          ? Pa(
              e ? t.sentGroupInviteRevokes : t.receivedGroupInviteRevokes,
              i,
              t.content
            ) || !(0, Ie.o)(t.content.inviteExpiration)
          : (__LOG__(
              4
            )`Try to render group invite for ${t.msg.id} without associated user`,
            SEND_LOGS("group-invite-no-user"),
            !1);
      }
      function sl(t, e, i) {
        t.setCenterLabel(885, () => {
          e.openMsgInfo(i.msg);
        });
      }
      function nl(t, e, i, r) {
        var s = i.fromMe,
          n = i.content,
          a = i.userJid,
          l = i.sentGroupInviteRevokes,
          o = i.receivedGroupInviteRevokes;
        if (s) {
          if (!Pa(l, a, n) && (0, Ie.o)(n.inviteExpiration)) {
            var u = i.group;
            r || !u
              ? sl(t, e, i)
              : (function (t, e, i, r) {
                  t.setCenterLabel(945, () => {
                    Qa(e, r.userJid, i, r.content, r.contacts, !1);
                  });
                })(t, e, u, i);
          }
        } else
          !Pa(o, a, n) &&
            (0, Ie.o)(n.inviteExpiration) &&
            (r
              ? sl(t, e, i)
              : (function (t, e, i) {
                  t.setCenterLabel(945, () => {
                    var t;
                    Ha({
                      type: "invite",
                      backend: (t = {
                        backend: e,
                        authorJid: i.userJid,
                        requestInfo: i.content,
                        groupInfo: void 0,
                      }).backend,
                      requestInfo: t.requestInfo,
                      groupInfo: t.groupInfo,
                      authorJid: t.authorJid,
                      options: { forceShowExtend: !1, extended: !1 },
                    });
                  });
                })(t, e, i));
      }
      var al,
        ll,
        ol = "KL",
        ul = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M11.168 4.509c0-.515.695-.772 1.1-.409l4.809 4.306a.644.576 0 010 .815l-4.809 4.305a.644.576 0 01-1.1-.408v-1.944c-4.053 0-7.023 1.035-9.23 3.28-.196.199-.559.03-.48-.224 1.138-3.68 3.918-7.118 9.71-7.859z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        hl = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "nonzero",
              d: "M10.168 1.509c0-.515.695-.772 1.1-.409l4.809 4.306c.12.108.189.255.189.408a.547.547 0 01-.189.407l-4.809 4.305a.7.7 0 01-.703.125c-.24-.09-.398-.3-.397-.533V8.174c-4.053 0-7.023 1.035-9.23 3.28-.196.199-.559.03-.48-.224 1.138-3.68 3.918-7.118 9.71-7.859V1.509zm3.836 7.411 3.015-2.699a.547.547 0 00.189-.407c0-.153-.068-.3-.19-.408l-3.014-2.7V1.508c0-.515.695-.771 1.1-.408l4.707 4.306a.57.57 0 01.189.408.57.57 0 01-.189.407l-4.707 4.305a.7.7 0 01-.703.125c-.24-.09-.398-.3-.397-.533V8.92z",
            }),
            2,
            { viewBox: "0 0 21 12" }
          );
        },
        cl = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "circle", null, null, 1, {
                cx: "5",
                cy: "5",
                r: "5",
                fill: "#000",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#FFF",
                d: "M4.973 8.172a.649.649 0 01-.649-.649V4.766a.649.649 0 011.298 0v2.757c0 .358-.29.649-.649.649zm-.708-5.547a.73.73 0 01.197-.527c.132-.137.311-.206.538-.206.224 0 .402.069.536.206a.73.73 0 01.2.527.728.728 0 01-.203.53.712.712 0 01-.533.207.712.712 0 01-.533-.206.728.728 0 01-.202-.531z",
              }),
            ],
            4,
            { viewBox: "0 0 11 11" }
          );
        },
        dl = i(248),
        vl = i(387),
        pl = i(427),
        fl = i(426),
        ml = (0, dl.d)("failureMark"),
        gl = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.chatJid !== t.chatJid ||
                i.className !== t.className)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.msg,
              s = i.chatJid,
              n = r.content;
            if (Sl(r))
              Wr(n) ||
                t.setCenterLabel(920, () => {
                  (0, pl.a)(e, r.id, s);
                });
            else if (
              void 0 !== r.reactions &&
              void 0 !== r.reactions.reactionFromMe &&
              (0, br.g)(r.reactions.reactionFromMe.ack)
            ) {
              var a = r.reactions.reactionFromMe.id;
              t.setCenterLabel(922, () => {
                (0, gr.d)(a);
              });
            } else if (yl(r)) {
              var l,
                o =
                  null != (null == (l = r.keptInfo) ? void 0 : l.kept)
                    ? 921
                    : 923;
              t.setCenterLabel(o, () => {
                (0, fl.b)(r);
              });
            } else
              _l(r) &&
                t.setCenterLabel(924, () => {
                  (0, sa.c)(r);
                });
          }
          render() {
            return (0, s.b)(2, vl.a, {
              className: (0, Mt.a)("Ke", this.props.className),
            });
          }
        };
      function Sl(t) {
        return (
          (!0 === t.meta.fromMe && (0, br.g)(t.meta.ack)) ||
          ("vcard" === t.content.type &&
            !0 === t.content.isMMS &&
            "idle" === t.content.mediaStatus.type)
        );
      }
      function yl(t) {
        var e;
        return !0 === (null == (e = t.keptInfo) ? void 0 : e.ackError);
      }
      function _l(t) {
        var e, i, r, s;
        return (
          "poll" === t.content.type &&
          "voted" ===
            (null == (e = t.content.pollVotes) || null == (i = e.myVotes)
              ? void 0
              : i.type) &&
          !0 ===
            (null == (r = t.content.pollVotes) || null == (s = r.myVotes)
              ? void 0
              : s.ackError)
        );
      }
      var bl = i(306);
      function xl(t) {
        return !t.meta.fromMe || (0, br.l)(t.meta.ack);
      }
      function wl(t) {
        var e,
          i = t.msg,
          r = t.content.adminJid;
        return (
          (e =
            null != r
              ? "@me" === r
                ? (0, s.b)(2, o.b, {
                    l10n: 771,
                    spacerSize: (0, Yr.d)(i, xl(i)),
                  })
                : (0, s.b)(2, o.b, {
                    spacerSize: (0, Yr.d)(i, xl(i)),
                    l10n: [(0, j.f)(t.contacts, r), 241],
                  })
              : i.meta.fromMe
              ? (0, s.b)(2, o.b, { l10n: 773, spacerSize: (0, Yr.d)(i, xl(i)) })
              : (0, s.b)(2, o.b, {
                  l10n: 772,
                  spacerSize: (0, Yr.d)(i, xl(i)),
                })),
          (0, s.f)(
            1,
            "div",
            "KQ KO",
            [(0, s.b)(2, Ve.a, { className: "KP" }), e],
            0
          )
        );
      }
      function Ol(t) {
        var e;
        if ("sticker" === (null == (e = t.content) ? void 0 : e.type))
          return null;
        var i = !Ir(t.grouping, yr.h.JOINED_WITH_PREV),
          r = Er(t.msg.forwarded);
        return null != t.msg.forwarded && !r && i
          ? (0, s.f)(
              1,
              "div",
              "KU FX FS",
              [
                (0, s.b)(2, ul, { className: "KW" }),
                (0, s.b)(2, o.b, { l10n: 188 }),
              ],
              4
            )
          : r && i
          ? (0, s.f)(
              1,
              "div",
              "KV KU FX FS",
              [
                (0, s.b)(2, hl, { className: "KW" }),
                (0, s.b)(2, o.b, { l10n: 189 }),
              ],
              4
            )
          : null;
      }
      var kl = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.part !== t.part ||
                i.selected !== t.selected ||
                i.playGif !== t.playGif ||
                i.truncated !== t.truncated ||
                i.showInfoIcon !== t.showInfoIcon ||
                i.setSelectionTarget !== t.setSelectionTarget ||
                i.contacts !== t.contacts ||
                i.user !== t.user ||
                i.player !== t.player ||
                i.chatJid !== t.chatJid)
            );
          }
          componentDidMount() {
            var t,
              e,
              i,
              r = this.props,
              s = r.part,
              n = r.chatJid;
            "special" !== s.type ||
              ("ciphertext" !== s.content.type &&
                "placeholder" !== s.content.type) ||
              ((t = s.msg),
              (e = s.content.type),
              (i = null != (0, et.p)(n)),
              WAM.log("regular", 1980, void 0, [
                2,
                0,
                2,
                3,
                0,
                i ? 2 : 1,
                4,
                0,
                (0, Ie.A)(t.ts),
                1,
                0,
                "ciphertext" === e ? 1 : 3,
              ]));
          }
          render() {
            var t,
              e = this.props,
              r = e.part,
              n = e.chatJid,
              a = e.selected,
              l = r.msg.meta,
              o = null,
              u = null,
              h = null,
              c = "poll" === r.type,
              d = !Ir(e.part.grouping, yr.h.JOINED_WITH_NEXT) || c,
              v = {
                star: null != r.msg.starred && d,
                kept:
                  (0, Je.l)() &&
                  null != (null == (t = r.msg.keptInfo) ? void 0 : t.kept) &&
                  d,
              },
              p = !1;
            null != l.author &&
              Ir(e.part.grouping, yr.h.SHOW_AUTHOR) &&
              (u = (0, s.b)(2, Qr, {
                contacts: e.contacts,
                author: l.author,
                origin: null,
                isSticker: "sticker" === r.type,
              })),
              !0 === l.fromMe &&
                (Ir(e.part.grouping, yr.h.JOINED_WITH_NEXT) || (h = l.ack));
            var f = (function (t, e, i, r) {
              var n = e.type;
              if ("poll-option" === n || "poll-results-button" === n) return !1;
              var a = e.msg;
              return Sl(a) ||
                (function (t) {
                  return (
                    void 0 !== t.reactions &&
                    void 0 !== t.reactions.reactionFromMe &&
                    (0, br.g)(t.reactions.reactionFromMe.ack)
                  );
                })(a) ||
                yl(a) ||
                _l(a)
                ? (0, s.b)(2, gl, {
                    selected: !!i && ml,
                    msg: a,
                    chatJid: t,
                    className: r,
                  })
                : null;
            })(n, r, a, (0, Mt.a)("KZ", l.fromMe ? "KY" : "Ka"));
            switch (r.type) {
              case "quote":
                o = (0, s.b)(2, hn, {
                  selected: a,
                  quote: {
                    type: "bubble",
                    quotedMsg: r.quoted,
                    formatting: r.formatting,
                    setSelectionTarget: e.setSelectionTarget,
                  },
                  contacts: e.contacts,
                  user: e.user,
                  fromMe: !0 === l.fromMe,
                });
                break;
              case "quoteGroup":
                o = (0, s.b)(2, hn, {
                  selected: a,
                  quote: { type: "group", groupJid: r.groupJid },
                  contacts: e.contacts,
                  user: e.user,
                  fromMe: !0 === l.fromMe,
                });
                break;
              case "sticker":
                (o = (0, s.b)(2, tn, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  ack: h,
                  icons: v,
                  parentWidth: D.l,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "image":
                (o = (0, s.b)(2, Fs, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  ack: h,
                  icons: v,
                  parentWidth: D.j,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "viewOnceImage":
                (o = (0, s.b)(2, en.a, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  ack: h,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "video":
                (o = (0, s.b)(2, Ds, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  ack: h,
                  icons: v,
                  player: e.player,
                  parentWidth: D.j,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "viewOnceVideo":
                (o = (0, s.b)(2, en.b, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  ack: h,
                  player: e.player,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "gif":
                (o = (0, s.b)(2, Vs, {
                  selected: a,
                  msg: r.msg,
                  playGif: e.playGif,
                  content: r.content,
                  player: e.player,
                  ack: h,
                  icons: v,
                  chatJid: n,
                })),
                  (h = null),
                  (d = !1);
                break;
              case "voice":
                (o = (0, s.b)(2, In, {
                  selected: a,
                  content: r.content,
                  msg: r.msg,
                  user: e.user,
                  chatJid: n,
                })),
                  l.fromMe || (d = !1);
                break;
              case "text":
                var g;
                (null != h || v.star || v.kept) &&
                  (p =
                    (null !=
                    (g = (function (t) {
                      (function () {
                        if (!al) {
                          var t = i(590).DATA,
                            e = t.length / 2;
                          (al = new Int32Array(e)), (ll = new Int32Array(e));
                          for (var r = 0, s = 0; r < e; r++, s += 2)
                            (al[r] = t[s] + (0 === r ? 0 : al[r - 1])),
                              (ll[r] = t[s + 1]);
                        }
                      })();
                      for (var e = 0; e < t.length; e++) {
                        var r = 0 | t.charCodeAt(e);
                        if (55296 <= r && r < 56320) {
                          if (++e === t.length) break;
                          var s = t.charCodeAt(e);
                          if (!(56320 <= s && s < 57344)) continue;
                          r = 65536 + (((1023 & r) << 10) | (1023 & s));
                        } else if (56320 <= r && r < 57344) continue;
                        if (!(r < al[0])) {
                          for (
                            var n = 0, a = ((0 | al.length) - 1) | 0;
                            n < a;

                          ) {
                            var l = (a + n) >> 1;
                            if (al[l] > r) a = (l - 1) | 0;
                            else {
                              if (al[l + 1] > r) {
                                a = l;
                                break;
                              }
                              n = (l + 1) | 0;
                            }
                          }
                          var o = ll[a];
                          if (r < ((al[a] + Math.abs(o)) | 0))
                            return o < 0 ? "rtl" : "ltr";
                        }
                      }
                    })(r.content))
                      ? g
                      : "ltr") !== ((0, le.g)() ? "rtl" : "ltr")),
                  (o = (0, s.b)(2, ka, {
                    selected: a,
                    msg: r.msg,
                    text: r.content,
                    formatting: r.formatting,
                    truncated: e.truncated,
                    icons: v,
                    fromMe: !!l.fromMe,
                    contacts: e.contacts,
                    user: e.user,
                  }));
                break;
              case "locationMap":
                o = (0, s.b)(2, or, { selected: a, content: r.content });
                break;
              case "locationName":
                o = (0, s.b)(2, Wn, {
                  selected: a,
                  content: r.content,
                  msg: r.msg,
                  truncated: e.truncated,
                });
                break;
              case "vcard":
                o = (0, s.b)(2, Bn, {
                  jid: n,
                  msgId: r.msg.id,
                  ack: l.fromMe ? l.ack : void 0,
                  fromMe: l.fromMe,
                  selected: a,
                  content: r.content,
                  appendSpaces: (0, Yr.d)(r.msg),
                });
                break;
              case "linkPreview":
                o = (0, s.b)(2, ya, {
                  selected: a,
                  content: r.content,
                  truncated: e.truncated,
                  fromMe: l.fromMe,
                  msgId: r.msg.id,
                });
                break;
              case "groupInvite":
                o = (0, s.b)(2, tl, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  chatId: r.msg.chatId,
                  fromMe: !!l.fromMe,
                });
                break;
              case "groupInviteCaption":
                o = (0, s.b)(2, il, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  chatId: r.msg.chatId,
                  fromMe: !!l.fromMe,
                  user: e.user,
                  formatting: r.formatting,
                  truncated: e.truncated,
                  icons: v,
                  caption: r.caption,
                });
                break;
              case "richHsmText":
                var S;
                r.msg.content.buttons &&
                  r.msg.content.buttons.length > 0 &&
                  ((v.star = !!r.msg.starred),
                  (v.kept =
                    null != (null == (S = r.msg.keptInfo) ? void 0 : S.kept))),
                  (o = (0, s.b)(2, Ca, {
                    selected: a,
                    msg: r.msg,
                    title: r.content.title,
                    content: r.content.content,
                    footer: r.content.footer,
                    formatting: r.formatting,
                    truncated: e.truncated,
                    contacts: e.contacts,
                    user: e.user,
                  }));
                break;
              case "richHsmButton":
                (o = (0, s.b)(2, Ea, {
                  selected: a,
                  msg: r.msg,
                  button: r.content,
                  buttonIndex: r.buttonIndex,
                })),
                  (d = !1);
                break;
              case "document":
                o = (0, s.b)(2, Zn, {
                  selected: a,
                  msg: r.msg,
                  content: r.content,
                  chatJid: n,
                });
                break;
              case "poll":
                var y = r.msg,
                  _ = r.content,
                  b = r.formatting;
                o = (0, s.b)(2, la, {
                  selected: a,
                  msg: y,
                  content: _,
                  chatJid: n,
                  truncated: e.truncated,
                  formatting: b,
                });
                break;
              case "poll-option":
                var x = r.content,
                  w = r.msg;
                (o = (0, s.b)(2, ua, { msg: w, selected: a, content: x })),
                  (d = !1);
                break;
              case "poll-results-button":
                var O = r.msg,
                  k = r.content;
                (o = (0, s.b)(2, da, { msg: O, selected: a, content: k })),
                  (d = !1);
                break;
              case "special":
                switch (r.content.type) {
                  case "revoked":
                    (o = (0, s.b)(2, wl, {
                      msg: r.msg,
                      content: r.content,
                      contacts: e.contacts,
                    })),
                      xl(r.msg) && (h = null);
                    break;
                  case "futureproof":
                    o = (0, s.b)(2, Il, {
                      chatJid: n,
                      selected: a,
                      subtype: r.content.subtype,
                      spacerSize: (0, Yr.d)(r.msg),
                    });
                    break;
                  case "ciphertext":
                  case "placeholder":
                    o = (0, s.b)(2, Nl, { selected: a });
                    break;
                  default:
                    return (0, m.a)(r.content.type);
                }
                break;
              default:
                return (0, m.a)(r);
            }
            return (0, s.c)(
              [
                u,
                Ol(r),
                o,
                p && (0, s.f)(1, "div", "KI"),
                d &&
                  v.star &&
                  (0, s.b)(2, Jr, {
                    className: (0, Mt.a)("KK", c && "KN", l.fromMe && ol),
                  }),
                d &&
                  v.kept &&
                  (0, s.b)(2, $r, {
                    className: (0, Mt.a)(
                      "KJ",
                      c && "KN",
                      l.fromMe && !v.star && ol,
                      !l.fromMe && v.star && ol,
                      l.fromMe && v.star && "KM"
                    ),
                  }),
                null != h
                  ? (0, s.b)(2, gs.a, { className: "KH", ack: h })
                  : null,
                f,
                e.showInfoIcon &&
                  (0, s.b)(2, cl, {
                    className: (0, Mt.a)("KX", l.fromMe && "KY"),
                  }),
              ],
              0
            );
          }
        },
        Cl = (0, l.c)(kl, (t, e, i) => {
          var r = t.chatlist.chats[i.part.msg.chatId];
          return null == r
            ? null
            : {
                contacts: t.contacts,
                user: t.user,
                player: t.player,
                part: i.part,
                selected: i.selected,
                playGif: i.playGif,
                truncated: i.truncated,
                chatJid: r.jid,
                showInfoIcon: i.showInfoIcon,
                setSelectionTarget: i.setSelectionTarget,
                backend: e,
              };
        }),
        Nl = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(885, () => {
              (0, _.E)(e, _.j);
            });
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              "KR KO",
              [
                (0, s.b)(2, Hr, { className: "KP" }),
                (0, s.b)(2, o.b, { l10n: 136 }),
                u.c,
                (0, s.b)(2, o.b, { l10n: 137, className: "KT" }),
              ],
              0
            );
          }
        },
        Il = class extends d.b {
          addSoftKeys(t, e) {
            switch (this.props.subtype) {
              case "reaction":
              case "viewOnceMessageV2":
                t.setCenterLabel(941, bl.a);
                break;
              case "viewOnceMessageV2Disabled":
                t.setCenterLabel(891, () => {
                  WAM.log("regular", 3606, void 0, [
                    1,
                    1,
                    null != (0, et.p)(this.props.chatJid),
                    4,
                    0,
                    15,
                  ]),
                    (0, _.E)(e, _.B);
                });
            }
          }
          render() {
            var t = this.props,
              e = t.subtype,
              i = t.spacerSize;
            return (0, s.b)(2, o.b, {
              l10n: (0, Sr.c)(e),
              className: "KS KO",
              spacerSize: i,
            });
          }
        };
      function El(t) {
        var e,
          i = t.reactions;
        return (
          i.count >= 2 && (e = (0, s.f)(1, "span", "Jd", i.count, 0)),
          (0, s.f)(1, "div", "Jc", [i.reactions.map((t) => (0, h.c)(t)), e], 0)
        );
      }
      function Tl(t, e, i, r, n) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("IX FS", n, e && (i ? "Id" : "Ic")),
          r,
          0,
          null,
          null,
          t
        );
      }
      var Ml = n.f((t, e) => {
          var i = t.notE2EE || t.support;
          return Tl(
            e,
            t.selected,
            t.darkBackground,
            (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Iq Ie Ip Ie", i && "Ir"),
              t.children,
              0
            )
          );
        }),
        Ll = n.f((t, e) =>
          Tl(
            e,
            t.selected,
            t.darkBackground,
            (0, s.f)(1, "div", "Ip Ie", t.children, 0)
          )
        ),
        Al = n.f((t, e) => {
          var i,
            r,
            n,
            a = t.setSelectionTarget,
            l = t.part,
            o = t.className,
            u = t.ephemeralInfo,
            h = (function (t, e) {
              var i,
                r = t.msg,
                s = t.type,
                n = r.meta.fromMe,
                a = e || (n ? "right" : "left"),
                l = "If Ie " + ("left" === a ? "Im" : "Il");
              return (
                (l = n ? l + " Ik" : l),
                (l = null != r.starred ? l + " Io" : l),
                (l =
                  null != (null == (i = r.keptInfo) ? void 0 : i.kept)
                    ? l + " In"
                    : l),
                (l = "sticker" === s ? l + " Ig" : l),
                {
                  className: (l =
                    r.reactions && r.reactions.count > 0 && Nr(t.grouping)
                      ? l + " It"
                      : l),
                  aligned: a,
                }
              );
            })(l, t.align),
            c = h.className,
            d = h.aligned,
            v = !l.msg.meta.fromMe && null != u && (0, Ae.j)(l, u),
            p = !!l.msg.bizConflict,
            f = "sticker" === l.type ? "right" : d,
            m = (0, s.f)(
              1,
              "div",
              c,
              (0, s.f)(
                1,
                "div",
                ((i = l),
                (0, Mt.a)(
                  null != (n = i.msg).quoted ||
                    null != n.remoteJid ||
                    ("image" === n.content.type &&
                      null == n.content.viewOnceState) ||
                    ("video" === n.content.type &&
                      null == n.content.viewOnceState) ||
                    ("gif" === n.content.type && n.content.caption) ||
                    "voice" === n.content.type ||
                    "location" === n.content.type ||
                    "group_invite" === n.content.type ||
                    "rich_hsm" === n.content.type ||
                    "poll" === n.content.type ||
                    ("text" === n.content.type && null != n.content.linkPreview)
                    ? "Ih"
                    : "Ii",
                  (function (t) {
                    switch (t.type) {
                      case "text":
                      case "voice":
                      case "vcard":
                      case "special":
                      case "poll":
                        return !0;
                      default:
                        return !1;
                    }
                  })(i) && "Ij"
                )),
                [
                  (0, s.b)(2, Cl, {
                    part: l,
                    setSelectionTarget: a,
                    selected: t.selected,
                    playGif: t.playGif,
                    truncated: t.truncated,
                    showInfoIcon: v || p,
                  }),
                  Rl(l.msg.reactions, l.grouping, f),
                ],
                0
              ),
              2
            );
          return Tl(
            e,
            t.selected,
            t.darkBackground,
            m,
            (0, Mt.a)(
              o,
              ((r = l.grouping),
              (0, Mt.a)(
                Ir(r, yr.h.GROUPED_WITH_PREV) && "IY",
                Ir(r, yr.h.GROUPED_WITH_NEXT) && "IZ",
                Ir(r, yr.h.JOINED_WITH_PREV) && "Ia",
                Ir(r, yr.h.JOINED_WITH_NEXT) && "Ib"
              ))
            )
          );
        }),
        Ul = n.f((t, e) =>
          Tl(
            e,
            t.selected,
            t.darkBackground,
            (0, s.f)(1, "div", "Is Ip Ie", t.children, 0)
          )
        );
      function Rl(t, e, i) {
        return null != t && t.count > 0 && Nr(e)
          ? (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Iu", "left" === i ? "Iw" : "Iv"),
              (0, s.b)(2, El, { reactions: t }),
              2
            )
          : null;
      }
      function Pl(t) {
        var e = t.count;
        return (0, s.f)(
          1,
          "div",
          "YX",
          (0, s.b)(2, o.b, { l10n: [e, 296] }),
          2
        );
      }
      i(293);
      var Gl = i(202),
        Fl = i(430),
        Dl = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              fill: "#000",
              "fill-rule": "evenodd",
              d: "M5.5.5a5 5 0 110 10 5 5 0 010-10zm-.027 4.118a.649.649 0 00-.649.648v2.757a.649.649 0 001.298 0V5.266a.649.649 0 00-.649-.648zM5.5 2.392c-.227 0-.406.069-.538.206a.73.73 0 00-.197.527c0 .216.067.393.202.53a.712.712 0 00.533.207.71.71 0 00.533-.206.728.728 0 00.202-.531.726.726 0 00-.2-.527.711.711 0 00-.535-.206z",
            }),
            2,
            { viewBox: "0 0 11 11" }
          );
        },
        zl = i(352),
        Vl = "YW YU",
        Kl = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.content !== t.content ||
                i.contacts !== t.contacts ||
                i.userJid !== t.userJid)
            );
          }
          Yo(t, e) {
            (0, b.g)({
              text: e,
              center: 902,
              onSoftCenter: "CLOSE",
              right: 891,
              onSoftRight: () => (0, _.E)(t, _.i),
            });
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.content,
              s = i.userJid,
              n = i.contacts,
              a = (0, Fl.a)(r, s, n);
            a &&
              t.setCenterLabel(885, () => {
                this.Yo(e, a);
              });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.userJid,
              r = t.contacts,
              n = (0, Fl.b)(e, i, r),
              a = n.l10n,
              l = n.hasAlert;
            return (0, s.c)(
              [
                (0, s.b)(2, Dl, { className: "YV YU" }),
                (0, s.b)(2, o.b, { l10n: a }),
                l && (0, s.c)([u.c, (0, s.b)(2, o.b, { l10n: 64 })], 0),
              ],
              0
            );
          }
        },
        jl = n.f((t, e) =>
          (0, s.b)(
            2,
            Ul,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, Kl, {
                selected: t.selected,
                contacts: t.contacts,
                msg: t.msg,
                content: t.content,
                userJid: t.userJid,
              }),
            },
            null,
            e
          )
        ),
        Bl = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.msg !== t.msg ||
                i.contacts !== t.contacts ||
                i.subtype !== t.subtype)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contacts,
              s = i.msg,
              n = i.subtype;
            "unavailable" !== n &&
              t.setCenterLabel(885, () => {
                (function (t, e, i, r) {
                  var s = i.meta.author;
                  if (null != s) {
                    var n = null,
                      a = (0, j.f)(e, s);
                    switch (r) {
                      case "add":
                        n = [a, 50];
                        break;
                      case "remove":
                        n = [a, 51];
                        break;
                      case "coalesced":
                        n = [a, 53];
                        break;
                      case "verification-failed":
                        n = [a, 52];
                        break;
                      default:
                        n = [a, 179];
                    }
                    var l = _.o,
                      o = (0, c.c)(s, e);
                    o.devices && o.devices.length > 1 && (l = _.p),
                      t.fetchMissingKeysForContact(s);
                    var u = {
                      text: n,
                      center: 902,
                      onSoftCenter: "CLOSE",
                      right: 891,
                      onSoftRight: () => (0, _.E)(t, l),
                    };
                    (0, we.g)(o) &&
                      ((u.left = 576),
                      (u.onSoftLeft = () => {
                        (0, Be.b)(t, s);
                      })),
                      (0, b.g)(u);
                  }
                })(e, r, s, n);
              });
          }
          render() {
            var t = this.props,
              e = t.msg,
              i = t.contacts,
              r = t.subtype;
            if ("unavailable" === r) return (0, s.b)(2, o.b, { l10n: 536 });
            var n = e.meta,
              a = !n.fromMe && n.author;
            return a
              ? "verification-failed" === r
                ? (0, s.b)(2, o.b, { l10n: [(0, j.f)(i, a), 52] })
                : (0, s.b)(2, o.b, { l10n: [(0, j.f)(i, a), 180] })
              : (__LOG__(3)`Ignoring keyschanged message without author`, null);
          }
        },
        Wl = n.f((t, e) =>
          (0, s.b)(
            2,
            Ml,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, Bl, {
                selected: t.selected,
                contacts: t.contacts,
                msg: t.msg,
                subtype: t.subtype,
              }),
            },
            null,
            e
          )
        ),
        Hl = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.blocked !== t.blocked ||
                i.chat !== t.chat ||
                i.contacts !== t.contacts ||
                i.isCurrentlyBlocked !== t.isCurrentlyBlocked ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.blocked,
              s = i.chat,
              n = i.contacts,
              a = i.isCurrentlyBlocked,
              l = (0, et.q)(s.jid);
            if (l) {
              var o = (0, c.c)(l, n);
              r &&
                a &&
                t.setCenterLabel(944, () => {
                  e.unblockUser(o.jid);
                });
            }
          }
          render() {
            return this.props.blocked
              ? (0, s.b)(2, o.b, { l10n: 62 })
              : (0, s.b)(2, o.b, { l10n: 1064 });
          }
        },
        Jl = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, Hl, {
                contacts: t.contacts,
                chat: t.chat,
                selected: t.selected,
                blocked: t.blocked,
                isCurrentlyBlocked: t.isCurrentlyBlocked,
              }),
            },
            null,
            e
          )
        );
      function $l(t, e) {
        return (0, s.f)(
          1,
          "div",
          null,
          [
            (0, s.b)(2, zl.a, { className: Vl }),
            e,
            t && (0, s.c)([u.c, (0, s.b)(2, o.b, { l10n: 623 })], 0),
          ],
          0
        );
      }
      var Yl = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.canChange !== t.canChange ||
                i.chat !== t.chat ||
                i.content !== t.content ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            this.props.canChange &&
              t.setCenterLabel(877, () => {
                e.openScreen("EPHEMERAL_SETTINGS", { chat: this.props.chat });
              });
          }
          render() {
            return $l(this.props.canChange, this.props.content);
          }
        },
        ql = n.f((t, e) => {
          var i = t.content,
            r = t.contacts,
            n = t.meta,
            a = t.selected,
            l = t.darkBackground,
            u = t.chat,
            h = i.ephemeralExpiration,
            c = i.updated,
            d = (0, s.b)(2, o.b, { l10n: (0, Gl.e)(n, r, h, !!c) });
          return (0, s.b)(
            2,
            Ll,
            {
              selected: a,
              darkBackground: l,
              children: (0, s.b)(2, Yl, {
                canChange: t.canChange && (0, Ae.a)(u, r),
                chat: u,
                selected: a,
                content: d,
              }),
            },
            null,
            e
          );
        }),
        Xl = n.f((t, e) => {
          var i = t.chat;
          if ("ONE_TO_ONE" !== i.type) return null;
          var r = t.contacts,
            n = t.expiration,
            a = (0, Gl.d)(r, i.jid, n);
          return (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: [
                (0, s.b)(2, zl.a, { className: Vl }),
                (0, s.b)(2, o.b, { l10n: a }),
              ],
            },
            null,
            e
          );
        }),
        Ql = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.userJid !== t.userJid ||
                i.content !== t.content ||
                i.contacts !== t.contacts ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(877, () => {
              e.openScreen("DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS", {
                offline: !1,
                entryPoint: "system-message",
              });
            });
          }
          render() {
            var t = this.props,
              e = t.userJid,
              i = t.contacts,
              r = t.content,
              n = r.ephemeralExpiration,
              a = r.initiator,
              l = (0, s.b)(2, o.b, { l10n: (0, Gl.c)(e, i, n, a) });
            return (0, s.c)([(0, s.b)(2, zl.a, { className: Vl }), l], 0);
          }
        },
        Zl = n.f((t, e) => {
          var i = t.userJid,
            r = t.content,
            n = t.contacts,
            a = t.selected,
            l = t.darkBackground;
          return (0, s.b)(
            2,
            Ll,
            {
              selected: a,
              darkBackground: l,
              children: (0, s.b)(2, Ql, {
                selected: a,
                userJid: i,
                content: r,
                contacts: n,
              }),
            },
            null,
            e
          );
        }),
        to = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, (t) => {
              t.openScreen("KEEP_IN_CHAT_NUX", { trigger: "system-message" });
            });
          }
          render() {
            var t = (0, s.b)(2, o.b, { l10n: 528 });
            return (0, s.c)([(0, s.b)(2, zl.a, { className: Vl }), t], 0);
          }
        },
        eo = n.f((t, e) => {
          var i = t.selected,
            r = t.darkBackground;
          return (0, s.b)(
            2,
            Ll,
            {
              selected: i,
              darkBackground: r,
              children: (0, s.b)(2, to, { selected: i }),
            },
            null,
            e
          );
        }),
        io = i(353),
        ro = i(271),
        so = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.canChange !== t.canChange ||
                i.chat !== t.chat ||
                i.content !== t.content ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            this.props.canChange &&
              t.setCenterLabel(877, () => {
                e.openScreen("EPHEMERAL_SETTINGS", { chat: this.props.chat });
              });
          }
          render() {
            return $l(this.props.canChange, this.props.content);
          }
        },
        no = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, so, {
                canChange: (0, Ae.a)(t.chat, t.contacts),
                chat: t.chat,
                selected: t.selected,
                content: t.content,
              }),
            },
            null,
            e
          )
        ),
        ao = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.content !== t.content ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              (0, ro.d)(e, this.props.chat, "description");
            });
          }
          render() {
            return this.props.content;
          }
        },
        lo = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, ao, {
                chat: t.chat,
                selected: t.selected,
                content: t.content,
              }),
            },
            null,
            e
          )
        ),
        oo = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.content !== t.content ||
                i.jid !== t.jid ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.jid;
            i &&
              t.setCenterLabel(903, () => {
                (0, Et.a)(e, i, "unread", null);
              });
          }
          render() {
            return this.props.content;
          }
        },
        uo = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, oo, {
                content: t.content,
                jid: t.jid,
                selected: t.selected,
              }),
            },
            null,
            e
          )
        ),
        ho = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.content !== t.content ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.chat;
            i.groupInfo.isAdmin &&
              t.setCenterLabel(903, () => {
                (0, io.c)(e, i);
              });
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.chat;
            return (0, s.f)(
              1,
              "div",
              null,
              [
                e,
                i.groupInfo.isAdmin &&
                  (0, s.c)([u.c, (0, s.b)(2, o.b, { l10n: 624 })], 0),
              ],
              0
            );
          }
        },
        co = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, ho, {
                chat: t.chat,
                content: t.content,
                selected: t.selected,
              }),
            },
            null,
            e
          )
        ),
        vo = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.subtype !== t.subtype ||
                i.text !== t.text ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.chat,
              s = i.subtype;
            t.setCenterLabel(903, () => {
              if (r.groupInfo.isAdmin) {
                var t = r.groupInfo.growthLocked;
                if ("growth_locked" !== s) (0, io.c)(e, r);
                else {
                  var i = null == t ? 379 : 378;
                  (0, _.D)(e, i, _.b);
                }
              } else (0, b.e)({ text: 380 });
            });
          }
          render() {
            return this.props.text;
          }
        },
        po = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: (0, s.b)(2, vo, {
                subtype: t.subtype,
                text: t.text,
                chat: t.chat,
                selected: t.selected,
              }),
            },
            null,
            e
          )
        ),
        fo = n.f((t, e) =>
          (0, s.b)(
            2,
            Ll,
            {
              selected: t.selected,
              darkBackground: t.darkBackground,
              children: t.content,
            },
            null,
            e
          )
        );
      function mo(t) {
        if ("GROUP" !== t.chat.type)
          return (
            __LOG__(4)`GroupNotifications shouldn't render for non-group chat`,
            SEND_LOGS("groupnotifications-bad-render"),
            null
          );
        var e = t.chat,
          i = t.contacts,
          r = t.content,
          n = t.darkBackground,
          a = t.meta,
          l = t.selected,
          u = (0, Gl.b)(a, r, i),
          h = u ? (0, s.b)(2, o.b, { l10n: u }) : null;
        switch (r.subtype) {
          case "description":
            return (0, s.b)(
              2,
              lo,
              { chat: e, content: h, darkBackground: n, selected: l },
              r.subtype,
              t.selectedRef
            );
          case "ephemeral":
          case "ephemeral_authorless":
            return (0, s.b)(
              2,
              no,
              {
                canChange: e.groupInfo.isAdmin,
                chat: e,
                content: h,
                contacts: i,
                darkBackground: n,
                selected: t.selected,
              },
              r.subtype,
              t.selectedRef
            );
          case "leave":
            return (0, s.b)(
              2,
              uo,
              { content: h, jid: r.subject, darkBackground: n, selected: l },
              r.subtype,
              t.selectedRef
            );
          case "revoke_invite":
            return (0, s.b)(
              2,
              co,
              { content: h, chat: e, darkBackground: n, selected: l },
              r.subtype,
              t.selectedRef
            );
          case "growth_unlocked":
          case "growth_locked":
            return (0, s.b)(
              2,
              po,
              {
                subtype: r.subtype,
                text: h,
                chat: e,
                darkBackground: n,
                selected: l,
              },
              r.subtype,
              t.selectedRef
            );
          default:
            return (
              r.subtype,
              (0, s.b)(
                2,
                fo,
                { content: h, darkBackground: n, selected: l },
                r.subtype,
                t.selectedRef
              )
            );
        }
      }
      var go = (t) => {
        var e = t.className;
        return (0, s.f)(
          32,
          "svg",
          e,
          (0, s.f)(32, "path", null, null, 1, {
            fill: "#010101",
            d: "M5.008 1.6a2.593 2.593 0 012.586 2.427l.005.164v1.271h.158c.585 0 1.059.48 1.059 1.07v3.351c0 .59-.474 1.07-1.059 1.07h-5.5c-.582 0-1.057-.48-1.057-1.07V6.531c0-.59.474-1.069 1.058-1.069h.158V4.191a2.594 2.594 0 012.429-2.586l.163-.005zm0 1.248c-.696 0-1.272.534-1.337 1.214l-.006.129-.002 1.271H6.35l.001-1.271c0-.653-.47-1.2-1.088-1.319l-.126-.018-.129-.006z",
          }),
          2,
          { viewBox: "0 0 12 12" }
        );
      };
      function So(t) {
        return t ? 780 : 781;
      }
      function yo(t) {
        return t ? 778 : 779;
      }
      function _o(t) {
        return t ? 776 : 777;
      }
      var bo = {
          e2ee: {
            msg: (t) =>
              t
                ? (0, s.b)(2, o.b, { l10n: 789 })
                : (0, s.b)(2, o.b, { l10n: 791 }),
            alert: So,
          },
          now_e2ee: {
            msg: (t) =>
              t
                ? (0, s.b)(2, o.b, { l10n: 790 })
                : (0, s.b)(2, o.b, { l10n: 792 }),
            alert: So,
          },
          fb: { msg: () => (0, s.b)(2, o.b, { l10n: 783 }), alert: yo },
          now_fb: { msg: () => (0, s.b)(2, o.b, { l10n: 786 }), alert: yo },
          bsp: { msg: () => (0, s.b)(2, o.b, { l10n: 782 }), alert: _o },
          now_bsp: { msg: () => (0, s.b)(2, o.b, { l10n: 785 }), alert: _o },
        },
        xo = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.content !== t.content ||
                i.chat !== t.chat ||
                i.contacts !== t.contacts ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          Ym(t) {
            var e = this.props,
              i = e.chat,
              r = e.content,
              s = e.isVoipAvailable,
              n = (function (t, e, i, r) {
                if (wo(t)) return r ? 480 : 481;
                if ("api" === e.subtype) {
                  if ("GROUP" === t.type)
                    return __LOG__(4)`Invalid state`, null;
                  var s = t.jid;
                  return (0, we.i)(s) ? 1007 : [(0, j.f)(i, s), 242];
                }
                return bo[e.subtype].alert(r);
              })(i, r, e.contacts, s);
            n &&
              (0, b.g)({
                text: n,
                center: 902,
                onSoftCenter: "CLOSE",
                right: 891,
                onSoftRight: () => {
                  this.Yn(t);
                },
              });
          }
          Yn(t) {
            var e = this.props,
              i = e.content,
              r = e.chat,
              s = "api" === i.subtype,
              n = wo(r) ? _.C : s ? _.k : Oo(i.subtype) ? _.c : _.x;
            (0, _.E)(t, n);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(885, () => {
              this.Ym(e);
            });
          }
          render() {
            var t = this.props,
              e = t.chat,
              i = t.contacts,
              r = t.isVoipAvailable,
              n = t.content,
              a = (function (t, e, i, r) {
                if (wo(t)) return (0, s.b)(2, o.b, { l10n: 479 });
                if ("api" === e.subtype) {
                  if ("GROUP" === t.type)
                    return __LOG__(4)`Invalid state`, null;
                  var n = t.jid;
                  if ((0, we.i)(n))
                    return r
                      ? (0, s.b)(2, o.b, { l10n: 787 })
                      : (0, s.b)(2, o.b, { l10n: 788 });
                  var a = (0, j.f)(i, n);
                  return r
                    ? (0, s.b)(2, o.b, { l10n: [a, 243] })
                    : (0, s.b)(2, o.b, { l10n: [a, 244] });
                }
                return bo[e.subtype].msg(r);
              })(e, n, i, r),
              l = Oo(n.subtype)
                ? (0, s.b)(2, Dl, { className: "YZ YU" })
                : (0, s.b)(2, go, { className: "YY YU" });
            return (0, s.c)([l, a, u.c, (0, s.b)(2, o.b, { l10n: 784 })], 0);
          }
        };
      function wo(t) {
        return (
          ("ONE_TO_ONE" === t.type && (0, we.j)(t.jid)) ||
          ("GROUP" === t.type && t.groupInfo.support)
        );
      }
      function Oo(t) {
        switch (t) {
          case "fb":
          case "now_fb":
          case "bsp":
          case "now_bsp":
            return !0;
          case "e2ee":
          case "now_e2ee":
          case "api":
            return !1;
        }
      }
      var ko = n.f((t, e) => {
        var i = wo(t.chat),
          r = Oo(t.content.subtype);
        return (0, s.b)(
          2,
          Ml,
          {
            selected: t.selected,
            darkBackground: t.darkBackground,
            notE2EE: r,
            support: i,
            children: (0, s.b)(2, xo, {
              selected: t.selected,
              chat: t.chat,
              content: t.content,
              contacts: t.contacts,
              isVoipAvailable: t.isVoipAvailable,
            }),
          },
          null,
          e
        );
      });
      function Co(t) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)(t.className, "Ye FV FS"),
          (0, s.f)(
            1,
            "div",
            (0, Mt.a)("Yf", t.selected ? "Yh" : null),
            [
              t.icon && (0, s.f)(1, "div", "Yg", t.icon, 0),
              (0, s.b)(2, o.b, { l10n: t.l10n }),
            ],
            0
          ),
          2
        );
      }
      var No = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M14.3 3.7H5.7c-.7 0-1.4.5-1.7 1.1l-2.9 6.8c-.1.2-.1.4-.1.7v1.9c0 1 .9 1.9 1.9 1.9h6l-1 4.4v.3c0 .4.2.8.4 1l1 1 6.3-6.3c.4-.4.6-.8.6-1.3V5.6c0-1-.9-1.9-1.9-1.9zm3.8 0v11.4h3.8V3.7h-3.8z",
            }),
            2,
            { x: "0", y: "0", viewBox: "0 0 23 23" }
          );
        },
        Io = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.darkBackground !== t.darkBackground ||
                i.innerRef !== t.innerRef ||
                i.chat !== t.chat ||
                i.contacts !== t.contacts ||
                i.connected !== t.connected ||
                i.blocked !== t.blocked ||
                i.moveToNextMessage !== t.moveToNextMessage)
            );
          }
          Yi(t, e) {
            (0, b.f)(
              (0, V.a)({
                block: () => {
                  this.props.connected
                    ? t.blockUser(e.jid)
                    : (0, b.e)({ title: 243, text: 61 });
                },
              })
            );
          }
          Yj(t, e) {
            this.props.connected
              ? (0, b.f)({
                  title: 733,
                  text: 731,
                  confirm: 916,
                  onConfirm: () => {
                    this.props.connected
                      ? (t.reportGroupSpam({
                          reportType: "chat",
                          groupChat: e,
                          spamFlow: "chat",
                          deleteGroup: !0,
                          exitGroup: !0,
                        }),
                        t.goBack())
                      : (0, b.e)({ title: 243, text: 729 });
                  },
                })
              : (0, b.e)({ title: 243, text: 729 });
          }
          Yk(t, e) {
            this.props.connected
              ? (0, b.f)({
                  title: 739,
                  text: 728,
                  confirm: 916,
                  onConfirm: () => {
                    this.props.connected
                      ? (t.reportUserSpam({
                          reportType: "chat",
                          userJid: e.jid,
                          spamFlow: "chat",
                          blockUser: !0,
                          deleteChat: !0,
                        }),
                        t.goBack())
                      : (0, b.e)({ title: 243, text: 729 });
                  },
                })
              : (0, b.e)({ title: 243, text: 729 });
          }
          Yl(t) {
            var e = this.props,
              i = e.chat,
              r = e.connected,
              s = e.blocked,
              n = new K.a("NO_TITLE");
            "ONE_TO_ONE" === i.type
              ? (n.add(739, () => {
                  this.Yk(t, i);
                }),
                s
                  ? n.add(944, () => {
                      r
                        ? t.unblockUser(i.jid)
                        : (0, b.e)({ title: 243, text: 1063 });
                    })
                  : n.add(862, () => {
                      if (r) {
                        var e = (0, c.c)(i.jid, this.props.contacts);
                        this.Yi(t, e);
                      } else (0, b.e)({ title: 243, text: 61 });
                    }),
                (0, b.j)(n))
              : (n.add(740, () => {
                  this.Yj(t, i);
                }),
                n.add(194, () => {
                  t.markGroupAsMessaged(i), this.props.moveToNextMessage();
                }),
                (0, b.j)(n));
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              this.Yl(e);
            });
          }
          render() {
            var t = this.props,
              e = t.chat,
              i = t.selected,
              r = t.darkBackground,
              n = null;
            "ONE_TO_ONE" !== e.type &&
              (n = (0, s.b)(2, o.b, { className: "YP FX FS", l10n: 209 }));
            var a = (0, s.b)(2, No, { className: "YR" });
            return (0, s.f)(
              1,
              "div",
              "YN",
              [
                n,
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("YO", i && (r ? "YT" : "YS")),
                  (0, s.b)(2, Co, {
                    className: "YQ",
                    l10n: 725,
                    icon: a,
                    selected: i,
                  }),
                  2
                ),
              ],
              0,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        Eo = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.darkBackground !== t.darkBackground ||
                i.innerRef !== t.innerRef ||
                i.chat !== t.chat ||
                i.contacts !== t.contacts ||
                i.moveToNextMessage !== t.moveToNextMessage)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              var t = this.props,
                i = t.chat,
                r = t.contacts,
                s = t.moveToNextMessage,
                n = (0, c.c)(i.jid, r);
              if ((0, c.i)(n))
                __LOG__(
                  3
                )`Tried to add a contact that was already in the phonebook from spam UI`;
              else {
                var a = i.jid,
                  l = (0, ye.d)(a);
                (0, je.a)(e, { tel: l }, a);
              }
              s();
            });
          }
          render() {
            var t,
              e,
              i = this.props,
              r = i.chat,
              n = i.contacts,
              a = i.selected,
              l = i.darkBackground,
              u =
                null == (t = n[r.jid]) || null == (e = t.verifiedInfo)
                  ? void 0
                  : e.level,
              h = null == u ? 210 : "high" === u ? 211 : 208,
              c = (0, s.b)(2, Ln.a, { className: "YK" });
            return (0, s.f)(
              1,
              "div",
              "YF",
              [
                (0, s.b)(2, o.b, {
                  className: (0, Mt.a)("YH FX FS", l && "YI"),
                  l10n: h,
                }),
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("YG", a && (l ? "YM" : "YL")),
                  (0, s.b)(2, Co, {
                    className: "YJ",
                    l10n: 10,
                    icon: c,
                    selected: a,
                  }),
                  2
                ),
              ],
              4,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        To = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected || i.innerRef !== t.innerRef)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("SETTINGS_PRIVACY", { start: "groupAdd" });
            });
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("YB", this.props.selected && "YE"),
              (0, s.b)(2, o.b, {
                className: "YC FX FS",
                l10n: [(0, s.b)(2, o.b, { l10n: 212, className: "YD" }), 43],
              }),
              2,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        Mo = 102400,
        Lo = 307200,
        Ao = [
          "apple-touch-icon",
          "apple-touch-icon-precomposed",
          "icon",
          "image_src",
        ];
      function Uo(t) {
        var e = t.toLowerCase().indexOf("http");
        if (-1 === e) return null;
        var i = new RegExp(
          /\bhttps?:\/\/[a-z0-9-.]+\.[a-z]+(:[0-9]+)?(\/[a-z0-9@:%_+.~#?&=-]*)*/,
          "i"
        );
        i.lastIndex = e;
        var r = i.exec(t);
        if (null !== r) {
          var s = r[0],
            n = (0, fa.i)(s);
          if (null != n)
            return { normalizedLink: n.toString(), matchedText: s };
        }
      }
      function Ro(t, e) {
        return t ? !!e && t.matchedText === e.matchedText : !e;
      }
      function Po(t) {
        return Go.apply(this, arguments);
      }
      function Go() {
        return (Go = za()(function* (t) {
          var e, i, r, s, n;
          try {
            var a = yield (0, fa.j)(t, {
              responseType: "text",
              maxSize: Mo,
              keepPartial: !0,
            });
            (r = a.response), (s = a.responseURL);
          } catch (e) {
            return (
              __LOG__(4)`Failed to generate a link preview for ${t}: ${e}`, null
            );
          }
          try {
            n = new DOMParser().parseFromString(r, "text/html");
          } catch (e) {
            return (
              __LOG__(
                4
              )`Tried to parse content of ${t} for a link preview but failed: ${e}`,
              null
            );
          }
          var l,
            o = null != (e = Do(n, ["og:url", "twitter:url"])) ? e : t,
            u =
              null != (i = Do(n, ["og:title", "twitter:title", "title"]))
                ? i
                : n.title,
            h = Do(n, ["og:description", "twitter:description", "description"]);
          if (null == u && null == h) return null;
          var c = zo(n);
          if (null != c)
            try {
              c.startsWith("/") && (c = new URL(c, s).toString()),
                (l = (yield (0, fa.j)(c, {
                  responseType: "blob",
                  maxSize: Lo,
                  keepPartial: !1,
                })).response);
            } catch (e) {
              __LOG__(
                4
              )`Error when trying to fetch link preview image for ${t}: ${e}`;
            }
          return { imgBlob: l, canonicalUrl: o, description: h, title: u };
        })).apply(this, arguments);
      }
      function Fo(t, e) {
        if (null == t.head) return null;
        var i = t.head,
          r =
            i.querySelector(`meta[name='${e}']`) ||
            i.querySelector(`meta[property='${e}']`) ||
            i.querySelector(`meta[itemprop='${e}']`);
        return null != r ? r.getAttribute("content") : void 0;
      }
      function Do(t, e) {
        for (var i = 0; i < e.length; i++) {
          var r = Fo(t, e[i]);
          if (null != r) return r;
        }
      }
      function zo(t) {
        var e = Do(t, ["og:image", "twitter:image", "image"]);
        if (null != e) return e;
        for (var i = t.querySelectorAll("link"), r = 0; r < i.length; r++) {
          var s = i[r],
            n = s.getAttribute("rel");
          if (Ao.includes(n)) {
            var a = s.getAttribute("href");
            if (a) {
              var l = s.getAttribute("sizes");
              if (l) {
                if ("any" === l) return a;
                for (var o = l.split(" "), u = 0; u < o.length; u++) {
                  var h = o[u].split(/[xX]/).map((t) => parseInt(t, 10)),
                    c = ms()(h, 2),
                    d = c[0],
                    v = c[1];
                  if (d >= 100 && v >= 100) return a;
                }
              }
            }
          }
        }
      }
      var Vo = i(68),
        Ko = { audio: !0 },
        jo = class {
          constructor() {
            var t;
            (this.chunks = []),
              (this.onStop = new Vo.a()),
              (this.rawWaveformData = []),
              (this.collectWaveformData = () => {
                var t = this.getCurrentAmplitude();
                this.rawWaveformData.push(t);
              }),
              (this.status = { type: "idle" }),
              (this.audioCtx = new AudioContext()),
              (this.analyser = this.audioCtx.createAnalyser()),
              ((t = this.analyser).fftSize = 32),
              (t.smoothingTimeConstant = 0),
              (t.minDecibels = -80),
              (t.maxDecibels = 0),
              (this.frequencyData = new Uint8Array(
                this.analyser.frequencyBinCount
              ));
          }
          processWaveformData(t, e) {
            for (var i = Math.floor(t.length / e), r = [], s = 0; s < e; s++) {
              for (var n = i * s, a = 0, l = 0; l < i; l++)
                a += Math.abs(t[n + l]);
              r.push((a / i) * 100);
            }
            return r;
          }
          getWaveformData() {
            var t;
            return (
              (t =
                this.rawWaveformData.length > 64
                  ? this.processWaveformData(this.rawWaveformData, 64)
                  : 64 === this.rawWaveformData.length
                  ? this.rawWaveformData
                  : yn(this.rawWaveformData, 64).map((t) => 100 * t)),
              new Uint8Array(t).buffer
            );
          }
          getCurrentAmplitude() {
            return (
              this.analyser.getByteFrequencyData(this.frequencyData),
              Math.max(...Array.from(this.frequencyData)) / 255
            );
          }
          initAudioAnalyser(t) {
            this.audioCtx.createMediaStreamSource(t).connect(this.analyser);
          }
          start() {
            var t = this.status;
            return "idle" !== t.type
              ? Promise.reject(
                  new Error(`recorder.start called while ${t.type}!`)
                )
              : ((this.status = { type: "starting" }),
                (null != navigator.mediaDevices &&
                navigator.mediaDevices.getUserMedia
                  ? Promise.resolve(navigator.mediaDevices.getUserMedia(Ko))
                  : Promise.reject("Recording not supported")
                ).then((t) => {
                  if ("starting" === this.status.type) {
                    this.initAudioAnalyser(t);
                    var e = (function (t, e) {
                      var i, r, s, n;
                      (n = 1e3 / 6), (s = performance.now());
                      var a = (e) => {
                        var l = e - s;
                        l > n && ((s = e - (l % n)), t()),
                          r || (i = requestAnimationFrame(a));
                      };
                      return (
                        (i = requestAnimationFrame(a)),
                        () => {
                          (r = !0), cancelAnimationFrame(i);
                        }
                      );
                    })(this.collectWaveformData);
                    (this.status = {
                      type: "recording",
                      stream: t,
                      media: new MediaRecorder(t),
                    }),
                      (this.status.media.ondataavailable = (t) => {
                        this.chunks.push(t.data);
                      }),
                      (this.status.media.onstop = () => {
                        e();
                        var t = this.getWaveformData();
                        this.analyser.disconnect();
                        var i = new Blob(this.chunks, {
                          type: "audio/ogg; codecs=opus",
                        });
                        this.onStop.resolve({ blob: i, waveform: t });
                      }),
                      this.status.media.start();
                  } else Bo(t);
                }));
          }
          stop() {
            var t = this.status,
              e = { type: "stopped", data: new Vo.a() };
            switch (t.type) {
              case "idle":
                (this.status = e),
                  e.data.reject(
                    "Stopped recorder while idle rather than recording"
                  );
                break;
              case "starting":
                (this.status = e),
                  e.data.reject(
                    "Stopped recorder while starting rather than recording"
                  );
                break;
              case "recording":
                (this.status = e),
                  e.data.resolve(this.onStop.promise),
                  t.media.stop(),
                  Bo(t.stream);
                break;
              case "stopped":
                return t.data.promise;
              default:
                return (0, m.a)(t.type);
            }
            return e.data.promise;
          }
        };
      function Bo(t) {
        var e = t.getTracks()[0];
        null != e && e.stop();
      }
      var Wo = i(153),
        Ho = i(63),
        Jo = i(394),
        $o = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M11 5.7a.7.7 0 00-.7.7V11c0 .216.098.409.251.537.046.048.099.09.16.125l3.983 2.3a.7.7 0 10.7-1.212L11.7 10.617V6.4a.7.7 0 00-.7-.7z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M11 2a9 9 0 100 18 9 9 0 000-18zm-7.6 9a7.6 7.6 0 1015.2 0 7.6 7.6 0 00-15.2 0z",
                "clip-rule": "evenodd",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        Yo = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M12 22.1C6.4 22.1 1.9 17.6 1.9 12S6.4 1.9 12 1.9 22.1 6.4 22.1 12 17.6 22.1 12 22.1zm0-18.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M8.9 11.6c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5zm8.2 2c-1.1.1-3 .4-5 .4s-4-.3-5-.4c-.4 0-.6.3-.4.7 1.1 2 3.1 3.5 5.5 3.5 2.3 0 4.4-1.5 5.5-3.5.1-.3-.2-.7-.6-.7zM12.3 16c-2.6 0-4.1-1-4.2-1.6 0 0 4.4.9 8 0 0 0-.5 1.6-3.8 1.6zm2.8-4.4c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        qo = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M7.2 12.2c.608 0 1.1.627 1.1 1.4S7.808 15 7.2 15s-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm9.7 0c.608 0 1.1.627 1.1 1.4s-.492 1.4-1.1 1.4-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm4.6-1.1-1.2-2.4c.9-.4 1.7-1.3 2-2.2.3-.7.4-2.1-1-3.5-1-.9-2-1.2-2.9-1-1.1.3-1.9 1.2-2.3 1.9-1.4-.7-2.9-.8-4.1-.8-1.5 0-2.8.3-4 .9-.5-.9-1.2-1.8-2.3-2.1-1-.2-2 .1-2.9 1-1 1-1.4 2.2-1 3.4.4 1.1 1.2 1.9 2 2.3-.2.5-.4 1-.6 1.6l-.2.2c-.3.7-.5 1.3-.8 1.9-.4 1-.9 1.9-.9 3.1 0 1.6.8 6.7 10.5 6.7 3.8 0 6.6-.7 8.5-2.2s2.2-3.4 2.2-4.3c.2-2.1-.2-2.9-1-4.5zm-2.7-7.6c.4-.1.9.1 1.5.6.6.6.8 1.2.6 1.8-.2.6-.7 1.1-1.2 1.3-.6-1.2-1.3-2-2.1-2.6.2-.4.6-1 1.2-1.1zM3.3 5.9c-.2-.6 0-1.2.6-1.8.5-.5 1.1-.7 1.5-.6.5.1 1.1.7 1.3 1.2-.9.7-1.6 1.5-2.2 2.6C4 7 3.4 6.5 3.3 5.9zm17.8 9.7c0 .7-.2 2-1.6 3.1-1.5 1.2-4.1 1.8-7.5 1.8-8.3 0-8.9-3.9-8.9-5.1 0-.8.3-1.5.7-2.4.3-.6.6-1.2.8-2.1l.1-.2c.5-1.5 2-6.2 7.3-6.2 1.2 0 2.5.2 3.7.9.1.1.5.3.5.3.9.7 1.7 1.7 2.4 3.2.6 1.3 1 2.2 1.4 2.9.8 1.6 1.1 2.1 1.1 3.8zM14.6 17c-.1.1-.6.4-1.2.3-.4-.1-.7-.3-.9-.8 0-.1-.1-.1-.1-.2.8-.1 1.3-.6 1.3-1.3s-.7 0-1.7 0c-.9 0-1.7-.7-1.7 0 0 .6.6 1.2 1.4 1.3l-.1.1c-.3.4-.5.7-.9.8-.5.1-1.1-.1-1.3-.3-.2-.2-.5-.1-.7.1s-.1.5.1.7c.1.1.8.5 1.6.5.2 0 .4 0 .5-.1.4-.1.8-.3 1.1-.7.4.4.9.6 1.2.7.8.2 1.7-.2 2-.5.2-.2.2-.5 0-.7-.1 0-.4-.1-.6.1z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Xo = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M7.4 11.4c-.4 0-.8.4-.8.8V14c0 .4.4.8.8.8s.8-.4.6-.8v-1.8c0-.6-.2-.8-.6-.8zm-2.8-1c-.4 0-.8.4-.8.8V15c0 .4.4.8.8.8s.8-.4.8-.8v-3.8c0-.6-.4-.8-.8-.8z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M23 7.2c-.6-.6-1.6-.8-2.8-.6-.2 0-.4.2-.6.2V4.2c0-.6-.6-1.2-1.2-1.2h-17C.8 3 .2 3.6.2 4.2v7.4c0 5.4 3.2 9.6 8.4 9.6h2.2c4.2 0 7-2.6 8-6h.4c2.2-.4 4-2.6 4.4-4.8.4-1.4.2-2.4-.6-3.2zm-4.8-2.8v3H1.6v-3h16.6zM11 19.8H8.8c-5.2 0-7-4.4-7-8.2V8.8h16.6v2.8c-.2 4-2.4 8.2-7.4 8.2zm8.4-6.2c.2-.6.2-1.4.2-2V8.4c.4-.2.6-.4 1-.4.6-.2 1.2 0 1.4.4.4.4.6 1 .4 1.8-.2 1.4-1.6 3-3 3.4z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Qo = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "m14.8 15.3 1.3-3.8c.1-.2 0-.5-.2-.6l-3.3-2.4c-.2-.1-.5-.1-.6 0l-3.3 2.4c-.2.1-.3.4-.2.6l1.3 3.8c.1.2.3.4.5.4h4c.2 0 .4-.2.5-.4z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M12 1.9C6.4 1.9 1.9 6.4 1.9 12S6.4 22.1 12 22.1 22.1 17.6 22.1 12 17.6 1.9 12 1.9zM9.8 20.3c.1-.2.1-.4 0-.6l-1.4-2.3c-.1-.1-.2-.2-.4-.3l-2.5-.6c-.2-.1-.5.1-.6.2-.9-1.3-1.4-2.9-1.5-4.5.2 0 .4 0 .5-.2l1.7-2c.1 0 .2-.2.2-.3l-.3-2.6c0-.2-.1-.3-.3-.4C6.2 5.4 7.5 4.5 9 4c0 .1.2.3.3.3l2.5 1.1c.1.1.3.1.4 0l2.5-1.1.3-.3c1.5.6 2.7 1.5 3.7 2.7-.1.1-.2.2-.2.4l-.2 2.6c0 .2 0 .3.1.4l1.7 2c.1.1.3.2.4.2 0 1.6-.5 3.1-1.3 4.4-.1-.1-.2-.1-.4-.1l-2.5.6c-.1 0-.3.1-.4.3l-1.4 2.3c-.1.2-.1.3 0 .5-.8.2-1.6.4-2.5.4-.7-.1-1.5-.2-2.2-.4z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Zo = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M21.5 11.5c0-.7-.1-1.4-.3-2l-1.5-4.3C19.2 3.9 18 3 16.6 3H7.3c-1.4 0-2.6.9-3.1 2.2L2.6 9.9c-.1.4-.2.7-.2 1.1v8.6c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-1.1h12.7v1.1c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-7.4l-.2-.7zM4.1 10.4l1.6-4.7c.2-.7.9-1.2 1.7-1.2h9.2c.7 0 1.4.5 1.6 1.2l1.5 4.3c.1.3.2.6.2.8H4c-.1-.1 0-.3.1-.4zm1.4 5.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5c-.1.8-.7 1.5-1.5 1.5zm9.4-.6H9.3c-.5 0-1-.4-1-1 0-.5.4-1 1-1h5.6c.5 0 1 .4 1 1-.1.6-.5 1-1 1zm3.7.6c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        tu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M18.8 6.7c-.9-2.6-3.2-4.6-6-4.9h-1.6c-2.8.3-5.1 2.2-6 4.9-1 3 .1 6.2 2.7 8H8c.2.1.3.4.3.6v2c0 .8.6 1.4 1.4 1.4h4.6c.8 0 1.4-.6 1.4-1.4v-2c0-.2.1-.5.3-.6l.1-.1c2.5-1.8 3.6-5 2.7-7.9zm-3.5 6.9-.1.1c-.5.4-.9 1-.9 1.7v2s0 .1-.1.1H9.8s-.1 0-.1-.1v-2c0-.7-.3-1.3-.9-1.7l-.1-.1c-2-1.4-3-4-2.2-6.5.7-2.1 2.6-3.7 4.9-3.9h1.3c2.2.2 4.2 1.8 4.9 3.9.7 2.4-.2 5-2.3 6.5zm-6.1 7.6c0 .6.5 1 1 1h3.7c.6 0 1-.5 1-1v-1H9.2v1z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M13.6 10.5c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3-.2.3-.5.5-.8.5s-.6-.2-.8-.5c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8 0 .4.3.7.7.8.3.4.7.7 1.1.8V15c0 .2.2.4.4.4s.4-.2.4-.4v-2.1c.4-.1.8-.4 1.1-.8.4 0 .8-.3.8-.8s-.3-.8-.7-.8z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        eu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M14.5 12.9V11h2.2l-.2-1.3h-2V7.3H13v2.5h-2V7.4H9.5v2.4H7.2l.2 1.2h2.1v1.9H7.3l.2 1.3h2v2.4H11v-2.4h2v2.4h1.5v-2.4h2.3l-.2-1.3h-2.1zM11 11h2v1.9h-2V11z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M16.1 2.6H7.9C5 2.6 2.6 5 2.6 7.9V16c0 3 2.4 5.3 5.3 5.3H16c3 0 5.3-2.4 5.3-5.3V7.9c.1-2.9-2.3-5.3-5.2-5.3zm3.7 13.5c0 2.1-1.6 3.8-3.7 3.8H7.9c-2.1 0-3.8-1.7-3.8-3.8V7.9c0-2.1 1.7-3.8 3.8-3.8H16c2.1 0 3.8 1.7 3.8 3.8v8.2z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        iu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M5.5 3.8v-.2c0-.3-.2-.5-.5-.5h-.5c-.3 0-.5.2-.5.5V21c0 .3.2.5.5.5H5c.3 0 .5-.2.5-.5v-6.2c5 1.8 9.3-2.7 14.5.6V4.1C14.9 1 10.3 5.6 5.5 3.8zm10.3 8.8c-1.4 0-2.8.3-4.1.6-1.2.3-2.4.5-3.5.5-.9 0-1.8-.2-2.6-.5V5.4c.8.2 1.5.3 2.3.3 1.5 0 2.9-.4 4.3-.7 1.3-.3 2.5-.6 3.8-.6.9 0 1.7.2 2.5.5V13c-.9-.2-1.8-.4-2.7-.4z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        ru = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M17.278 9.5 9.5 1.722 1.722 9.5",
            }),
            2,
            { viewBox: "0 0 19 11" }
          );
        },
        su = {
          "smileys & people": [
            "😀",
            "😃",
            "😄",
            "😁",
            "😆",
            "😅",
            "😂",
            "🤣",
            "🥲",
            "☺",
            "😊",
            "😇",
            "🙂",
            "🙃",
            "😉",
            "😌",
            "😍",
            "🥰",
            "😘",
            "😗",
            "😙",
            "😚",
            "😋",
            "😛",
            "😝",
            "😜",
            "🤪",
            "🤨",
            "🧐",
            "🤓",
            "😎",
            "🥸",
            "🤩",
            "🥳",
            "😏",
            "😒",
            "😞",
            "😔",
            "😟",
            "😕",
            "🙁",
            "☹",
            "😣",
            "😖",
            "😫",
            "😩",
            "🥺",
            "😢",
            "😭",
            "😤",
            "😠",
            "😡",
            "🤬",
            "🤯",
            "😳",
            "🥵",
            "🥶",
            "😶‍🌫",
            "😱",
            "😨",
            "😰",
            "😥",
            "😓",
            "🤗",
            "🤔",
            "🤭",
            "🤫",
            "🤥",
            "😶",
            "😐",
            "😑",
            "😬",
            "🙄",
            "😯",
            "😦",
            "😧",
            "😮",
            "😲",
            "🥱",
            "😴",
            "🤤",
            "😪",
            "😮‍💨",
            "😵",
            "😵‍💫",
            "🤐",
            "🥴",
            "🤢",
            "🤮",
            "🤧",
            "😷",
            "🤒",
            "🤕",
            "🤑",
            "🤠",
            "😈",
            "👿",
            "👹",
            "👺",
            "🤡",
            "💩",
            "👻",
            "💀",
            "☠",
            "👽",
            "👾",
            "🤖",
            "🎃",
            "😺",
            "😸",
            "😹",
            "😻",
            "😼",
            "😽",
            "🙀",
            "😿",
            "😾",
            "🤲",
            "👐",
            "🙌",
            "👏",
            "🤝",
            "👍",
            "👎",
            "👊",
            "✊",
            "🤛",
            "🤜",
            "🤞",
            "✌",
            "🤟",
            "🤘",
            "👌",
            "🤌",
            "🤏",
            "👈",
            "👉",
            "👆",
            "👇",
            "☝",
            "✋",
            "🤚",
            "🖐",
            "🖖",
            "👋",
            "🤙",
            "💪",
            "🦾",
            "🖕",
            "✍",
            "🙏",
            "🦶",
            "🦵",
            "🦿",
            "💄",
            "💋",
            "👄",
            "🦷",
            "👅",
            "👂",
            "🦻",
            "👃",
            "👣",
            "👁",
            "👀",
            "🫀",
            "🫁",
            "🧠",
            "🗣",
            "👤",
            "👥",
            "🫂",
            "👶",
            "👧",
            "🧒",
            "👦",
            "👩",
            "🧑",
            "👨",
            "👩‍🦱",
            "🧑‍🦱",
            "👨‍🦱",
            "👩‍🦰",
            "🧑‍🦰",
            "👨‍🦰",
            "👱‍♀",
            "👱‍♂",
            "👩‍🦳",
            "🧑‍🦳",
            "👨‍🦳",
            "👩‍🦲",
            "🧑‍🦲",
            "👨‍🦲",
            "🧔‍♀",
            "🧔",
            "👵",
            "🧓",
            "👴",
            "👲",
            "👳‍♀",
            "👳‍♂",
            "🧕",
            "👮‍♀",
            "👮‍♂",
            "👷‍♀",
            "👷‍♂",
            "💂‍♀",
            "💂‍♂",
            "🕵‍♀",
            "🕵‍♂",
            "👩‍⚕",
            "🧑‍⚕",
            "👨‍⚕",
            "👩‍🌾",
            "🧑‍🌾",
            "👨‍🌾",
            "👩‍🍳",
            "🧑‍🍳",
            "👨‍🍳",
            "👩‍🎓",
            "🧑‍🎓",
            "👨‍🎓",
            "👩‍🎤",
            "🧑‍🎤",
            "👨‍🎤",
            "👩‍🏫",
            "🧑‍🏫",
            "👨‍🏫",
            "👩‍🏭",
            "🧑‍🏭",
            "👨‍🏭",
            "👩‍💻",
            "🧑‍💻",
            "👨‍💻",
            "👩‍💼",
            "🧑‍💼",
            "👨‍💼",
            "👩‍🔧",
            "🧑‍🔧",
            "👨‍🔧",
            "👩‍🔬",
            "🧑‍🔬",
            "👨‍🔬",
            "👩‍🎨",
            "🧑‍🎨",
            "👨‍🎨",
            "👩‍🚒",
            "🧑‍🚒",
            "👨‍🚒",
            "👩‍✈",
            "🧑‍✈",
            "👨‍✈",
            "👩‍🚀",
            "🧑‍🚀",
            "👨‍🚀",
            "👩‍⚖",
            "🧑‍⚖",
            "👨‍⚖",
            "👰‍♀",
            "👰",
            "👰‍♂",
            "🤵‍♀",
            "🤵",
            "🤵‍♂",
            "👸",
            "🤴",
            "🥷",
            "🦸‍♀",
            "🦸‍♂",
            "🦹‍♀",
            "🦹‍♂",
            "🤶",
            "🧑‍🎄",
            "🎅",
            "🧙‍♀",
            "🧙‍♂",
            "🧝‍♀",
            "🧝‍♂",
            "🧛‍♀",
            "🧛‍♂",
            "🧟‍♀",
            "🧟‍♂",
            "🧞‍♀",
            "🧞‍♂",
            "🧜‍♀",
            "🧜‍♂",
            "🧚‍♀",
            "🧚‍♂",
            "👼",
            "🤰",
            "🤱",
            "👩‍🍼",
            "🧑‍🍼",
            "👨‍🍼",
            "🙇‍♀",
            "🙇‍♂",
            "💁‍♀",
            "💁‍♂",
            "🙅‍♀",
            "🙅‍♂",
            "🙆‍♀",
            "🙆‍♂",
            "🙋‍♀",
            "🙋‍♂",
            "🧏‍♀",
            "🧏",
            "🧏‍♂",
            "🤦‍♀",
            "🤦‍♂",
            "🤷‍♀",
            "🤷‍♂",
            "🙎‍♀",
            "🙎‍♂",
            "🙍‍♀",
            "🙍‍♂",
            "💇‍♀",
            "💇‍♂",
            "💆‍♀",
            "💆‍♂",
            "🧖‍♀",
            "🧖",
            "🧖‍♂",
            "💅",
            "🤳",
            "💃",
            "🕺",
            "👯‍♀",
            "👯‍♂",
            "🕴",
            "👩‍🦽",
            "🧑‍🦽",
            "👨‍🦽",
            "👩‍🦼",
            "🧑‍🦼",
            "👨‍🦼",
            "🚶‍♀",
            "🚶",
            "🚶‍♂",
            "👩‍🦯",
            "🧑‍🦯",
            "👨‍🦯",
            "🧎‍♀",
            "🧎",
            "🧎‍♂",
            "🏃‍♀",
            "🏃",
            "🏃‍♂",
            "🧍‍♀",
            "🧍",
            "🧍‍♂",
            "👫",
            "👭",
            "👬",
            "👩‍❤‍👨",
            "👩‍❤‍👩",
            "💑",
            "👨‍❤‍👨",
            "👩‍❤‍💋‍👨",
            "👩‍❤‍💋‍👩",
            "💏",
            "👨‍❤‍💋‍👨",
            "👨‍👩‍👦",
            "👨‍👩‍👧",
            "👨‍👩‍👧‍👦",
            "👨‍👩‍👦‍👦",
            "👨‍👩‍👧‍👧",
            "👩‍👩‍👦",
            "👩‍👩‍👧",
            "👩‍👩‍👧‍👦",
            "👩‍👩‍👦‍👦",
            "👩‍👩‍👧‍👧",
            "👨‍👨‍👦",
            "👨‍👨‍👧",
            "👨‍👨‍👧‍👦",
            "👨‍👨‍👦‍👦",
            "👨‍👨‍👧‍👧",
            "👩‍👦",
            "👩‍👧",
            "👩‍👧‍👦",
            "👩‍👦‍👦",
            "👩‍👧‍👧",
            "👨‍👦",
            "👨‍👧",
            "👨‍👧‍👦",
            "👨‍👦‍👦",
            "👨‍👧‍👧",
            "🪢",
            "🧶",
            "🧵",
            "🪡",
            "🧥",
            "🥼",
            "🦺",
            "👚",
            "👕",
            "👖",
            "🩲",
            "🩳",
            "👔",
            "👗",
            "👙",
            "🩱",
            "👘",
            "🥻",
            "🩴",
            "🥿",
            "👠",
            "👡",
            "👢",
            "👞",
            "👟",
            "🥾",
            "🧦",
            "🧤",
            "🧣",
            "🎩",
            "🧢",
            "👒",
            "🎓",
            "⛑",
            "🪖",
            "👑",
            "💍",
            "👝",
            "👛",
            "👜",
            "💼",
            "🎒",
            "🧳",
            "👓",
            "🕶",
            "🥽",
            "🌂",
          ],
          "animals & nature": [
            "🐶",
            "🐱",
            "🐭",
            "🐹",
            "🐰",
            "🦊",
            "🐻",
            "🐼",
            "🐻‍❄",
            "🐨",
            "🐯",
            "🦁",
            "🐮",
            "🐷",
            "🐽",
            "🐸",
            "🐵",
            "🙈",
            "🙉",
            "🙊",
            "🐒",
            "🐔",
            "🐧",
            "🐦",
            "🐤",
            "🐣",
            "🐥",
            "🦆",
            "🦅",
            "🦉",
            "🦇",
            "🐺",
            "🐗",
            "🐴",
            "🦄",
            "🐝",
            "🪱",
            "🐛",
            "🦋",
            "🐌",
            "🐞",
            "🐜",
            "🪰",
            "🪲",
            "🪳",
            "🦟",
            "🦗",
            "🕷",
            "🕸",
            "🦂",
            "🐢",
            "🐍",
            "🦎",
            "🦖",
            "🦕",
            "🐙",
            "🦑",
            "🦐",
            "🦞",
            "🦀",
            "🐡",
            "🐠",
            "🐟",
            "🐬",
            "🐳",
            "🐋",
            "🦈",
            "🦭",
            "🐊",
            "🐅",
            "🐆",
            "🦓",
            "🦍",
            "🦧",
            "🦣",
            "🐘",
            "🦛",
            "🦏",
            "🐪",
            "🐫",
            "🦒",
            "🦘",
            "🦬",
            "🐃",
            "🐂",
            "🐄",
            "🐎",
            "🐖",
            "🐏",
            "🐑",
            "🦙",
            "🐐",
            "🦌",
            "🐕",
            "🐩",
            "🦮",
            "🐕‍🦺",
            "🐈",
            "🐈‍⬛",
            "🪶",
            "🐓",
            "🦃",
            "🦤",
            "🦚",
            "🦜",
            "🦢",
            "🦩",
            "🕊",
            "🐇",
            "🦝",
            "🦨",
            "🦡",
            "🦫",
            "🦦",
            "🦥",
            "🐁",
            "🐀",
            "🐿",
            "🦔",
            "🐾",
            "🐉",
            "🐲",
            "🌵",
            "🎄",
            "🌲",
            "🌳",
            "🌴",
            "🪵",
            "🌱",
            "🌿",
            "☘",
            "🍀",
            "🎍",
            "🪴",
            "🎋",
            "🍃",
            "🍂",
            "🍁",
            "🍄",
            "🐚",
            "🪨",
            "🌾",
            "💐",
            "🌷",
            "🌹",
            "🥀",
            "🌺",
            "🌸",
            "🌼",
            "🌻",
            "🌞",
            "🌝",
            "🌛",
            "🌜",
            "🌚",
            "🌕",
            "🌖",
            "🌗",
            "🌘",
            "🌑",
            "🌒",
            "🌓",
            "🌔",
            "🌙",
            "🌎",
            "🌍",
            "🌏",
            "🪐",
            "💫",
            "⭐",
            "🌟",
            "✨",
            "⚡",
            "☄",
            "💥",
            "🔥",
            "🌪",
            "🌈",
            "☀",
            "🌤",
            "⛅",
            "🌥",
            "☁",
            "🌦",
            "🌧",
            "⛈",
            "🌩",
            "🌨",
            "❄",
            "☃",
            "⛄",
            "🌬",
            "💨",
            "💧",
            "💦",
            "☔",
            "☂",
            "🌊",
            "🌫",
          ],
          "food & drink": [
            "🍏",
            "🍎",
            "🍐",
            "🍊",
            "🍋",
            "🍌",
            "🍉",
            "🍇",
            "🍓",
            "🫐",
            "🍈",
            "🍒",
            "🍑",
            "🥭",
            "🍍",
            "🥥",
            "🥝",
            "🍅",
            "🍆",
            "🥑",
            "🥦",
            "🥬",
            "🥒",
            "🌶",
            "🫑",
            "🌽",
            "🥕",
            "🫒",
            "🧄",
            "🧅",
            "🥔",
            "🍠",
            "🥐",
            "🥯",
            "🍞",
            "🥖",
            "🥨",
            "🧀",
            "🥚",
            "🍳",
            "🧈",
            "🥞",
            "🧇",
            "🥓",
            "🥩",
            "🍗",
            "🍖",
            "🦴",
            "🌭",
            "🍔",
            "🍟",
            "🍕",
            "🫓",
            "🥪",
            "🥙",
            "🧆",
            "🌮",
            "🌯",
            "🫔",
            "🥗",
            "🥘",
            "🫕",
            "🥫",
            "🍝",
            "🍜",
            "🍲",
            "🍛",
            "🍣",
            "🍱",
            "🥟",
            "🦪",
            "🍤",
            "🍙",
            "🍚",
            "🍘",
            "🍥",
            "🥠",
            "🥮",
            "🍢",
            "🍡",
            "🍧",
            "🍨",
            "🍦",
            "🥧",
            "🧁",
            "🍰",
            "🎂",
            "🍮",
            "🍭",
            "🍬",
            "🍫",
            "🍿",
            "🍩",
            "🍪",
            "🌰",
            "🥜",
            "🍯",
            "🥛",
            "🍼",
            "🫖",
            "☕",
            "🍵",
            "🧃",
            "🥤",
            "🧋",
            "🍶",
            "🍺",
            "🍻",
            "🥂",
            "🍷",
            "🥃",
            "🍸",
            "🍹",
            "🧉",
            "🍾",
            "🧊",
            "🥄",
            "🍴",
            "🍽",
            "🥣",
            "🥡",
            "🥢",
            "🧂",
          ],
          activity: [
            "⚽",
            "🏀",
            "🏈",
            "⚾",
            "🥎",
            "🎾",
            "🏐",
            "🏉",
            "🥏",
            "🎱",
            "🪀",
            "🏓",
            "🏸",
            "🏒",
            "🏑",
            "🥍",
            "🏏",
            "🪃",
            "🥅",
            "⛳",
            "🪁",
            "🏹",
            "🎣",
            "🤿",
            "🥊",
            "🥋",
            "🎽",
            "🛹",
            "🛼",
            "🛷",
            "⛸",
            "🥌",
            "🎿",
            "⛷",
            "🏂",
            "🪂",
            "🏋‍♀",
            "🏋‍♂",
            "🤼‍♀",
            "🤼‍♂",
            "🤸‍♀",
            "🤸",
            "🤸‍♂",
            "⛹‍♀",
            "⛹",
            "⛹‍♂",
            "🤺",
            "🤾‍♀",
            "🤾",
            "🤾‍♂",
            "🏌‍♀",
            "🏌",
            "🏌‍♂",
            "🏇",
            "🧘‍♀",
            "🧘",
            "🧘‍♂",
            "🏄‍♀",
            "🏄",
            "🏄‍♂",
            "🏊‍♀",
            "🏊",
            "🏊‍♂",
            "🤽‍♀",
            "🤽",
            "🤽‍♂",
            "🚣‍♀",
            "🚣",
            "🚣‍♂",
            "🧗‍♀",
            "🧗",
            "🧗‍♂",
            "🚵‍♀",
            "🚵",
            "🚵‍♂",
            "🚴‍♀",
            "🚴",
            "🚴‍♂",
            "🏆",
            "🥇",
            "🥈",
            "🥉",
            "🏅",
            "🎖",
            "🏵",
            "🎗",
            "🎫",
            "🎟",
            "🎪",
            "🤹‍♀",
            "🤹‍♂",
            "🎭",
            "🩰",
            "🎨",
            "🎬",
            "🎤",
            "🎧",
            "🎼",
            "🎹",
            "🥁",
            "🪘",
            "🎷",
            "🎺",
            "🪗",
            "🎸",
            "🪕",
            "🎻",
            "🎲",
            "♟",
            "🎯",
            "🎳",
            "🎮",
            "🎰",
            "🧩",
          ],
          "travel & places": [
            "🚗",
            "🚕",
            "🚙",
            "🚌",
            "🚎",
            "🏎",
            "🚓",
            "🚑",
            "🚒",
            "🚐",
            "🛻",
            "🚚",
            "🚛",
            "🚜",
            "🦯",
            "🦽",
            "🦼",
            "🛴",
            "🚲",
            "🛵",
            "🏍",
            "🛺",
            "🚨",
            "🚔",
            "🚍",
            "🚘",
            "🚖",
            "🚡",
            "🚠",
            "🚟",
            "🚃",
            "🚋",
            "🚞",
            "🚝",
            "🚄",
            "🚅",
            "🚈",
            "🚂",
            "🚆",
            "🚇",
            "🚊",
            "🚉",
            "✈",
            "🛫",
            "🛬",
            "🛩",
            "💺",
            "🛰",
            "🚀",
            "🛸",
            "🚁",
            "🛶",
            "⛵",
            "🚤",
            "🛥",
            "🛳",
            "⛴",
            "🚢",
            "⚓",
            "🪝",
            "⛽",
            "🚧",
            "🚦",
            "🚥",
            "🚏",
            "🗺",
            "🗿",
            "🗽",
            "🗼",
            "🏰",
            "🏯",
            "🏟",
            "🎡",
            "🎢",
            "🎠",
            "⛲",
            "⛱",
            "🏖",
            "🏝",
            "🏜",
            "🌋",
            "⛰",
            "🏔",
            "🗻",
            "🏕",
            "⛺",
            "🛖",
            "🏠",
            "🏡",
            "🏘",
            "🏚",
            "🏗",
            "🏭",
            "🏢",
            "🏬",
            "🏣",
            "🏤",
            "🏥",
            "🏦",
            "🏨",
            "🏪",
            "🏫",
            "🏩",
            "💒",
            "🏛",
            "⛪",
            "🕌",
            "🕍",
            "🛕",
            "🕋",
            "⛩",
            "🛤",
            "🛣",
            "🗾",
            "🎑",
            "🏞",
            "🌅",
            "🌄",
            "🌠",
            "🎇",
            "🎆",
            "🌇",
            "🌆",
            "🏙",
            "🌃",
            "🌌",
            "🌉",
            "🌁",
          ],
          objects: [
            "⌚",
            "📱",
            "📲",
            "💻",
            "⌨",
            "🖥",
            "🖨",
            "🖱",
            "🖲",
            "🕹",
            "🗜",
            "💽",
            "💾",
            "💿",
            "📀",
            "📼",
            "📷",
            "📸",
            "📹",
            "🎥",
            "📽",
            "🎞",
            "📞",
            "☎",
            "📟",
            "📠",
            "📺",
            "📻",
            "🎙",
            "🎚",
            "🎛",
            "🧭",
            "⏱",
            "⏲",
            "⏰",
            "🕰",
            "⌛",
            "⏳",
            "📡",
            "🔋",
            "🔌",
            "💡",
            "🔦",
            "🕯",
            "🪔",
            "🧯",
            "🛢",
            "💸",
            "💵",
            "💴",
            "💶",
            "💷",
            "🪙",
            "💰",
            "💳",
            "💎",
            "⚖",
            "🪜",
            "🧰",
            "🪛",
            "🔧",
            "🔨",
            "⚒",
            "🛠",
            "⛏",
            "🪚",
            "🔩",
            "⚙",
            "🪤",
            "🧱",
            "⛓",
            "🧲",
            "🔫",
            "💣",
            "🧨",
            "🪓",
            "🔪",
            "🗡",
            "⚔",
            "🛡",
            "🚬",
            "⚰",
            "🪦",
            "⚱",
            "🏺",
            "🔮",
            "📿",
            "🧿",
            "💈",
            "⚗",
            "🔭",
            "🔬",
            "🕳",
            "🩹",
            "🩺",
            "💊",
            "💉",
            "🩸",
            "🧬",
            "🦠",
            "🧫",
            "🧪",
            "🌡",
            "🧹",
            "🪠",
            "🧺",
            "🧻",
            "🚽",
            "🚰",
            "🚿",
            "🛁",
            "🛀",
            "🧼",
            "🪥",
            "🪒",
            "🧽",
            "🪣",
            "🧴",
            "🛎",
            "🔑",
            "🗝",
            "🚪",
            "🪑",
            "🛋",
            "🛏",
            "🛌",
            "🧸",
            "🪆",
            "🖼",
            "🪞",
            "🪟",
            "🛍",
            "🛒",
            "🎁",
            "🎈",
            "🎏",
            "🎀",
            "🪄",
            "🪅",
            "🎊",
            "🎉",
            "🎎",
            "🏮",
            "🎐",
            "🧧",
            "✉",
            "📩",
            "📨",
            "📧",
            "💌",
            "📥",
            "📤",
            "📦",
            "🏷",
            "🪧",
            "📪",
            "📫",
            "📬",
            "📭",
            "📮",
            "📯",
            "📜",
            "📃",
            "📄",
            "📑",
            "🧾",
            "📊",
            "📈",
            "📉",
            "🗒",
            "🗓",
            "📆",
            "📅",
            "🗑",
            "📇",
            "🗃",
            "🗳",
            "🗄",
            "📋",
            "📁",
            "📂",
            "🗂",
            "🗞",
            "📰",
            "📓",
            "📔",
            "📒",
            "📕",
            "📗",
            "📘",
            "📙",
            "📚",
            "📖",
            "🔖",
            "🧷",
            "🔗",
            "📎",
            "🖇",
            "📐",
            "📏",
            "🧮",
            "📌",
            "📍",
            "✂",
            "🖊",
            "🖋",
            "✒",
            "🖌",
            "🖍",
            "📝",
            "✏",
            "🔍",
            "🔎",
            "🔏",
            "🔐",
            "🔒",
            "🔓",
          ],
          symbols: [
            "❤",
            "🧡",
            "💛",
            "💚",
            "💙",
            "💜",
            "🖤",
            "🤍",
            "🤎",
            "💔",
            "❤‍🔥",
            "❤‍🩹",
            "❣",
            "💕",
            "💞",
            "💓",
            "💗",
            "💖",
            "💘",
            "💝",
            "💟",
            "☮",
            "✝",
            "☪",
            "🕉",
            "☸",
            "✡",
            "🔯",
            "🕎",
            "☯",
            "☦",
            "🛐",
            "⛎",
            "♈",
            "♉",
            "♊",
            "♋",
            "♌",
            "♍",
            "♎",
            "♏",
            "♐",
            "♑",
            "♒",
            "♓",
            "🆔",
            "⚛",
            "🉑",
            "☢",
            "☣",
            "📴",
            "📳",
            "🈶",
            "🈚",
            "🈸",
            "🈺",
            "🈷",
            "✴",
            "🆚",
            "💮",
            "🉐",
            "㊙",
            "㊗",
            "🈴",
            "🈵",
            "🈹",
            "🈲",
            "🅰",
            "🅱",
            "🆎",
            "🆑",
            "🅾",
            "🆘",
            "❌",
            "⭕",
            "🛑",
            "⛔",
            "📛",
            "🚫",
            "💯",
            "💢",
            "♨",
            "🚷",
            "🚯",
            "🚳",
            "🚱",
            "🔞",
            "📵",
            "🚭",
            "❗",
            "❕",
            "❓",
            "❔",
            "‼",
            "⁉",
            "🔅",
            "🔆",
            "〽",
            "⚠",
            "🚸",
            "🔱",
            "⚜",
            "🔰",
            "♻",
            "✅",
            "🈯",
            "💹",
            "❇",
            "✳",
            "❎",
            "🌐",
            "💠",
            "Ⓜ",
            "🌀",
            "💤",
            "🏧",
            "🚾",
            "♿",
            "🅿",
            "🛗",
            "🈳",
            "🈂",
            "🛂",
            "🛃",
            "🛄",
            "🛅",
            "🚹",
            "🚺",
            "🚼",
            "⚧",
            "🚻",
            "🚮",
            "🎦",
            "📶",
            "🈁",
            "🔣",
            "ℹ",
            "🔤",
            "🔡",
            "🔠",
            "🆖",
            "🆗",
            "🆙",
            "🆒",
            "🆕",
            "🆓",
            "0⃣",
            "1⃣",
            "2⃣",
            "3⃣",
            "4⃣",
            "5⃣",
            "6⃣",
            "7⃣",
            "8⃣",
            "9⃣",
            "🔟",
            "🔢",
            "#⃣",
            "*⃣",
            "⏏",
            "▶",
            "⏸",
            "⏯",
            "⏹",
            "⏺",
            "⏭",
            "⏮",
            "⏩",
            "⏪",
            "⏫",
            "⏬",
            "◀",
            "🔼",
            "🔽",
            "➡",
            "⬅",
            "⬆",
            "⬇",
            "↗",
            "↘",
            "↙",
            "↖",
            "↕",
            "↔",
            "↪",
            "↩",
            "⤴",
            "⤵",
            "🔀",
            "🔁",
            "🔂",
            "🔄",
            "🔃",
            "🎵",
            "🎶",
            "➕",
            "➖",
            "➗",
            "✖",
            "♾",
            "💲",
            "💱",
            "™",
            "©",
            "®",
            "👁‍🗨",
            "🔚",
            "🔙",
            "🔛",
            "🔝",
            "🔜",
            "〰",
            "➰",
            "➿",
            "✔",
            "☑",
            "🔘",
            "🔴",
            "🟠",
            "🟡",
            "🟢",
            "🔵",
            "🟣",
            "⚫",
            "⚪",
            "🟤",
            "🔺",
            "🔻",
            "🔸",
            "🔹",
            "🔶",
            "🔷",
            "🔳",
            "🔲",
            "▪",
            "▫",
            "◾",
            "◽",
            "◼",
            "◻",
            "🟥",
            "🟧",
            "🟨",
            "🟩",
            "🟦",
            "🟪",
            "⬛",
            "⬜",
            "🟫",
            "🔈",
            "🔇",
            "🔉",
            "🔊",
            "🔔",
            "🔕",
            "📣",
            "📢",
            "💬",
            "💭",
            "🗯",
            "♠",
            "♣",
            "♥",
            "♦",
            "🃏",
            "🎴",
            "🀄",
            "🕐",
            "🕑",
            "🕒",
            "🕓",
            "🕔",
            "🕕",
            "🕖",
            "🕗",
            "🕘",
            "🕙",
            "🕚",
            "🕛",
            "🕜",
            "🕝",
            "🕞",
            "🕟",
            "🕠",
            "🕡",
            "🕢",
            "🕣",
            "🕤",
            "🕥",
            "🕦",
            "🕧",
          ],
          flags: [
            "🏳",
            "🏴",
            "🏴‍☠",
            "🏁",
            "🚩",
            "🏳‍🌈",
            "🏳‍⚧",
            "🏳‍🟧‍⬛‍🟧",
            "🇺🇳",
            "🇦🇫",
            "🇦🇽",
            "🇦🇱",
            "🇩🇿",
            "🇦🇸",
            "🇦🇩",
            "🇦🇴",
            "🇦🇮",
            "🇦🇶",
            "🇦🇬",
            "🇦🇷",
            "🇦🇲",
            "🇦🇼",
            "🇦🇺",
            "🇦🇹",
            "🇦🇿",
            "🇧🇸",
            "🇧🇭",
            "🇧🇩",
            "🇧🇧",
            "🇧🇾",
            "🇧🇪",
            "🇧🇿",
            "🇧🇯",
            "🇧🇲",
            "🇧🇹",
            "🇧🇴",
            "🇧🇦",
            "🇧🇼",
            "🇧🇷",
            "🇻🇬",
            "🇧🇳",
            "🇧🇬",
            "🇧🇫",
            "🇧🇮",
            "🇰🇭",
            "🇨🇲",
            "🇨🇦",
            "🇮🇨",
            "🇨🇻",
            "🇧🇶",
            "🇰🇾",
            "🇨🇫",
            "🇹🇩",
            "🇮🇴",
            "🇨🇱",
            "🇨🇳",
            "🇨🇽",
            "🇨🇨",
            "🇨🇴",
            "🇰🇲",
            "🇨🇬",
            "🇨🇩",
            "🇨🇰",
            "🇨🇷",
            "🇨🇮",
            "🇭🇷",
            "🇨🇺",
            "🇨🇼",
            "🇨🇾",
            "🇨🇿",
            "🇩🇰",
            "🇩🇯",
            "🇩🇲",
            "🇩🇴",
            "🇪🇨",
            "🇪🇬",
            "🇸🇻",
            "🇬🇶",
            "🇪🇷",
            "🇪🇪",
            "🇸🇿",
            "🇪🇹",
            "🇪🇺",
            "🇫🇰",
            "🇫🇴",
            "🇫🇯",
            "🇫🇮",
            "🇫🇷",
            "🇬🇫",
            "🇵🇫",
            "🇹🇫",
            "🇬🇦",
            "🇬🇲",
            "🇬🇪",
            "🇩🇪",
            "🇬🇭",
            "🇬🇮",
            "🇬🇷",
            "🇬🇱",
            "🇬🇩",
            "🇬🇵",
            "🇬🇺",
            "🇬🇹",
            "🇬🇬",
            "🇬🇳",
            "🇬🇼",
            "🇬🇾",
            "🇭🇹",
            "🇭🇳",
            "🇭🇰",
            "🇭🇺",
            "🇮🇸",
            "🇮🇳",
            "🇮🇩",
            "🇮🇷",
            "🇮🇶",
            "🇮🇪",
            "🇮🇲",
            "🇮🇱",
            "🇮🇹",
            "🇯🇲",
            "🇯🇵",
            "🎌",
            "🇯🇪",
            "🇯🇴",
            "🇰🇿",
            "🇰🇪",
            "🇰🇮",
            "🇽🇰",
            "🇰🇼",
            "🇰🇬",
            "🇱🇦",
            "🇱🇻",
            "🇱🇧",
            "🇱🇸",
            "🇱🇷",
            "🇱🇾",
            "🇱🇮",
            "🇱🇹",
            "🇱🇺",
            "🇲🇴",
            "🇲🇬",
            "🇲🇼",
            "🇲🇾",
            "🇲🇻",
            "🇲🇱",
            "🇲🇹",
            "🇲🇭",
            "🇲🇶",
            "🇲🇷",
            "🇲🇺",
            "🇾🇹",
            "🇲🇽",
            "🇫🇲",
            "🇲🇩",
            "🇲🇨",
            "🇲🇳",
            "🇲🇪",
            "🇲🇸",
            "🇲🇦",
            "🇲🇿",
            "🇲🇲",
            "🇳🇦",
            "🇳🇷",
            "🇳🇵",
            "🇳🇱",
            "🇳🇨",
            "🇳🇿",
            "🇳🇮",
            "🇳🇪",
            "🇳🇬",
            "🇳🇺",
            "🇳🇫",
            "🇰🇵",
            "🇲🇰",
            "🇲🇵",
            "🇳🇴",
            "🇴🇲",
            "🇵🇰",
            "🇵🇼",
            "🇵🇸",
            "🇵🇦",
            "🇵🇬",
            "🇵🇾",
            "🇵🇪",
            "🇵🇭",
            "🇵🇳",
            "🇵🇱",
            "🇵🇹",
            "🇵🇷",
            "🇶🇦",
            "🇷🇪",
            "🇷🇴",
            "🇷🇺",
            "🇷🇼",
            "🇼🇸",
            "🇸🇲",
            "🇸🇹",
            "🇸🇦",
            "🇸🇳",
            "🇷🇸",
            "🇸🇨",
            "🇸🇱",
            "🇸🇬",
            "🇸🇽",
            "🇸🇰",
            "🇸🇮",
            "🇬🇸",
            "🇸🇧",
            "🇸🇴",
            "🇿🇦",
            "🇰🇷",
            "🇸🇸",
            "🇪🇸",
            "🇱🇰",
            "🇧🇱",
            "🇸🇭",
            "🇰🇳",
            "🇱🇨",
            "🇵🇲",
            "🇻🇨",
            "🇸🇩",
            "🇸🇷",
            "🇸🇪",
            "🇨🇭",
            "🇸🇾",
            "🇹🇼",
            "🇹🇯",
            "🇹🇿",
            "🇹🇭",
            "🇹🇱",
            "🇹🇬",
            "🇹🇰",
            "🇹🇴",
            "🇹🇹",
            "🇹🇳",
            "🇹🇷",
            "🇹🇲",
            "🇹🇨",
            "🇹🇻",
            "🇻🇮",
            "🇺🇬",
            "🇺🇦",
            "🇦🇪",
            "🇬🇧",
            "🏴󠁧󠁢󠁥󠁮󠁧󠁿",
            "🏴󠁧󠁢󠁳󠁣󠁴󠁿",
            "🏴󠁧󠁢󠁷󠁬󠁳󠁿",
            "🇺🇸",
            "🏴󠁵󠁳󠁴󠁸󠁿",
            "🇺🇾",
            "🇺🇿",
            "🇻🇺",
            "🇻🇦",
            "🇻🇪",
            "🇻🇳",
            "🇼🇫",
            "🇪🇭",
            "🇾🇪",
            "🇿🇲",
            "🇿🇼",
          ],
        },
        nu = [
          "recents",
          "smileys & people",
          "animals & nature",
          "food & drink",
          "activity",
          "travel & places",
          "objects",
          "symbols",
          "flags",
        ],
        au = 12,
        lu = D.f
          ? [
              ["w", "e", "r", "t"],
              ["s", "d", "f", "g"],
              ["z", "x", "c", "v"],
            ]
          : [
              ["1", "2", "3"],
              ["4", "5", "6"],
              ["7", "8", "9"],
              ["*", "0", "#"],
            ],
        ou = D.f
          ? {
              w: 0,
              e: 1,
              r: 2,
              t: 3,
              s: 4,
              d: 5,
              f: 6,
              g: 7,
              z: 8,
              x: 9,
              c: 10,
              v: 11,
            }
          : {
              1: 0,
              2: 1,
              3: 2,
              4: 3,
              5: 4,
              6: 5,
              7: 6,
              8: 7,
              9: 8,
              "*": 9,
              0: 10,
              "#": 11,
            },
        uu = null,
        hu = !1,
        cu = null,
        du = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.MQ = 0),
              (this.MR = !1),
              (this.MS = n.e()),
              (this.MT = !1),
              (this.MU = new Array(nu.length).fill(0)),
              (this.MW = !1),
              (this.MX = [
                { key: "recents", icon: $o },
                { key: "people", icon: Yo },
                { key: "nature", icon: qo },
                { key: "food", icon: Xo },
                { key: "activity", icon: Qo },
                { key: "travel", icon: Zo },
                { key: "objects", icon: tu },
                { key: "symbols", icon: eu },
                { key: "flag", icon: iu },
              ]),
              (this.state = {
                loading: null == uu,
                viewMode: "category",
                categoryIndex: 0,
                emojiIndex: 0,
                emojis: [],
                recents: [],
                pages: 1,
              }),
              (this.onKeyDown = (t) => {
                var e = (0, Ho.m)(t),
                  i = ou[e];
                null != i &&
                  (this.inputEmoji(i), t.preventDefault(), t.stopPropagation());
              }),
              (this.Mb = () => {
                var t = this.state,
                  e = t.emojiIndex;
                if ("category" !== t.viewMode) {
                  var i = this.Mg(e),
                    r = this.state.emojiIndex - lu[0].length;
                  i.rowIndex > 0 ? this.Mh(r) : this.Mf("category");
                } else this.Mf("emoji", !1);
              }),
              (this.Mc = () => {
                var t = this.state,
                  e = t.emojiIndex;
                if ("category" !== t.viewMode) {
                  var i = this.Mg(e),
                    r = e + lu[0].length;
                  i.rowIndex < lu.length - 1 && this.state.emojis[r]
                    ? this.Mh(r)
                    : this.Mf("category", !0);
                } else this.Mf("emoji");
              }),
              (this.Ma = () => {
                this.MW = !0;
                var t = this.state,
                  e = t.categoryIndex;
                if ("category" !== t.viewMode) {
                  var i = this.state.emojiIndex,
                    r = i - 1;
                  if (this.Mg(i).colIndex > 0) this.Mh(r);
                  else {
                    var s = (0 === e ? nu.length : e) - 1;
                    this.Mh(r + lu[0].length, s);
                  }
                } else {
                  var n = (0 === e ? nu.length : e) - 1;
                  this.Mh(0, n);
                }
              }),
              (this.MZ = () => {
                this.MW = !0;
                var t = this.state,
                  e = t.categoryIndex;
                if ("category" !== t.viewMode) {
                  var i = this.state.emojiIndex,
                    r = this.Mg(i),
                    s = i + 1;
                  if (r.colIndex < lu[0].length - 1 && this.state.emojis[s])
                    this.Mh(s);
                  else {
                    var n = (e + 1) % nu.length;
                    this.Mh(r.rowIndex * lu[0].length, n);
                  }
                } else {
                  var a = (e + 1) % nu.length;
                  this.Mh(0, a);
                }
              }),
              (this.Me = () => {
                var t = this.state,
                  e = t.emojiIndex,
                  i = t.categoryIndex,
                  r = this.MU[i];
                this.MY(e, i, r - 1);
              }),
              (this.Md = () => {
                var t = this.state,
                  e = t.emojiIndex,
                  i = t.categoryIndex,
                  r = this.MU[i];
                this.MY(e, i, r + 1);
              }),
              (this.MT = (0, le.g)()),
              null != uu && (this.state.recents = pu(t.backend, uu));
          }
          componentDidMount() {
            (this.MV = (0, Ie.t)()),
              (this.MR = !0),
              this.MS.current && (this.MP = this.MS.current.clientHeight),
              null != uu
                ? this.MY(0, this.state.recents.length > 0 ? 0 : 1)
                : ((cu = (t) => {
                    if (this.MR) {
                      var e = pu(this.props.backend, t);
                      this.MW
                        ? 0 === this.state.categoryIndex
                          ? (__LOG__(
                              2
                            )`EmojiPicker user overrided to see recents`,
                            this.MY(0, 0, 0, e))
                          : (__LOG__(2)`EmojiPicker user overrided movement`,
                            this.setState({ loading: !1, recents: e }))
                        : e.length > 0
                        ? (__LOG__(2)`EmojiPicker auto loading recents`,
                          this.MY(0, 0, 0, e))
                        : (__LOG__(2)`EmojiPicker auto loading people`,
                          this.MY(0, 1));
                    }
                  }),
                  vu(this.props.backend)),
              super.componentDidMount();
          }
          componentWillUnmount() {
            var t = (0, Ie.u)(this.MV);
            WAM.log("regular", 2272, void 0, [1, 0, this.MQ, 2, 0, t]),
              (this.MR = !1),
              (cu = null),
              super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            t.setBack(() => {
              (0, b.a)(), this.props.cancelEmoji && this.props.cancelEmoji();
            }),
              this.MT
                ? t.setLeftRightArrows(this.MZ, this.Ma)
                : t.setLeftRightArrows(this.Ma, this.MZ);
            var i = this.state,
              r = i.categoryIndex,
              n = i.emojis,
              a = i.emojiIndex,
              l = i.viewMode,
              o = i.pages;
            ("recents" === nu[r] && 0 === n.length) ||
              (t.setUpDownArrows(this.Mb, this.Mc),
              o > 1 &&
                (t.setRightIcon((0, s.b)(2, ru, { className: "Oa" }), this.Md),
                t.setLeftIcon((0, s.b)(2, ru, { className: "Ob" }), this.Me)),
              "emoji" === l && t.setCenterLabel(930, () => this.inputEmoji(a)));
          }
          inputEmoji(t) {
            var e = this.state.emojis[t];
            if (e) {
              var i = e.emoji;
              (function (t, e, i) {
                null == e.get(i) && e.set(i, 0),
                  e.forEach((t, r) => {
                    var s = t;
                    r === i ? (s += 1) : (s *= 0.9);
                    var n = Math.round(1e3 * s) / 1e3;
                    e.set(r, n);
                  }),
                  fu(t, e);
              })(this.props.backend, uu || new Map(), i),
                (this.MQ += 1),
                (0, b.a)(),
                this.props.addEmoji(i);
            }
          }
          MY(t, e) {
            var i =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : 0,
              r = arguments.length > 3 ? arguments[3] : void 0,
              s = nu[e];
            if (s) {
              var n;
              if ("recents" === s) {
                if (0 === (n = r || this.state.recents).length)
                  return void this.setState({
                    loading: null == uu,
                    viewMode: "category",
                    categoryIndex: e,
                    emojis: [],
                    pages: 1,
                  });
              } else n = su[s];
              var a,
                l = Math.floor(n.length / au);
              i < 0
                ? (a = l) * au === n.length && (a = l - 1)
                : (a = i % (l + 1)) * au === n.length && (a = 0);
              var o = a * au,
                u = o + au,
                c = n.slice(o, u);
              if (0 !== c.length) {
                var d = c.map((t) => ({ emoji: t, node: (0, h.b)(t) })),
                  v = d.length - 1,
                  p = t;
                if (v < t) {
                  var f = lu[0].length;
                  if (0 == t % f) {
                    var m = Math.floor(v / f);
                    p = m * f;
                  } else p = v;
                }
                (this.MU[e] = a),
                  this.setState((t) => {
                    var i = null != r ? r : t.recents;
                    return {
                      loading: !1,
                      categoryIndex: e,
                      emojis: d,
                      emojiIndex: p,
                      pages: Math.ceil(n.length / au),
                      recents: i,
                    };
                  });
              }
            } else __LOG__(3)`EmojiPicker could not load category at ${e}`;
          }
          Mh(t, e) {
            if (null != e) {
              var i = this.MU[e];
              this.MY(t, e, i);
            } else
              this.state.emojis[t]
                ? this.setState({ emojiIndex: t })
                : __LOG__(3)`EmojiPicker cannot move to emojiIndex ${t}`;
          }
          Mf(t, e) {
            if (null != e) {
              for (
                var i = this.state,
                  r = i.emojiIndex,
                  s = i.emojis,
                  n = lu[0].length * (!0 === e ? 1 : -1),
                  a = !1,
                  l = r;
                !a;

              )
                (l = (l + n) % au) < 0 && (l += au), (a = null != s[l]);
              this.setState({ viewMode: t, emojiIndex: l });
            } else this.setState({ viewMode: t });
          }
          Mg(t) {
            var e = lu[0].length;
            return { rowIndex: Math.floor(t / e), colIndex: t % e };
          }
          Mi(t, e) {
            var i = e + t * lu[0].length,
              r = this.state.emojis[i];
            if (r) return r.node;
          }
          Mj() {
            for (var t = [], e = 0, i = lu.length; e < i; ++e)
              for (var r = lu[e], n = 0, a = r.length; n < a; ++n)
                t.push((0, s.f)(1, "div", "OU OT", null, 1, null, r[n]));
            return t;
          }
          Mk() {
            return [
              (0, s.f)(1, "div", "OY", (0, s.b)(2, ss.a), 2, null, "spinner"),
              ...this.Mj(),
            ];
          }
          Ml() {
            return [
              (0, s.f)(
                1,
                "div",
                "OZ",
                (0, s.b)(2, o.b, { l10n: 257 }),
                2,
                null,
                "emptyText"
              ),
              ...this.Mj(),
            ];
          }
          Mm() {
            for (
              var t = this.state,
                e = t.emojiIndex,
                i = t.viewMode,
                r = this.Mg(e),
                n = "emoji" === i,
                a = [],
                l = 0,
                o = lu.length;
              l < o;
              ++l
            )
              for (var u = lu[l], h = 0, c = u.length; h < c; ++h) {
                var d = u[h],
                  v = l === r.rowIndex && h === r.colIndex,
                  p = this.Mi(l, h);
                a.push(
                  (0, s.f)(
                    1,
                    "div",
                    (0, Mt.a)("OT", v && n && "OX"),
                    [p, (0, s.f)(1, "div", "*" === d ? "OW OV" : "OV", d, 0)],
                    0,
                    null,
                    d
                  )
                );
              }
            return a;
          }
          Mn(t) {
            if (this.state.loading || null == this.MP || this.state.pages <= 1)
              return null;
            var e = this.MU[t],
              i = {},
              r = this.MP / this.state.pages;
            if (r > 30) {
              var a = e * r;
              (i.height = r + "px"), (i.top = a + "px");
            } else {
              var l = e * ((this.MP - 30) / (this.state.pages - 1));
              i.top = l + "px";
            }
            return (0, s.f)(1, "div", "Oc", null, 1, { style: n.h(i) });
          }
          render() {
            var t,
              e = this.state,
              i = e.categoryIndex,
              r = e.emojis,
              n = e.loading,
              a = e.viewMode,
              l = 0 === i && 0 === r.length;
            return (
              (t = n ? this.Mk() : l ? this.Ml() : this.Mm()),
              (0, s.b)(2, Wo.b.div, {
                className: "OR",
                hasFocusPriority: !0,
                onKeyDown: this.onKeyDown,
                tabIndex: "1",
                children: [
                  (0, s.b)(2, Jo.a, {
                    items: this.MX,
                    selectedIndex: "category" === a ? i : null,
                    activeIndex: i,
                  }),
                  (0, s.f)(
                    1,
                    "div",
                    "OS",
                    [t, this.Mn(i)],
                    0,
                    null,
                    null,
                    this.MS
                  ),
                ],
              })
            );
          }
        };
      function vu(t) {
        hu ||
          ((hu = !0),
          t
            .sendAndReceive("backend", "getRecentEmojis", {})
            .then((t) => {
              (uu = t || new Map()), cu && cu(uu);
            })
            .catch((t) => {
              __LOG__(3)`EmojiPicker getRecentEmojis failed`,
                (uu = new Map()),
                cu && cu(uu);
            }));
      }
      function pu(t, e) {
        var i = e.size;
        if (0 === i) return [];
        for (
          var r = Array.from(e).sort((t, e) => {
              var i = ms()(t, 2),
                r = (i[0], i[1]),
                s = ms()(e, 2);
              return s[0], s[1] - r;
            }),
            s = r[0],
            n = r[Math.min(36, i) - 1],
            a = s && n && (s[1] >= 10 || n[1] <= 0.01),
            l = [],
            o = 0;
          o < r.length;
          o++
        ) {
          var u = r[o][0];
          if (o >= 36) e.delete(u);
          else {
            if (a) {
              var h = 1 + ((i - o) / i) * 3;
              e.set(u, h);
            }
            l.push(u);
          }
        }
        return fu(t, e), l;
      }
      function fu(t, e) {
        t.sendAndReceive("backend", "setRecentEmojis", { recentEmojis: e });
      }
      function mu(t, e, i) {
        (0, b.b)((0, s.b)(2, du, { backend: t, addEmoji: e, cancelEmoji: i }));
      }
      var gu = (0, s.b)(2, Yo, { className: "Hd q" }),
        Su = i(380),
        yu = 12;
      function _u(t) {
        switch (t) {
          case 0:
            return null;
          case 1:
            return "GIPHY";
          default:
            return "TENOR";
        }
      }
      function bu(t) {
        switch (t) {
          case "GIPHY":
            return 0;
          default:
            return 1;
        }
      }
      function xu(t, e, i) {
        switch (t) {
          case "GIPHY":
            return (function (t) {
              var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : "",
                i = (0, le.d)().lg;
              return wu(
                (0, fa.c)(Cu, "/v1/gifs/search", {
                  api_key: ku,
                  limit: yu,
                  rating: "pg-13",
                  offset: e,
                  lang: i,
                  q: t,
                }),
                e,
                Nu,
                Eu,
                Iu
              );
            })(e, i);
          case "TENOR":
            return (function (t) {
              var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : "",
                i = (0, le.d)().lg;
              return wu(
                (0, fa.c)(Lu, "/v1/search", {
                  key: Mu,
                  limit: yu,
                  contentfilter: "low",
                  media_filter: "basic",
                  locale: i,
                  pos: e,
                  q: t,
                }),
                e,
                Au,
                Ru,
                Uu
              );
            })(e, i);
          default:
            return (0, m.a)(t);
        }
      }
      function wu(t, e, i, r, s) {
        return (0, fa.k)(t)
          .then((t) => (t.ok ? t.json() : null))
          .then((n) => {
            if (null == n) return null;
            var a = i(n);
            if (null == a)
              return (
                __LOG__(
                  4
                )`Couldn't extract GIFs from URL ${t}. API response was ${JSON.stringify(
                  n
                )}`,
                SEND_LOGS("gif-api-json-malformed", 0.01),
                { type: "remote", gifs: [], nextFetchPosition: null }
              );
            for (var l = [], o = 0; o < a.length; o++) {
              var u = r(a[o], e);
              null != u && l.push(u);
            }
            return { type: "remote", gifs: l, nextFetchPosition: s(n) };
          })
          .catch(
            (t) => (__LOG__(4)`Error when fetching and normalizing GIFs`, null)
          );
      }
      function Ou(t, e, i) {
        return (0, fa.k)(t)
          .then((t) => (t.ok ? t.json() : null))
          .then((r) => {
            if (null == r)
              return {
                type: "error",
                reason: "HTTP request failed or invalid JSON",
              };
            var s = e(r);
            if (null == s)
              return (
                __LOG__(
                  4
                )`Couldn't extract autocomplete terms from URL ${t}. API response was ${JSON.stringify(
                  r
                )}`,
                SEND_LOGS("autocomplete-api-json-malformed", 0.01),
                { type: "ok", terms: [] }
              );
            for (var n = [], a = 0, l = s.length; a < 5 && a < l; ++a) {
              var o = i(s[a]);
              null != o && n.push(o);
            }
            return { type: "ok", terms: n };
          });
      }
      var ku = "gVIs3e66hyE3f7OslxrpFO6nX4WJcf9P",
        Cu = "https://api.giphy.com";
      function Nu(t) {
        return null == t ? null : Array.isArray(t.data) ? t.data : void 0;
      }
      function Iu(t) {
        if ((0, F.l)(t) && (0, F.l)(t.pagination)) {
          var e = t.pagination,
            i = e.count,
            r = e.offset;
          if ("number" == typeof i && "number" == typeof r)
            return (i + r).toString();
        }
      }
      function Eu(t, e) {
        if ((0, F.l)(t)) {
          var i = t.id,
            r = t.images;
          if ((0, F.l)(r) && "string" == typeof i) {
            var s = r.preview_gif,
              n = r.downsized_small;
            if ((0, F.l)(s) && (0, F.l)(n)) {
              var a = s.url,
                l = n.mp4;
              if ("string" == typeof a && "string" == typeof l)
                return { gifPreviewUrl: a, mp4Url: l, id: i, fetchPosition: e };
            }
          }
        }
      }
      function Tu(t) {
        if ((0, F.l)(t)) {
          var e = t.name;
          if ("string" == typeof e) return e;
        }
      }
      var Mu = "E00N76RQL5XM",
        Lu = "https://api.tenor.com";
      function Au(t) {
        return null == t ? null : Array.isArray(t.results) ? t.results : void 0;
      }
      function Uu(t) {
        return (0, F.l)(t) ? ("string" != typeof t.next ? "" : t.next) : "";
      }
      function Ru(t, e) {
        if ((0, F.l)(t) && Array.isArray(t.media)) {
          var i = t.id;
          if ("string" == typeof i) {
            var r = t.media[0];
            if ((0, F.l)(r)) {
              var s = r.nanogif,
                n = r.tinymp4;
              if ((0, F.l)(s) && (0, F.l)(n)) {
                var a = s.url,
                  l = n.url;
                if ("string" == typeof a && "string" == typeof l)
                  return {
                    gifPreviewUrl: a,
                    mp4Url: l,
                    id: i,
                    fetchPosition: e,
                  };
              }
            }
          }
        }
      }
      function Pu(t) {
        if ("string" == typeof t) return t;
      }
      function Gu(t) {
        return t
          .sendAndReceive("backend", "getRecentGifs", {})
          .then((t) => ({ type: "recents", gifs: t }));
      }
      var Fu = i(386),
        Du = i(283),
        zu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M13.099.5c6.959 0 12.6 5.642 12.6 12.6 0 6.958-5.641 12.6-12.6 12.6S.5 20.058.5 13.1C.5 6.142 6.14.5 13.099.5zm8.489 13.47c-2.263.718-5.375 1.104-8.488 1.121-3.114-.017-6.226-.403-8.49-1.12-.234-.076-.676.085-.633.616.362 4.404 4.364 7.832 9.123 7.832 4.759 0 8.76-3.428 9.123-7.832.043-.53-.4-.692-.635-.617zm-.596 1.411c-.088.376-.64 1.508-.793 1.87-.992.35-2.964 1.248-6.894 1.248-4.07 0-6.392-.918-7.405-1.248-.146-.349-.62-1.508-.705-1.87 2.23.557 5.003.87 7.892.884 2.9-.015 5.675-.328 7.905-.884zm-3.599-7.36c-1.462 0-2.65 1.273-2.65 2.838 0 .192.017.38.052.563a.553.553 0 00.544.464.516.516 0 00.465-.292c.322-.625.931-1.014 1.59-1.014.658 0 1.267.39 1.587 1.015a.518.518 0 00.464.291.566.566 0 00.547-.473c.053-.28.064-.57.036-.862-.13-1.313-1.114-2.37-2.338-2.513a2.488 2.488 0 00-.297-.017zm-8.6 0c-1.46 0-2.65 1.273-2.65 2.838 0 .193.017.381.054.562.05.274.274.465.544.465a.516.516 0 00.465-.292c.321-.625.93-1.014 1.588-1.014.659 0 1.267.39 1.588 1.015a.518.518 0 00.464.291.566.566 0 00.547-.473 3.1 3.1 0 00.037-.862c-.131-1.313-1.114-2.37-2.338-2.513a2.493 2.493 0 00-.298-.017z",
            }),
            2,
            { viewBox: "0 0 26 26" }
          );
        },
        Vu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M6.98 11.516c0-2.75 2.247-4.979 5.02-4.979 2.773 0 5.02 2.23 5.02 4.979 0 2.75-2.247 4.979-5.02 4.979-2.773 0-5.02-2.23-5.02-4.98zm12.044 0c0-3.847-3.144-6.966-7.024-6.966s-7.025 3.119-7.025 6.966c0 3.848 3.145 6.966 7.025 6.966 3.88 0 7.024-3.118 7.024-6.966zM6.388 3 8.118.657A1.769 1.769 0 019.496 0h5.01a1.77 1.77 0 011.377.657L17.612 3h4.27A2.11 2.11 0 0124 5.1v13.8c0 1.16-.949 2.1-2.118 2.1H2.118A2.11 2.11 0 010 18.9V5.1C0 3.94.948 3 2.118 3h4.27z",
            }),
            2,
            { viewBox: "0 0 24 21" }
          );
        },
        Ku = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "rect", null, null, 1, {
                width: "25",
                height: "19",
                x: "1",
                y: "1",
                rx: "2.1",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M11.597 5.754 17.3 9.676a1 1 0 010 1.648l-5.704 3.922a.7.7 0 01-1.096-.576V6.331a.7.7 0 011.097-.577z",
              }),
            ],
            4,
            { viewBox: "0 0 27 21" }
          );
        },
        ju = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M12.058 14v9.98l-8.063.016a2 2 0 01-1.998-1.842l-.006-.15L1.955 14h10.103zm12.015 0-.058 8.01a2 2 0 01-1.856 1.98l-.148.006-8.04-.016h.028V14h10.074zM18.851 0c1.028 0 1.94.4 2.597 1.113.571.628.885 1.484.885 2.37 0 .884-.314 1.712-.913 2.34-.371.4-1 .856-1.97.998l4.543-.014c1.112 0 2.007.895 2.007 2V12H13.97V6.907h-1.94V12H0V8.8a2 2 0 012.007-1.993l4.543.014c-.97-.142-1.598-.599-1.97-.998-.6-.6-.913-1.456-.913-2.34C3.667 1.797 4.894 0 7.15 0c1.627 0 3.368.913 5.195 2.74.228.257.456.485.656.714.2-.229.428-.486.656-.714C15.483.913 17.224 0 18.851 0zm0 1.94c-1.541 0-3.31 1.6-4.538 2.97h4.395c.571 0 1-.144 1.285-.458a1.48 1.48 0 00.37-.998c0-.571-.313-1.513-1.512-1.513zm-11.73 0c-1.199 0-1.513.943-1.513 1.514 0 .713.428 1.455 1.655 1.455h4.396C10.43 3.511 8.662 1.941 7.12 1.941z",
            }),
            2,
            { viewBox: "0 0 26 24" }
          );
        },
        Bu = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M17.488 0c.808 0 1.462.633 1.462 1.415 0 .781-.654 1.414-1.462 1.414H11.35v14.654C11.35 20.53 8.798 23 5.65 23s-5.7-2.47-5.7-5.517 2.552-5.376 5.7-5.376c.987 0 2.312.087 3.362.41V1.132C9.012.507 9.535 0 10.18 0h7.307z",
            }),
            2,
            { viewBox: "0 0 19 23" }
          );
        },
        Wu = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Qr = () => {
                this.Qq(this.Qo.previousRow(this.state.selectionIndex));
              }),
              (this.Qs = () => {
                this.Qq(this.Qo.nextRow(this.state.selectionIndex));
              }),
              (this.Qt = () => {
                this.Qq(this.Qo.defaultLeft(this.state.selectionIndex));
              }),
              (this.Qu = () => {
                this.Qq(this.Qo.defaultRight(this.state.selectionIndex));
              });
            var i = t.items.length,
              r = he();
            this.Qo = new oe({ loop: !0, length: i, rowLength: r });
            var s = i % r || r;
            this.Qp = i - s - 1;
            var n = 0;
            t.initialSelectedKey &&
              (n = t.items.findIndex((e) => e.key === t.initialSelectedKey)),
              n < 0 &&
                (__LOG__(
                  4
                )`Invalid initialSelectedKey for AttachmentGrid, value should be one of the key property of items, received value: ${
                  t.initialSelectedKey
                }, possible values: ${t.items.map((t) => t.key)}`,
                (n = 0));
            var a = i <= (D.f ? 1 : 2) * r;
            n > this.Qp && (a = !0),
              (this.state = {
                selectionIndex: n,
                direction: "nextRow",
                expanded: a,
              });
          }
          Qq(t) {
            if (null != t) {
              var e = t.index;
              this.setState((i) => ({
                selectionIndex: e,
                direction: t.direction,
                expanded: i.expanded || e > this.Qp,
              }));
            }
          }
          addSoftKeys(t, e) {
            t.setUpDownArrows(this.Qr, this.Qs),
              t.setLeftRightArrows(this.Qt, this.Qu),
              t.setLeftLabel(864, b.a),
              t.setBack(b.a);
            var i = this.props.items[this.state.selectionIndex];
            null != i && t.setCenterLabel(i.label, i.action);
          }
          render() {
            var t = this.state,
              e = t.selectionIndex,
              i = t.expanded;
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("RJ", i && "RK", ce(this.Qo.options.rowLength)),
              this.props.items.map((t, i) =>
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("RL", e === i && "RM"),
                  [
                    t.icon,
                    (0, s.f)(
                      1,
                      "div",
                      "RN FY FU",
                      (0, s.b)(2, o.b, { l10n: t.label }),
                      2
                    ),
                  ],
                  0,
                  null,
                  t.key
                )
              ),
              0
            );
          }
        };
      function Hu() {
        return (0, s.f)(
          1,
          "div",
          "RQ RO",
          (0, s.b)(2, zu, { className: "RR RP" }),
          2
        );
      }
      function Ju() {
        return (0, s.f)(
          1,
          "div",
          "RS RO",
          (0, s.b)(2, Vu, { className: "RT RP" }),
          2
        );
      }
      function $u() {
        return (0, s.f)(
          1,
          "div",
          "RU RO",
          (0, s.b)(2, Ku, { className: "RV RP" }),
          2
        );
      }
      function Yu() {
        return (0, s.f)(
          1,
          "div",
          "RW RO",
          (0, s.b)(2, ju, { className: "RX RP" }),
          2
        );
      }
      function qu() {
        return (0, s.f)(
          1,
          "div",
          "RY RO",
          (0, s.b)(2, ns.a, { className: "RZ RP" }),
          2
        );
      }
      function Xu() {
        return (0, s.f)(
          1,
          "div",
          "Ra RO",
          (0, s.b)(2, Bu, { className: "Rb RP" }),
          2
        );
      }
      function Qu() {
        return (0, s.f)(
          1,
          "div",
          "Rc RO",
          (0, s.b)(2, hs.a, { className: "Rd RP" }),
          2
        );
      }
      var Zu = i(6),
        th = i(402),
        eh = i(214),
        ih = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M7.979 15.462v3.131a.652.652 0 01-.643.657h-.657a.652.652 0 01-.642-.657v-3.131a6.667 6.667 0 01-2.694-1.031 6.97 6.97 0 01-3.029-4.7 4.96 4.96 0 01-.063-.476.633.633 0 01.17-.463.607.607 0 01.446-.193h.652a.742.742 0 01.713.652c.058.474.178.939.357 1.38a4.929 4.929 0 002.602 2.56 4.766 4.766 0 003.58.03 4.927 4.927 0 002.602-2.437 5.639 5.639 0 00.421-1.534.753.753 0 01.72-.65h.652a.577.577 0 01.433.194.6.6 0 01.148.459 8.296 8.296 0 01-.357 1.735c-.87 2.41-2.96 4.113-5.411 4.474zM9.165.913c.574.586.896 1.38.896 2.207v5.462a3.135 3.135 0 01-1.514 2.745 3.003 3.003 0 01-3.086 0 3.135 3.135 0 01-1.513-2.745V3.12C3.948 1.397 5.316 0 7.004 0c.81 0 1.588.328 2.161.913z",
            }),
            2,
            { viewBox: "0 0 14 20" }
          );
        },
        rh = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "nonzero",
              d: "M5.805 8.188h-4.63a1.175 1.175 0 010-2.35h4.63v-4.65a1.188 1.188 0 112.377 0v4.65h4.643a1.175 1.175 0 010 2.35H8.182v4.624a1.188 1.188 0 11-2.377 0V8.188z",
            }),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        sh = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              fill: "currentColor",
              "fill-rule": "evenodd",
              d: "M3.565 8.694a2.667 2.667 0 012.667-2.666h20.034a1 1 0 01.825 1.565l-2.656 3.88v9.777a2.667 2.667 0 01-2.666 2.667H6.232a2.667 2.667 0 01-2.667-2.667V8.694zm3.727 3.778a1 1 0 011-1h11.416a1 1 0 011 1v.334a1 1 0 01-1 1H8.292a1 1 0 01-1-1v-.334zm1 3.667a1 1 0 00-1 1v.333a1 1 0 001 1h6.199a1 1 0 001-1v-.333a1 1 0 00-1-1h-6.2z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 28 29" }
          );
        },
        nh = "Ql",
        ah = "Qt",
        lh = "Qw FV FS",
        oh = ["😍", "😂", "😮", "😢", "🙏", "👏", "🎉", "💯"],
        uh = oh.map((t) => ({ key: t, emoji: (0, h.b)(t), icon: ch })),
        hh = class extends cr.b {
          constructor(t, e) {
            super(t, e),
              (this.Qn = () => {
                this.setState((t) => {
                  var e = t.emojiIndex;
                  return { emojiIndex: Math.max(0, e - 1) };
                });
              }),
              (this.Qm = () => {
                this.setState((t) => {
                  var e = t.emojiIndex;
                  return { emojiIndex: Math.min(uh.length - 1, e + 1) };
                });
              }),
              (this.state = { emojiIndex: 0 }),
              (this.Ql = (0, le.g)());
          }
          addSoftKeys(t, e) {
            this.Ql
              ? t.setLeftRightArrows(this.Qm, this.Qn)
              : t.setLeftRightArrows(this.Qn, this.Qm);
          }
          getSelectedEmoji() {
            return oh[this.state.emojiIndex];
          }
          render() {
            var t = this.props.selected;
            return (0, s.f)(
              1,
              "div",
              "Re",
              (0, s.b)(2, Jo.a, {
                items: uh,
                selectedIndex: t ? this.state.emojiIndex : null,
                activeIndex: this.state.emojiIndex,
              }),
              2
            );
          }
        };
      function ch(t) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("Rf", t.className),
          t.item.emoji,
          0
        );
      }
      var dh,
        vh,
        ph = i(351),
        fh = (0, dl.d)("composeBox"),
        mh = (0, dl.d)("composeBoxVoice");
      function gh(t) {
        return t;
      }
      var Sh = ["emojisBar", "composeBox"],
        yh = { item: "composeBox", scrollFromTop: "start" },
        _h =
          ((dh = class extends d.b {
            shouldComponentUpdate(t, e) {
              var i = this.props,
                r = this.state;
              return (
                (i !== t &&
                  (i.selected !== t.selected ||
                    i.contacts !== t.contacts ||
                    i.user !== t.user ||
                    i.hasFocusPriority !== t.hasFocusPriority ||
                    i.draft !== t.draft ||
                    i.connected !== t.connected ||
                    i.serverPropGifProvider !== t.serverPropGifProvider ||
                    i.onSent !== t.onSent ||
                    i.onSentFromAnotherScreen !== t.onSentFromAnotherScreen ||
                    i.isSelected !== t.isSelected ||
                    i.shouldHideQuote !== t.shouldHideQuote ||
                    i.onChange !== t.onChange ||
                    i.disableLongPressRecording !==
                      t.disableLongPressRecording ||
                    i.type !== t.type ||
                    i.chat !== t.chat ||
                    i.readOnly !== t.readOnly ||
                    i.isBlocked !== t.isBlocked ||
                    i.isAtBottom !== t.isAtBottom ||
                    i.updateParent !== t.updateParent ||
                    i.authorJid !== t.authorJid ||
                    i.showEmojisBar !== t.showEmojisBar)) ||
                (r !== e &&
                  (r.status !== e.status ||
                    r.value !== e.value ||
                    r.opened !== e.opened))
              );
            }
            constructor(t, e) {
              var i, r;
              super(t, e), vh.call(this);
              var s,
                n = { type: "input", preRecording: !1 },
                a = !0,
                l = null == (i = t.draft) ? void 0 : i.voice,
                o = null == (r = t.draft) ? void 0 : r.text;
              (this.PK = o || ""),
                "status" === t.type
                  ? (this.PF = t.authorJid)
                  : ((this.PF = t.chat.jid),
                    t.readOnly
                      ? ((n = { type: "readonly", reason: t.readOnly }),
                        (l = null),
                        (o = null))
                      : null != l &&
                        (n = {
                          type: "recorded",
                          direct: !o && !t.isAtBottom,
                          duration: l.duration,
                          blob: l.blob,
                          waveform: l.waveform,
                        }),
                    (a =
                      t.isAtBottom ||
                      !!l ||
                      !!o ||
                      !!(null == (s = this.props.draft) ? void 0 : s.quote)),
                    (this.PJ = new Gi.a(() => {
                      var t = Uo(this.PM());
                      if (!Ro(t, this.PI))
                        if (((this.PI = t), t)) {
                          var e = t.normalizedLink,
                            i = t.matchedText,
                            r = this.PG.get(e);
                          if (null == r) {
                            var s = Po(e).then((t) => {
                              this.PA &&
                                (this.PG.set(e, t || !1),
                                this.PH === s &&
                                  ((this.PH = null),
                                  t &&
                                    this.PO(
                                      Object.assign({}, t, { matchedText: i })
                                    )));
                            });
                            (this.PH = s), this.PN();
                          } else
                            !1 !== r
                              ? this.PO(
                                  Object.assign({}, r, { matchedText: i })
                                )
                              : this.PN();
                        } else this.PN();
                    }))),
                (this.state = { status: n, value: this.PK, opened: a });
            }
            componentDidMount() {
              (this.PA = !0),
                this.PP(),
                document.addEventListener("visibilitychange", this.PS),
                super.componentDidMount();
            }
            componentDidUpdate(t, e) {
              "" === this.state.value && this.PT();
              var i = this.state.status.type;
              this.Oy &&
                "recording" !== i &&
                (this.Oy = clearInterval(this.Oy)),
                "recording" === i &&
                  null == this.Oz &&
                  (this.Oz = navigator.requestWakeLock("screen")),
                "recording" !== i &&
                  null != this.Oz &&
                  (this.Oz.unlock(), (this.Oz = null));
              var r = this.props.readOnly;
              r && r !== t.readOnly
                ? (null != this.Ox && (this.Ox.stop(), (this.Ox = null)),
                  this.setState({ status: { type: "readonly", reason: r } }))
                : !r &&
                  t.readOnly &&
                  this.setState({
                    status: { type: "input", preRecording: !1 },
                  }),
                this.PP(),
                super.componentDidUpdate(t, e);
            }
            componentWillUnmount() {
              this.PA = !1;
              var t = this.props,
                e = this.state;
              if (
                ((this.PH = null),
                null != this.PJ && this.PJ.cancel(),
                this.Oy && clearInterval(this.Oy),
                this.PB && this.PE.forceRunNow(),
                null != this.Oz && this.Oz.unlock(),
                null != this.Ox)
              ) {
                var i = e.status;
                "recording" === i.type
                  ? this.PU(this.Ox, i.started)
                  : (__LOG__(
                      3
                    )`Forcing recorder to stop whilst the conversation not in the recording state`,
                    this.Ox.stop());
              }
              if ("status" !== t.type) {
                var r = this.PF,
                  s = this.PV();
                null != s
                  ? (0, eh.d)(this.props.backend, r, s)
                  : (0, eh.a)(this.props.backend, r);
              }
              document.removeEventListener("visibilitychange", this.PS),
                super.componentWillUnmount();
            }
            PW() {
              var t,
                e,
                i =
                  null == (t = this.Ov.current) || null == (e = t.getSelected())
                    ? void 0
                    : e.item;
              return null != i && (this.PL = i), "emojisBar" === this.PL;
            }
            PX() {
              var t;
              return this.props.showEmojisBar
                ? this.PW()
                : null == (t = this.props.isSelected) || t;
            }
            PP() {
              var t = this.props.updateParent;
              null != t &&
                t({
                  opened: this.PY(),
                  isInput: "input" === this.state.status.type,
                });
            }
            PM() {
              return this.state.value;
            }
            PZ(t) {
              var e = this.Ou.current;
              null != e && e.getValue() !== t && e.setValue(t, !0),
                this.state.value !== t && this.setState({ value: t });
            }
            PT() {
              this.PZ("");
            }
            PO(t) {
              (0, eh.e)(this.props.backend, this.PF, t);
            }
            PN() {
              (0, eh.b)(this.props.backend, this.PF);
            }
            PV() {
              var t,
                e = this.state,
                i = e.status,
                r = e.value,
                s = null == (t = this.props.draft) ? void 0 : t.quote;
              if ("readonly" === i.type) return null;
              var n =
                  "recorded" === i.type
                    ? {
                        blob: i.blob,
                        waveform: i.waveform,
                        duration: i.duration,
                      }
                    : void 0,
                a = this.Pa();
              return null != n || "" !== r || null != s || null != a
                ? { text: r, voice: n, quote: s, link: a || void 0 }
                : null;
            }
            pasteText(t) {
              var e = this.Ou.current;
              e && e.pasteText(t), null != this.PJ && this.PJ.forceRunNow();
            }
            Pa() {
              var t,
                e = Uo(this.PM()),
                i = null == (t = this.props.draft) ? void 0 : t.link;
              return Ro(e, i) ? i : null;
            }
            Pe(t, e, i) {
              return this.props.isBlocked
                ? (this.Pf(this.props.chat.jid), !1)
                : (__LOG__(2)`Send recorded message`,
                  this.props.backend.sendMediaMsg(
                    this.PF,
                    { type: "voice", plaintext: t, duration: e, waveform: i },
                    null == (r = this.props.draft) ? void 0 : r.quote
                  ),
                  !0);
              var r;
            }
            PY() {
              return this.state.opened;
            }
            Pk(t) {
              return null != this.Ox && this.Ox === t;
            }
            PU(t, e) {
              var i = (0, Ie.u)(e);
              Nh(i) &&
                t.stop().then((t) => {
                  var e = {
                    blob: t.blob,
                    waveform: t.waveform,
                    duration: Ch(i),
                  };
                  (0, eh.d)(this.props.backend, this.PF, {
                    voice: e,
                    link: void 0,
                    quote: void 0,
                    text: "",
                  });
                });
            }
            Pc() {
              this.PF !== Zu.t.get() &&
                (this.PB || ((this.PB = !0), this.PD()),
                this.PE.debounce(2500));
            }
            PD() {
              var t = null;
              switch (this.state.status.type) {
                case "input":
                  t = "typing";
                  break;
                case "recording":
                  t = "recording_audio";
              }
              null != t &&
                (this.PC.debounce(1e4), Ih(this.props.backend, this.PF, t));
            }
            getHeight() {
              var t;
              return (
                (null == (t = this.Ot.current) ? void 0 : t.offsetHeight) || 0
              );
            }
            hasValue() {
              var t;
              if (null != (null == (t = this.props.draft) ? void 0 : t.quote))
                return !0;
              switch (this.state.status.type) {
                case "readonly":
                  return !1;
                case "input":
                  return "" !== this.state.value;
                case "voice":
                  return !1;
                case "recording":
                case "postRecording":
                  return !0;
                default:
                  return this.state.status.type, !0;
              }
            }
            Pm() {
              switch (this.state.status.type) {
                case "readonly":
                  return !1;
                case "input":
                  return "" !== this.state.value.trim() || !!this.PW();
                case "voice":
                case "recording":
                case "postRecording":
                  return !1;
                default:
                  return this.state.status.type, !0;
              }
            }
            Pf(t) {
              var e = this.props,
                i = e.backend,
                r = e.connected,
                s = (0, c.c)(t, this.props.contacts);
              (0, b.f)(
                (0, V.d)({
                  contact: s,
                  unblock: () => {
                    r ? i.unblockUser(t) : (0, b.e)({ title: 243, text: 1063 });
                  },
                })
              );
            }
            Pn(t) {
              var e;
              switch (t) {
                case "image":
                  e = { type: "image" };
                  break;
                case "video":
                  e = { type: "video" };
                  break;
                default:
                  e = { type: "audio" };
              }
              var i = this.props,
                r = i.backend,
                s = i.draft,
                n = i.onSentFromAnotherScreen,
                a = i.type,
                l = i.chat,
                o = "status" === a ? "statusReply" : "conversation";
              r.openScreen("SEND_MEDIA", {
                from: o,
                jid: this.PF,
                media: e,
                defaultCaption: this.PM(),
                quote: null == s ? void 0 : s.quote,
                actionAfterSending: n,
                chat: l,
              });
            }
            Po() {
              mu(this.props.backend, (t) => {
                var e = this.Ou.current;
                e && e.pasteText(t);
              });
            }
            Pp(t) {
              var e = this.props,
                i = e.backend,
                r = e.draft,
                s = e.onSentFromAnotherScreen,
                n = "status" === e.type ? "statusReply" : "conversation";
              i.openScreen("SEND_GIF", {
                from: n,
                chatJid: this.PF,
                gifProvider: t,
                defaultCaption: this.PM(),
                quote: null == r ? void 0 : r.quote,
                actionAfterSending: s,
              });
            }
            Pq() {
              var t = this.props,
                e = t.backend,
                i = t.draft,
                r = t.onSentFromAnotherScreen;
              (function (t, e, i, r) {
                var s = (0, Du.b)().then((s) => () => {
                  t.openScreen("SHARE_CONTACTS", {
                    jid: e,
                    phoneContacts: s,
                    quote: r,
                    actionAfterSending: i,
                  });
                });
                t.spinUntilReady(s, 953);
              })(e, this.PF, r, null == i ? void 0 : i.quote);
            }
            Pr() {
              var t = this.props,
                e = t.backend,
                i = t.onSentFromAnotherScreen,
                r = t.draft,
                s = this.PF;
              e.openScreen("SEND_LOCATION", {
                jid: s,
                actionAfterSending: i,
                quote: null == r ? void 0 : r.quote,
              });
            }
            Ps() {
              var t,
                e = this.props.backend,
                i = _u(this.props.serverPropGifProvider);
              null != i &&
                (t = {
                  key: "gif",
                  label: 30,
                  icon: (0, s.b)(2, Yu),
                  action: () => this.Pp(i),
                });
              var r = {
                key: "location",
                label: 31,
                icon: (0, s.b)(2, Qu),
                action: () => this.Pr(),
              };
              (function (t, e, i) {
                (0, b.b)(
                  (0, s.b)(2, Wu, { items: e, initialSelectedKey: void 0 })
                ),
                  vu(t);
              })(
                e,
                [
                  {
                    key: "emoji",
                    label: 185,
                    icon: (0, s.b)(2, Hu),
                    action: () => this.Po(),
                  },
                  {
                    key: "photo",
                    label: 32,
                    icon: (0, s.b)(2, Ju),
                    action: () => this.Pn("image"),
                  },
                  {
                    key: "video",
                    label: 33,
                    icon: (0, s.b)(2, $u),
                    action: () => this.Pn("video"),
                  },
                  t || r,
                  {
                    key: "contact",
                    label: 29,
                    icon: (0, s.b)(2, qu),
                    action: () => this.Pq(),
                  },
                  {
                    key: "audio",
                    label: 28,
                    icon: (0, s.b)(2, Xu),
                    action: () => this.Pn("audio"),
                  },
                  t ? r : null,
                ].filter(Boolean)
              );
            }
            Pt(t) {
              (0, b.g)({
                left: 890,
                onSoftLeft: "CLOSE",
                right: 872,
                onSoftRight: this.Pi,
                text: 205,
              });
            }
            addSoftKeys(t, e) {
              var i,
                r = this.props;
              if (this.PX())
                if (
                  (r.readOnly ||
                    r.disableLongPressRecording ||
                    t.setHoldCenter(
                      () => this.PQ("longPress"),
                      () => this.PR("stop")
                    ),
                  this.PY())
                ) {
                  if (r.readOnly)
                    if (
                      "only-admins" === r.readOnly ||
                      "only-community-admins" === r.readOnly
                    ) {
                      var n = r.chat;
                      t.setCenterLabel(567, () => {
                        r.backend.openScreen("MESSAGE_ADMIN", { chat: n });
                      });
                    } else
                      "tos-not-accepted" === r.readOnly
                        ? t.setCenterLabel(945, () => {
                            (0, th.a)(e, _e.Y),
                              WAM.log("regular", 3154, void 0, [1, 0, 3]);
                          })
                        : "chat-suspended" === r.readOnly
                        ? t.setCenterLabel(882, () => {
                            e.openScreen("HELP_CONTACT_US");
                          })
                        : "community-deactivated" === r.readOnly
                        ? t.setCenterLabel(891, () => {
                            (0, _.E)(e, _.a);
                          })
                        : "large-group" === r.readOnly
                        ? t.setCenterLabel(891, () => {
                            (0, b.g)({
                              text: 538,
                              center: 902,
                              onSoftCenter: "CLOSE",
                            });
                          })
                        : r.readOnly;
                  else
                    r.isBlocked
                      ? t.setLeftLabel(896, () => this.Pf(r.chat.jid))
                      : t.setLeftIcon(
                          (0, s.b)(2, rh, { className: "Qv q" }),
                          () => this.Ps()
                        );
                  null == (null == (i = r.draft) ? void 0 : i.quote) ||
                    ("one" !== r.type && "group" !== r.type) ||
                    t.setBack(() => {
                      (0, eh.c)(e, r.chat.jid);
                    });
                  var a = this.state.status;
                  switch (a.type) {
                    case "readonly":
                      r.isAtBottom || t.setLeftLabel(864, () => this.close());
                      break;
                    case "input":
                      this.PW() && this.Ow.current
                        ? t.setCenterLabel(857, () => {
                            var t,
                              e,
                              i = this.state.value;
                            this.PZ(
                              `${0 === i.length ? i : i + " "}${
                                null !=
                                (t =
                                  null == (e = this.Ow.current)
                                    ? void 0
                                    : e.getSelectedEmoji())
                                  ? t
                                  : ""
                              }`
                            );
                          })
                        : (this.Pm()
                            ? t.setCenterLabel(935, () => this.Pg())
                            : t.setCenterLabel(213, this.Pj),
                          a.preRecording && t.disableBar());
                      break;
                    case "voice":
                      t.setLeftLabel(864, () => this.Pi()),
                        t.setCenterLabel(213, () => this.PQ("shortPress")),
                        t.setBack(() => this.Pi()),
                        a.preRecording && t.disableBar();
                      break;
                    case "recording":
                      a.longPress
                        ? t.setFull(207)
                        : (t.setLeftLabel(864, () => this.PR("delete")),
                          t.setCenterLabel(935, () => this.PR("send")),
                          t.setRightLabel(940, () => this.PR("stop")),
                          t.setBack(() => this.Pi()));
                      break;
                    case "postRecording":
                      a.longPress
                        ? (t.setFull(207),
                          t.setBack(() => {
                            this.Pi(), a.direct && this.close();
                          }))
                        : (t.setLeftLabel(872, () => {}),
                          t.setCenterLabel(935, () => {}),
                          t.setRightLabel(940, () => {}),
                          t.setBack(() => this.Pt(e)));
                      break;
                    default:
                      a.type,
                        t.setLeftLabel(872, () => {
                          this.Pi(), a.direct && this.close();
                        }),
                        t.setCenterLabel(935, () => this.Pg()),
                        t.setBack(() => this.Pt(e));
                  }
                } else
                  t.setLeftIcon((0, s.b)(2, sh, { className: "RC" }), () => {
                    this.open("");
                  });
            }
            renderInput() {
              var t,
                e,
                i = this.PY(),
                r = this.state.status,
                n = this.PX(),
                a = !i || ("input" === r.type && n),
                l = i && "input" === r.type,
                o = "readonly" === r.type,
                u = null == (t = this.props.draft) ? void 0 : t.link,
                h = "Qm",
                c = null;
              switch (r.type) {
                case "readonly":
                  this.props.chat && (c = bh(this.props.chat, !0, r.reason));
                  break;
                case "input":
                  h = n ? "Qm" : "Qn";
                  break;
                case "voice":
                  c = (0, s.b)(2, xh);
                  break;
                case "recording":
                case "postRecording":
                  (c = (0, s.b)(2, wh, { duration: r.duration })), (h = "Qo");
                  break;
                default:
                  r.type,
                    (c = (0, s.b)(2, kh, {
                      selected: mh,
                      duration: r.duration,
                      blob: r.blob,
                    }));
              }
              var d,
                v,
                p,
                f = (0, Mt.a)("Qk", h, i && nh);
              return (0, s.f)(
                1,
                "div",
                f,
                [
                  o || !0 === this.props.shouldHideQuote
                    ? null
                    : ((d = null == (e = this.props.draft) ? void 0 : e.quote),
                      (v = this.props.contacts),
                      (p = this.props.user),
                      null == d
                        ? null
                        : (0, s.f)(
                            1,
                            "div",
                            "Qz",
                            (0, s.b)(2, hn, {
                              selected: !1,
                              quote: d,
                              contacts: v,
                              user: p,
                              fromMe: !1,
                            }),
                            2
                          )),
                  null != u && !o && (0, s.b)(2, _a, { content: u }),
                  (0, s.b)(
                    2,
                    Su.a,
                    {
                      className: (0, Mt.a)("Qq", !l && "Qr"),
                      onChange: this.Pb,
                      onKeyDown: this.Pd,
                      hasFocusPriority: this.props.hasFocusPriority && a,
                      type: "text",
                      placeholder: 631,
                      defaultValue: this.PK,
                      isDisabled: !n,
                    },
                    null,
                    this.Ou
                  ),
                  (0, s.b)(2, Wo.b.div, {
                    hasFocusPriority: this.props.hasFocusPriority && !a,
                    children: c,
                  }),
                ],
                0,
                null,
                null,
                this.Ot
              );
            }
            render() {
              return this.props.showEmojisBar
                ? (0, s.b)(
                    2,
                    ph.a,
                    { items: Sh, keyOf: gh, renderItem: this.Pu, start: yh },
                    null,
                    this.Ov
                  )
                : this.renderInput();
            }
          }),
          (vh = function () {
            (this.Ot = n.e()),
              (this.Ou = n.e()),
              (this.Ov = n.e()),
              (this.Ow = n.e()),
              (this.Ox = null),
              (this.Oy = null),
              (this.Oz = null),
              (this.PB = !1),
              (this.PC = new Gi.a(() => {
                this.PD();
              })),
              (this.PE = new Gi.a(() => {
                (this.PB = !1),
                  this.PC.cancel(),
                  Ih(this.props.backend, this.PF, "idle");
              })),
              (this.PG = new Map()),
              (this.PH = null),
              (this.PI = null),
              (this.PJ = null),
              (this.PK = ""),
              (this.PL = yh.item),
              (this.Pb = (t) => {
                var e,
                  i,
                  r = null;
                this.PY()
                  ? (r = "input" === this.state.status.type)
                  : ((r = !this.props.readOnly), this.open(r ? t : "")),
                  r
                    ? (this.Pc(),
                      this.setState({ value: t }),
                      null != this.PJ && this.PJ.debounce(700),
                      null == (e = (i = this.props).onChange) || e.call(i, t))
                    : this.PT();
              }),
              (this.PS = () => {
                "visible" !== document.visibilityState && this.PR("stop");
              }),
              (this.Pd = () => {
                null != this.PJ && this.PJ.debounce(700);
              }),
              (this.Pg = (t, e) => {
                var i = this.props,
                  r = this.state.status;
                if ("readonly" !== r.type) {
                  this.PH = null;
                  var s,
                    n = !1;
                  switch (r.type) {
                    case "input":
                      var a,
                        l,
                        o = this.state.value.trim();
                      "" !== o
                        ? i.isBlocked
                          ? this.Pf(i.chat.jid)
                          : (i.backend.sendTextMsg(
                              this.PF,
                              o,
                              null == (a = i.draft) ? void 0 : a.quote,
                              this.Pa(),
                              (null == (l = i.draft) ? void 0 : l.waMeInfo) ||
                                null
                            ),
                            this.PT(),
                            (n = !0))
                        : __LOG__(
                            3
                          )`We should not allow user to send blank messages`;
                      break;
                    case "voice":
                    case "recording":
                      __LOG__(
                        3
                      )`You should not be able to send at this point ${r.type}`;
                      break;
                    case "postRecording":
                      null != t
                        ? (n = this.Pe(t, r.duration, e))
                        : __LOG__(
                            3
                          )`You should not be able to send at this point ${r.type}`;
                      break;
                    default:
                      r.type, (n = this.Pe(r.blob, r.duration, r.waveform));
                  }
                  n &&
                    ((this.PB = !1),
                    this.Ph(),
                    i.isAtBottom ? this.Pi() : this.close(),
                    "input" === r.type ? (s = "text") : (r.type, (s = "audio")),
                    i.onSent(s));
                } else
                  __LOG__(
                    3
                  )`You should not be able to send at this point ${r.type}`;
              }),
              (this.open = (t) => {
                this.PY() ||
                  (this.PZ(t),
                  this.setState((t) =>
                    "recording" === t.status.type
                      ? { opened: !0 }
                      : {
                          opened: !0,
                          status: this.props.readOnly
                            ? { type: "readonly", reason: this.props.readOnly }
                            : { type: "input", preRecording: !1 },
                        }
                  ));
              }),
              (this.close = () => {
                this.PY() && this.setState({ opened: !1 });
              }),
              (this.Pj = () => {
                this.props.readOnly
                  ? __LOG__(
                      3
                    )`Read only group, you should not be able to display voice`
                  : "input" === this.state.status.type &&
                    this.setState({
                      status: { type: "voice", preRecording: !1 },
                    });
              }),
              (this.Pi = () => {
                this.setState({ status: { type: "input", preRecording: !1 } });
              }),
              (this.PQ = (t) => {
                if (this.props.readOnly)
                  return (
                    __LOG__(
                      4
                    )`Read only group, you should not be able to start recording`,
                    void SEND_LOGS("composeBox-startRecording-readOnlyGroup")
                  );
                if (this.props.isBlocked) this.Pf(this.props.chat.jid);
                else {
                  var e = this.state.status;
                  if ("input" === e.type)
                    this.setState({
                      status: Object.assign({}, e, { preRecording: !0 }),
                    });
                  else {
                    if ("voice" !== e.type)
                      return (
                        __LOG__(
                          4
                        )`You should only be able to record from an input or voice compose box`,
                        void SEND_LOGS(
                          "composeBox-startRecording-notInputOrVoice",
                          0.001
                        )
                      );
                    this.setState({
                      status: Object.assign({}, e, { preRecording: !0 }),
                    });
                  }
                  null != this.Ox && this.Ox.stop();
                  var i = new jo();
                  (this.Ox = i),
                    (0, de.g)(200),
                    i
                      .start()
                      .then((e) => {
                        this.setState(
                          (e) =>
                            this.Pk(i)
                              ? ((this.Oy = setInterval(() => {
                                  this.setState((t) => {
                                    if (!this.Pk(i)) return null;
                                    var e = t.status;
                                    if ("recording" === e.type) {
                                      var r = Ch((0, Ie.u)(e.started));
                                      return r === e.duration
                                        ? null
                                        : (this.Pc(),
                                          {
                                            status: Object.assign({}, e, {
                                              duration: r,
                                            }),
                                          });
                                    }
                                  });
                                }, 50)),
                                {
                                  status: {
                                    type: "recording",
                                    direct: !this.PY(),
                                    started: (0, Ie.t)(),
                                    duration: 0,
                                    longPress: "longPress" === t,
                                  },
                                })
                              : null,
                          () => {
                            this.Pk(i) && (this.Pc(), this.open(""));
                          }
                        );
                      })
                      .catch((t) => {
                        this.Pk(i) && (this.Ox = null),
                          __LOG__(
                            4
                          )`Failed to start recording, could not get media stream: ${t}`,
                          this.Pi();
                      });
                }
              }),
              (this.PR = (t) => {
                var e = this.state.status,
                  i = this.Ox;
                if (null != i)
                  if (((0, de.g)(200), "recording" === e.type)) {
                    var r = (0, Ie.u)(e.started),
                      s = i.stop();
                    Nh(r)
                      ? (this.setState({
                          status: {
                            type: "postRecording",
                            direct: e.direct,
                            duration: Ch(r),
                            longPress: e.longPress,
                          },
                        }),
                        s.then((e) => {
                          var r = e.blob,
                            s = e.waveform;
                          return this.Pl(t, i, r, s);
                        }))
                      : this.Pi();
                  } else
                    i.stop().catch((t) => {
                      __LOG__(3)`Catched error while recording: ${t}`,
                        this.setState({
                          status: { type: "voice", preRecording: !1 },
                        });
                    }),
                      (this.Ox = null);
                else
                  __LOG__(
                    3
                  )`Tried to end recording while not doing it (this warning is fine if due to the app put in the background)`;
              }),
              (this.Pl = (t, e, i, r) => {
                var s = this.state.status;
                if ("postRecording" === s.type && this.Pk(e))
                  switch (((this.Ox = null), t)) {
                    case "delete":
                      this.Pi();
                      break;
                    case "stop":
                      this.setState({
                        status: {
                          type: "recorded",
                          direct: s.direct,
                          duration: Math.max(1, s.duration),
                          blob: i,
                          waveform: r,
                        },
                      });
                      break;
                    default:
                      this.Pg(i, r);
                  }
              }),
              (this.Ph = () => {
                this.PC.cancel(), this.PE.cancel();
              }),
              (this.Pu = (t, e) =>
                "composeBox" === t
                  ? this.renderInput()
                  : (0, s.b)(2, hh, { selected: e }, null, this.Ow));
          }),
          dh);
      function bh(t, e, i) {
        var r;
        switch (i) {
          case "not-participant":
            r = 367;
            break;
          case "support-closed":
            r = 477;
            break;
          case "only-admins":
            r = 365;
            break;
          case "only-community-admins":
            r = 366;
            break;
          case "tos-not-accepted":
            r = "ONE_TO_ONE" === t.type && Eh(t) ? 1024 : 1029;
            break;
          case "chat-suspended":
            r = 459;
            break;
          case "community-deactivated":
            r = 144;
            break;
          case "large-group":
            r = 539;
            break;
          default:
            r = 219;
        }
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("Qp", e && nh),
          (0, s.b)(2, o.b, { l10n: r }),
          2
        );
      }
      function xh() {
        return (0, s.f)(
          1,
          "div",
          lh,
          [
            (0, s.b)(2, ih, { className: ah }),
            (0, s.f)(1, "div", null, (0, s.b)(2, o.b, { l10n: 214 }), 2),
          ],
          4
        );
      }
      function wh(t) {
        return (0, s.f)(
          1,
          "div",
          lh,
          [
            (0, s.b)(2, ih, { className: (0, Mt.a)(ah, "RB") }),
            (0, s.f)(1, "div", "Qx", (0, Ce.b)(t.duration), 0),
          ],
          4
        );
      }
      function Oh() {
        return (0, s.f)(
          1,
          "div",
          "RA FW FS",
          (0, s.b)(2, o.b, { l10n: 206 }),
          2
        );
      }
      var kh = class extends d.b {
        constructor(t, e) {
          super(t, e),
            (this.state = {
              uri: null,
              canPlay: !1,
              paused: !0,
              currentTime: 0,
              showVolumeTooltip: !1,
            }),
            (this.Pw = () => {
              this.Pv.setPlaying(!0);
            }),
            (this.pause = () => {
              this.Pv.setPlaying(!1);
            }),
            (this.Px = () => {
              this.Pv.seekToward("backward");
            }),
            (this.Py = () => {
              this.Pv.seekToward("forward");
            }),
            (this.Pv = new Fu.a(this)),
            this.Pv.enableWarnIfMuted(() =>
              this.setState({ showVolumeTooltip: !0 })
            );
        }
        componentDidMount() {
          this.setState({ uri: (0, zi.a)(this.props.blob) }),
            super.componentDidMount();
        }
        componentWillUnmount() {
          this.state.uri && (0, zi.b)(this.state.uri),
            super.componentWillUnmount();
        }
        mediaDuration() {
          return this.props.duration;
        }
        handleCanPlay() {
          this.setState({ canPlay: !0 });
        }
        handlePlay() {
          this.setState({ paused: !1 });
        }
        handlePause() {
          this.setState({ paused: !0 });
        }
        handleTimeUpdate(t) {
          this.setState({ currentTime: t });
        }
        handleEnded() {
          this.Pv.seekTo(0), this.setState({ paused: !0, currentTime: 0 });
        }
        addSoftKeys(t, e) {
          this.state.canPlay
            ? (t.setLeftRightArrows(this.Px, this.Py),
              this.state.paused
                ? t.setRightLabel(907, this.Pw)
                : (t.setUpDownArrows(de.i, de.h),
                  t.setRightLabel(904, this.pause)))
            : t.setRightLabel(907, this.Pw);
        }
        render() {
          var t = this.props.duration,
            e = this.state,
            i = e.uri,
            r = e.paused,
            n = e.currentTime,
            a = e.showVolumeTooltip;
          return (0, s.f)(
            1,
            "div",
            "Qy",
            [
              (0, s.b)(2, ih, { className: ah }),
              r
                ? (0, s.b)(2, ys.a, { className: "Qu" })
                : (0, s.b)(2, fn, { className: "Qu" }),
              (0, s.b)(2, vn, {
                kind: "composeBox",
                progress: n / t,
                duration: r && 0 === n ? t : n,
              }),
              i &&
                (0, s.f)(
                  1,
                  "audio",
                  null,
                  null,
                  1,
                  { src: i, preload: "metadata" },
                  null,
                  this.Pv.ref
                ),
              a ? (0, s.b)(2, Oh) : null,
            ],
            0
          );
        }
      };
      function Ch(t) {
        return Math.ceil(t / 1e3);
      }
      function Nh(t) {
        return t >= 500;
      }
      function Ih(t, e, i) {
        t.fireAndForget("backend", "sendChatState", { jid: e, type: i });
      }
      function Eh(t) {
        var e = t.msgInfo.preview;
        return null != e && !(0, br.m)(e).meta.fromMe;
      }
      var Th = i(326),
        Mh = i(408),
        Lh = i(171),
        Ah = i(148),
        Uh = i(194),
        Rh = (0, Uh.a)((t) =>
          "solid-color" === t.type ? { backgroundColor: t.color } : null
        ),
        Ph = (0, Uh.b)((t, e) => {
          var i,
            r = t || e || { type: "default" };
          return {
            chatBackground: r,
            isDarkBackground:
              "solid-color" === r.type && ((i = r.color), qt.includes(i)),
          };
        });
      function Gh(t, e) {
        e.suspended
          ? (0, b.g)({
              text: 460,
              center: 882,
              onSoftCenter: () => {
                t.openScreen("HELP_CONTACT_US");
              },
              right: 883,
              onSoftRight: () => (0, _.E)(t, _.d),
            })
          : e.communityDeactivated &&
            (0, b.g)({
              text: 149,
              center: 883,
              onSoftCenter: () => (0, _.E)(t, _.a),
              right: 868,
              onSoftRight: "CLOSE",
            });
      }
      var Fh = i(315),
        Dh = ["👍", "❤️", "😂", "😮", "🙏"],
        zh = (0, s.f)(1, "div", "JR", null, 1, null, "filler");
      function Vh(t, e) {
        return Sr.d(t.msglist.viewport, e.msglist.viewport);
      }
      function Kh(t) {
        var e = t.type;
        return (
          "datetime" !== e &&
          "unreadBar" !== e &&
          "loading" !== e &&
          "filler" !== e
        );
      }
      function jh(t) {
        return null != t.selection && t.selection.key === _e.h;
      }
      function Bh() {}
      var Wh = class extends d.a {
          static getDerivedStateFromProps(t, e) {
            var i,
              r = t.msglist,
              s = Jh(r);
            if (
              null != e.selectionTarget.msgId &&
              s.msgId !== e.selectionTarget.msgId
            )
              return (
                __LOG__(
                  2
                )`Conversation: Selection target changed from ${e.selectionTarget.msgId} to ${s.msgId}`,
                {
                  composeBox: { opened: !1, isInput: !1 },
                  quote: null == (i = t.draft) ? void 0 : i.quote,
                  selectionTarget: s,
                  selection: $h(r, s),
                }
              );
            if (null != e.selection) {
              var n,
                a = e.selection.index,
                l = $h(r, {
                  type: "item",
                  key: e.selection.key,
                  msgId: null == (n = e.selection.item.msg) ? void 0 : n.id,
                });
              if (null != l) return { selection: l };
              __LOG__(
                3
              )`Conversation selection is outside the range of rendered items`;
              do {
                var o,
                  u = r.items[a];
                if (u && Kh(u))
                  return {
                    selection: $h(r, {
                      type: "item",
                      key: u.key,
                      msgId: null == (o = u.msg) ? void 0 : o.id,
                    }),
                  };
                a--;
              } while (a >= 0);
              return {
                selection: $h(r, { type: "item", key: _e.h, msgId: null }),
              };
            }
            return null;
          }
          constructor(t, e) {
            var i;
            super(t, e), Hh.call(this);
            var r = t.msglist,
              s = Jh(r);
            (this.state = {
              composeBox: { opened: !1, isInput: !1 },
              quote: null == (i = t.draft) ? void 0 : i.quote,
              selectionTarget: s,
              selection: $h(r, s),
              disableLongPressRecording: !1,
            }),
              (this.Wg = { type: "openChatNewest", chatJid: r.chat.jid });
          }
          componentDidMount() {
            var t = this.props,
              e = t.msglist,
              i = t.readOnly;
            __LOG__(2)`Opened Conversation ${e.chat.id}`, this.Wi();
            var r,
              s = this.Wa.current;
            if (s) {
              var n = s.getBoundingClientRect();
              this.WZ = {
                element: s,
                width: n.width,
                height: n.height,
                top: n.top,
                bottom: n.bottom,
              };
            }
            this.state.selection ? this.Wj() : this.Wk(),
              e.withComposeBoxOpened && this.Wl(),
              e.opening &&
                (WAM.log("regular", 1096, void 0, [1, 0, Date.now() - this.Wf]),
                (0, qn.a)("kaios_privatestats_phase3_enabled") &&
                  (WAM.log("private", 2958, 248614979, []),
                  WAM.log("private", 2960, 191000728, [])),
                "ONE_TO_ONE" === e.chat.type &&
                  ("country-disabled" === i
                    ? ((r = e.chat),
                      (0, b.e)({ text: 218 }),
                      WAM.log("regular", 3150, void 0, [1, 0, 2, 2, 1, !Eh(r)]))
                    : "tos-not-accepted" === i &&
                      (function (t) {
                        var e, i;
                        Eh(t)
                          ? ((e = 1026), (i = 1025))
                          : ((e = 1028), (i = 1027)),
                          (0, b.g)({
                            title: e,
                            text: i,
                            center: 925,
                            onSoftCenter: (t) => {
                              (0, th.a)(t, _e.Y), qh("review-modal");
                            },
                            right: 901,
                            onSoftRight: () => {
                              qh("cancelled");
                            },
                            onBack: () => {
                              qh("cancelled");
                            },
                          }),
                          WAM.log("regular", 3150, void 0, [
                            1,
                            0,
                            1,
                            2,
                            1,
                            !Eh,
                          ]);
                      })(e.chat)),
                this.props.backend.dispatch({
                  type: "OPENED_CHAT",
                  chatId: e.chat.id,
                }),
                "GROUP" === this.props.chat.type &&
                  Gh(this.props.backend, this.props.chat.groupInfo)),
              super.componentDidMount();
          }
          getSnapshotBeforeUpdate(t, e) {
            return (
              super.getSnapshotBeforeUpdate(t, e),
              Vh(this.props, t) && this.Wc.current && this.WZ
                ? { previousTop: this.Wc.current.getBoundingClientRect().top }
                : null
            );
          }
          componentDidUpdate(t, e, i) {
            var r,
              s,
              n,
              a,
              l,
              o,
              u,
              h = this.state,
              c = h.selection,
              d = h.composeBox,
              v = this.props,
              p = v.msglist,
              f = v.backend,
              m = v.contacts,
              g = v.activePlayer,
              S = v.markKeepInChatNuxSeenJobIsRunning;
            if (
              (null == g ? void 0 : g.autoPlay) &&
              (null == (r = p.selectedItem) ? void 0 : r.msgId) &&
              (null ==
              (s = p.msgs[null == (n = p.selectedItem) ? void 0 : n.msgId])
                ? void 0
                : s.content.isPtt) &&
              (null == g ? void 0 : g.msgId) ===
                (null == (a = p.selectedItem) ? void 0 : a.msgId) &&
              (null == g ? void 0 : g.msgId) !==
                (null == (l = t.activePlayer) ? void 0 : l.msgId)
            ) {
              var y = Jh(p),
                _ = $h(p, y);
              this.setState({ selectionTarget: y, selection: _ });
            }
            if (
              (null != c &&
                (!(function (t) {
                  return !(!t.loading || !t.loading.older);
                })(p) &&
                  c.index < 5 &&
                  (void 0 === (u = p).oldestIndex ||
                    u.viewport.loadedRange.end <= u.oldestIndex) &&
                  (0, Fh.a)(f, p, "older"),
                !(function (t) {
                  return !(!t.loading || !t.loading.newer);
                })(p) &&
                  c.index > p.items.length - 5 &&
                  (function (t) {
                    return (
                      void 0 === t.newestIndex ||
                      t.viewport.loadedRange.start > t.newestIndex
                    );
                  })(p) &&
                  (0, Fh.a)(f, p, "newer")),
              c !== e.selection && this.Wm(),
              Vh(t, this.props))
            )
              if (null != i && this.Wc.current && null != this.WZ) {
                var x = this.WZ.element.scrollTop,
                  w = this.Wc.current.getBoundingClientRect();
                this.Wn(x + w.top - i.previousTop);
              } else this.Wk();
            else
              ((null != c &&
                c.key !== (null == (o = e.selection) ? void 0 : o.key)) ||
                d.opened !== e.composeBox.opened ||
                (d.opened && Xh(this.props) !== Xh(t))) &&
                this.Wj();
            var O = jh(this.state),
              k = jh(e);
            O && !k ? this.Wl() : O || !k || this.Wo() || this.Wp(),
              (0, Ae.f)(f, m, p.chat, S),
              !t.msglist.missingAnchor &&
                p.missingAnchor &&
                (function (t) {
                  (0, b.e)({
                    title: 243,
                    text: 571,
                    onClose: () => {
                      t.goBack();
                    },
                  });
                })(f),
              this.Wq(),
              this.Wi(),
              super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            var t = this.props,
              e = t.msglist,
              i = t.backend,
              r = e.chat.id;
            if (
              (__LOG__(2)`Closing Conversation ${r}`,
              null != this.state.selection)
            ) {
              var s = this.state.selection.item;
              i.dispatch({ type: "SELECT_MSG", item: s });
            }
            this.Wm(),
              i.dispatch({ type: "STOP_ANY_MEDIA" }),
              e.withComposeBoxOpened &&
                i.dispatch({
                  type: "REMOVE_WITH_COMPOSE_BOX_OPENED",
                  chatId: r,
                }),
              super.componentWillUnmount();
          }
          Wu(t) {
            var e,
              i,
              r =
                null == (e = this.state.selection) || null == (i = e.item)
                  ? void 0
                  : i.msg;
            if (r) {
              var s = this.props.chat.jid,
                n = null != this.Ws();
              (0, gr.e)(s, r, t, n);
            }
          }
          Wv() {
            var t,
              e,
              i =
                null == (t = this.state.selection) || null == (e = t.item)
                  ? void 0
                  : e.msg;
            if (i) {
              var r = this.props.msglist.chat.jid;
              (0, gr.c)(r, i);
            }
          }
          Wm() {
            var t, e, i;
            this.We ||
              (this.We = (0, _r.d)(
                this.props.activePlayer,
                null == (t = this.state.selection) || null == (e = t.item.msg)
                  ? void 0
                  : e.id,
                null == (i = this.state.selection) ? void 0 : i.key
              ));
          }
          Wi() {
            if ("hidden" !== document.visibilityState) {
              var t = this.props.msglist.chat;
              this.Wd !== t.msgInfo.newest &&
                ((this.Wd = t.msgInfo.newest),
                this.props.backend.markChatAsRead(t.id));
            }
          }
          Ww(t, e) {
            var i = this.props,
              r = i.backend,
              s = i.readOnly,
              n = i.draft,
              a = this.state.composeBox;
            a.opened &&
              "" !== De() &&
              a.isInput &&
              t.add(200, () => {
                this.handlePaste();
              }),
              s ||
                null == (null == n ? void 0 : n.quote) ||
                t.add(913, () => {
                  (0, eh.c)(r, e.jid);
                }),
              s ||
                null == (null == n ? void 0 : n.link) ||
                t.add(912, () => {
                  (0, eh.b)(r, e.jid);
                });
          }
          Wx(t, e) {
            var i = this.props,
              r = i.backend,
              s = i.contacts,
              n = i.isBlocked,
              a = i.isVoipAvailable;
            switch (e.type) {
              case "ONE_TO_ONE":
                var l = e.jid;
                Ar(t, r, s, l),
                  t.add(null == (0, we.b)(e, s) ? 130 : 129, () => {
                    (0, Mn.a)(r, l);
                  }),
                  a &&
                    t.add(111, () =>
                      (0, It.a)((0, c.c)(l, s), r, n, "conversationOptions")
                    );
                break;
              case "GROUP":
                t.add(131, ro.d, r, e),
                  e.groupInfo.isAdmin &&
                    !e.groupInfo.suspended &&
                    t.add(20, r.openScreen, "ADD_GROUP_PARTICIPANTS", {
                      chat: e,
                    });
            }
          }
          maybeAppendQuoteOptions(t, e, i) {
            var r = this.props,
              s = r.backend,
              n = r.readOnly,
              a = r.draft,
              l = (function (t) {
                var e = null;
                if (t.meta.fromMe) e = { fromMe: !0 };
                else {
                  if (null == t.meta.author) return;
                  e = { author: t.meta.author };
                }
                var i = t.content,
                  r = null,
                  s = null,
                  n = null,
                  a = null;
                switch (i.type) {
                  case "image":
                    null != i.viewOnceState
                      ? (r = {
                          type: "viewOnceImage",
                          viewOnceState: i.viewOnceState,
                        })
                      : ((s = i.preview),
                        (n = i.bg),
                        (r = { type: "image", caption: (0, rt.l)(i.caption) }));
                    break;
                  case "sticker":
                    (r = { type: "sticker" }), (a = t.id);
                    break;
                  case "gif":
                    (s = i.preview),
                      (n = i.bg),
                      (r = { type: "gif", caption: (0, rt.l)(i.caption) });
                    break;
                  case "video":
                    null != i.viewOnceState
                      ? (r = {
                          type: "viewOnceVideo",
                          viewOnceState: i.viewOnceState,
                        })
                      : ((s = i.preview),
                        (n = i.bg),
                        (r = {
                          type: "video",
                          caption: (0, rt.l)(i.caption),
                          duration: i.duration,
                        }));
                    break;
                  case "voice":
                    r = { type: "voice", isPtt: i.isPtt, duration: i.duration };
                    break;
                  case "vcard":
                    r = {
                      type: "vcard",
                      displayNames: i.contacts.map((t) =>
                        (0, rt.m)(t.displayName)
                      ),
                      total: i.total,
                    };
                    break;
                  case "text":
                    (r = { type: "text", text: (0, rt.m)(i.text) }),
                      null != i.linkPreview &&
                        ((s = i.linkPreview.preview), (n = i.linkPreview.bg));
                    break;
                  case "location":
                    (s = i.preview),
                      (r = {
                        type: "location",
                        name: i.name,
                        address: i.address,
                      });
                    break;
                  case "group_invite":
                    r = { type: "group_invite", caption: (0, rt.l)(i.caption) };
                    break;
                  case "document":
                    (s = i.preview),
                      (r = {
                        type: "document",
                        fileName: (0, is.a)(i),
                        mimetype: i.mimetype,
                      });
                    break;
                  case "rich_hsm":
                    var l = i.richContent;
                    l && (s = l.preview),
                      (r = {
                        type: "rich_hsm",
                        text: (0, Ah.c)(
                          (0, rt.l)(i.title),
                          (0, rt.m)(i.content)
                        ),
                        subtype: (0, Ah.e)(l),
                      });
                    break;
                  case "poll":
                    r = { type: "poll", name: i.name };
                    break;
                  default:
                    i.type;
                }
                if (r)
                  return {
                    id: t.id,
                    ts: t.ts,
                    remoteJid: null,
                    meta: e,
                    content: r,
                    preview: s,
                    bg: n,
                    stickerPreviewMsgId: a,
                    mentionedJids: t.mentionedJids,
                  };
              })(e);
            if (null != l) {
              n ||
                null != (null == a ? void 0 : a.quote) ||
                t.add(914, () => {
                  (0, eh.f)(s, i.jid, {
                    type: "reply",
                    quotedMsg: l,
                    formatting: (0, Sr.b)(e),
                  }),
                    this.Wl();
                });
              var o = e.meta.author;
              if ("GROUP" === i.type && null != o) {
                var u = i.jid;
                t.add(915, () => {
                  var t = {
                    text: "",
                    quote: {
                      type: "reply",
                      quotedMsg: Object.assign({}, l, { remoteJid: u }),
                      formatting: (0, Sr.b)(e),
                    },
                  };
                  (0, Et.a)(s, o, "newest", t);
                });
              }
            }
          }
          handlePaste() {
            this.Wb.current && this.Wb.current.pasteText(De());
          }
          Wq() {
            if (null == this.state.selection) {
              var t = $h(this.props.msglist, this.state.selectionTarget);
              null != t && this.setState({ selection: t });
            }
          }
          XA(t) {
            this.setState({
              selectionTarget: t,
              selection: null,
              disableLongPressRecording: !1,
            });
          }
          Wo() {
            return null != this.Wb.current && this.Wb.current.hasValue();
          }
          Wp() {
            this.Wb.current && this.Wb.current.close();
          }
          XF() {
            var t = this.props.msglist.chat;
            return "ONE_TO_ONE" === t.type
              ? (0, s.b)(2, Th.b, { chat: t, contacts: this.props.contacts })
              : (0, s.b)(2, Th.a, { chat: t });
          }
          addSoftKeys(t, e) {
            if (null != this.state.selection) {
              t.setUpDownArrows(
                () => this.XC(),
                () => this.XD()
              ),
                t.setRightOptions(() => this.Wy());
              var i = this.props,
                r = i.msglist.chat;
              if ("ONE_TO_ONE" === r.type && i.isVoipAvailable) {
                var s = i.backend,
                  n = i.contacts,
                  a = i.isBlocked;
                t.setOnCall(() =>
                  (0, It.a)((0, c.c)(r.jid, n), s, a, "conversation")
                );
              }
            } else t.setFull(894);
          }
          XH(t) {
            var e = jh(this.state),
              i = this.props,
              r = i.contacts,
              n = i.user,
              a = i.backend,
              l = i.draft,
              o = i.connected,
              u = i.serverPropGifProvider,
              h = this.state.disableLongPressRecording;
            return (0, s.i)(
              (0, s.b)(
                2,
                _h,
                Object.assign(
                  {
                    selected: fh,
                    contacts: r,
                    user: n,
                    backend: a,
                    hasFocusPriority: !0,
                    isAtBottom: e,
                    updateParent: this.XE,
                    onSent: e ? Bh : this.Wz,
                    onSentFromAnotherScreen: this.Wg,
                    draft: l,
                    connected: o,
                    serverPropGifProvider: u,
                    disableLongPressRecording: h,
                  },
                  t
                ),
                null,
                this.Wb
              )
            );
          }
          render() {
            var t = this.props,
              e = t.chatBackground,
              i = t.msglist,
              r = Rh(e);
            return (0, s.b)(2, S.a, {
              title: this.XF(),
              tallTitle: D.g,
              children: (0, s.f)(
                1,
                "div",
                "JQ",
                [
                  i.items.map(this.renderItem),
                  "GROUP" === t.type
                    ? this.XH({
                        type: "group",
                        chat: t.chat,
                        readOnly: t.readOnly,
                      })
                    : this.XH({
                        type: "one",
                        chat: t.chat,
                        readOnly: t.readOnly,
                        isBlocked: t.isBlocked,
                      }),
                ],
                0,
                { style: n.h(r) },
                null,
                this.Wa
              ),
            });
          }
        },
        Hh = function () {
          (this.WZ = null),
            (this.Wa = n.e()),
            (this.Wb = n.e()),
            (this.Wc = n.e()),
            (this.We = !1),
            (this.Wf = Date.now()),
            (this.Wr = () => {
              var t = this.Ws(),
                e = this.Wt(),
                i = Dh.map((e) => ({
                  label: (0, h.b)(e),
                  softkeyText: t === e ? 911 : 935,
                  action: () => {
                    t !== e ? this.Wu(e) : this.Wv();
                  },
                }));
              return (
                (0, Je.d)() &&
                  i.push(
                    e && t
                      ? {
                          label: (0, h.b)(t),
                          softkeyText: 911,
                          action: () => {
                            this.Wv();
                          },
                        }
                      : {
                          label: (0, s.b)(2, rh, { className: "JS" }),
                          softkeyText: 896,
                          action: () => {
                            mu(this.props.backend, (t) => {
                              this.Wu(t);
                            });
                          },
                        }
                  ),
                i
              );
            }),
            (this.Ws = () => {
              var t, e, i;
              if (!(0, Je.e)()) return null;
              var r = null == (t = this.state.selection) ? void 0 : t.item,
                s = null == r || null == (e = r.msg) ? void 0 : e.reactions;
              return null == s || null == (i = s.reactionFromMe)
                ? void 0
                : i.text;
            }),
            (this.Wt = () => {
              if (!(0, Je.e)()) return !1;
              var t = this.Ws();
              return null != t && !Dh.includes(t);
            }),
            (this.Wy = () => {
              var t = this.props,
                e = t.backend,
                i = t.contacts,
                r = this.props.msglist.chat,
                s = this.state.selection && this.state.selection.item,
                n = null == s ? void 0 : s.msg,
                a =
                  n &&
                  (0, Je.e)() &&
                  (function (t) {
                    return Cr.includes(t.content.type);
                  })(n) &&
                  (function (t) {
                    return "ONE_TO_ONE" === t.type || !t.groupInfo.isCAG;
                  })(r),
                l = new K.a(a ? "NO_TITLE" : void 0);
              this.Ww(l, r),
                n &&
                  s &&
                  (a &&
                    l.addHorizontalMenuEntry(
                      this.Wr(),
                      (0, Je.d)() && this.Wt()
                        ? Dh.length
                        : Dh.indexOf(this.Ws())
                    ),
                  (function (t, e, i, r) {
                    if (i.meta.fromMe) {
                      var s = i.meta.ack;
                      if (null != s && (0, br.g)(s)) {
                        var n = i.content;
                        switch (n.type) {
                          case "image":
                            var a = n.mediaStatus;
                            "ready" === a.type &&
                              t.add(945, () => {
                                e.openScreen("MSG_IMAGE_VIEW", {
                                  msgId: i.id,
                                  contentRef: a.ref,
                                });
                              });
                            break;
                          case "video":
                          case "gif":
                          case "voice":
                            var l = n.mediaStatus;
                            "ready" === l.type &&
                              t.add(907, (0, _r.f)(e, i, n, l.ref, r));
                            break;
                          case "document":
                            "ready" === n.mediaStatus.type &&
                              t.add(903, () => {
                                Pr(e, n, i.id);
                              });
                        }
                      }
                    }
                  })(l, e, n, r.jid),
                  Mr(l, e, n),
                  (0, Je.e)() && l.setDefault("msgInfo"),
                  this.maybeAppendQuoteOptions(l, n, r),
                  Lr(l, e, i, s, n, r)),
                this.Wx(l, r),
                jh(this.state) || l.add(191, this.Wz),
                (0, b.j)(l);
            }),
            (this.XB = (t, e) => {
              this.setState((i) => ({
                selection: { key: t.key, index: e, item: t },
                disableLongPressRecording:
                  "voice" === t.type && t.content.isPtt,
              })),
                t.key === _e.h || this.Wo() || this.Wp();
            }),
            (this.Wn = (t) => {
              var e,
                i,
                r,
                s =
                  (null == (e = this.WZ) || null == (i = e.element)
                    ? void 0
                    : i.scrollTopMax) || 1 / 0,
                n = Math.min(s, Math.round(t));
              (null == (r = this.WZ) ? void 0 : r.element) &&
                this.WZ.element.scrollTo(0, n);
            }),
            (this.Wk = () => {
              this.WZ &&
                (this.Wn(this.WZ.element.scrollHeight),
                requestAnimationFrame(() => {
                  this.WZ &&
                    this.WZ.element &&
                    (this.WZ.element.scrollTop -= 1),
                    requestAnimationFrame(() => {
                      this.WZ &&
                        this.WZ.element &&
                        (this.WZ.element.scrollTop += 1);
                    });
                }));
            }),
            (this.Wj = () => {
              if (this.Wc.current) {
                var t = this.WZ,
                  e = this.Wc.current.getBoundingClientRect();
                if (t) {
                  var i = e.top - t.top,
                    r = t.height - e.height;
                  this.state.composeBox.opened &&
                    (r -= this.Wb.current ? this.Wb.current.getHeight() : 0),
                    (r /= 2),
                    this.Wn(t.element.scrollTop + i - r);
                }
              }
            }),
            (this.XC = () => {
              cancelAnimationFrame(this.Wh),
                (this.Wh = requestAnimationFrame(() => {
                  var t = this.props.msglist.items,
                    e = this.state.selection && this.state.selection.key,
                    i = e ? t.findIndex((t) => t.key === e) : -1;
                  -1 === i && (i = t.length);
                  for (var r = i - 1; r >= 0; --r) {
                    var s = t[r];
                    if (Kh(s)) return void this.XB(s, r);
                  }
                }));
            }),
            (this.XD = () => {
              cancelAnimationFrame(this.Wh),
                (this.Wh = requestAnimationFrame(() => {
                  if (null != this.state.selection)
                    for (
                      var t = this.state.selection.key,
                        e = this.props.msglist.items,
                        i = e.findIndex((e) => e.key === t) + 1;
                      i < e.length;
                      ++i
                    ) {
                      var r = e[i];
                      if (Kh(r)) return void this.XB(r, i);
                    }
                }));
            }),
            (this.Wz = () => {
              this.XA({ type: "item", key: _e.h, msgId: null }),
                (0, Et.c)(
                  this.props.backend,
                  this.props.msglist.chat.id,
                  "newest"
                );
            }),
            (this.Wl = () => {
              this.Wb.current && this.Wb.current.open("");
            }),
            (this.XE = (t) => {
              this.setState({ composeBox: t });
            }),
            (this.renderItem = (t) => {
              var e =
                  null != this.state.selection &&
                  t.key === this.state.selection.key,
                i = e ? this.Wc : null;
              switch (t.type) {
                case "loading":
                  return (0, s.b)(2, Vt.a, { type: t.subtype }, t.key);
                case "notification":
                  switch (t.content.type) {
                    case "gp2":
                      return (0, s.b)(
                        2,
                        mo,
                        {
                          selectedRef: i,
                          selected: e,
                          chat: this.props.msglist.chat,
                          darkBackground: this.props.isDarkBackground,
                          meta: t.msg.meta,
                          content: t.content,
                          contacts: this.props.contacts,
                        },
                        t.key
                      );
                    case "biz":
                      var r = t.content,
                        a = (0, et.q)(this.props.msglist.chat.jid);
                      return a
                        ? (0, s.b)(
                            2,
                            jl,
                            {
                              selected: e,
                              darkBackground: this.props.isDarkBackground,
                              contacts: this.props.contacts,
                              msg: t.msg,
                              content: r,
                              userJid: a,
                            },
                            t.key,
                            i
                          )
                        : (__LOG__(4)`Unexpected biz message on group`,
                          SEND_LOGS("biz-message-in-group"),
                          null);
                    case "keyschanged":
                      return (0, s.b)(
                        2,
                        Wl,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                          contacts: this.props.contacts,
                          msg: t.msg,
                          subtype: t.content.subtype,
                        },
                        t.key,
                        i
                      );
                    case "ephemeral_change":
                      return (0, s.b)(
                        2,
                        ql,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          canChange: !this.props.isBlocked,
                          content: t.content,
                          meta: t.msg.meta,
                        },
                        t.key,
                        i
                      );
                    case "ephemeral_change_fail":
                      return (0, s.b)(
                        2,
                        Xl,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          expiration: t.content.expiration,
                        },
                        t.key,
                        i
                      );
                    case "default-disappearing-mode":
                      var l = t.content,
                        o = (0, et.q)(this.props.msglist.chat.jid);
                      return o
                        ? (0, s.b)(
                            2,
                            Zl,
                            {
                              selected: e,
                              darkBackground: this.props.isDarkBackground,
                              userJid: o,
                              contacts: this.props.contacts,
                              content: l,
                            },
                            t.key,
                            i
                          )
                        : (__LOG__(
                            4
                          )`Unexpected default disappearing mode message on group`,
                          SEND_LOGS("default-disappearing-mode-in-group"),
                          null);
                    case "keep-in-chat":
                      return (0, s.b)(
                        2,
                        eo,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                        },
                        t.key,
                        i
                      );
                    case "contact_block_change":
                      return (0, s.b)(
                        2,
                        Jl,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          blocked: t.content.blocked,
                          isCurrentlyBlocked: this.props.isBlocked,
                        },
                        t.key,
                        i
                      );
                    default:
                      return (0, m.a)(t.content.type);
                  }
                case "datetime":
                  var u,
                    h = (0, Ie.r)();
                  return (
                    (u = (u =
                      t.time > h
                        ? (0, le.k)(1023)
                        : t.time > h - Ie.b
                        ? (0, le.k)(1111)
                        : (0, Ce.i)(t.time, "fulldate")).toUpperCase()),
                    (0, s.b)(
                      2,
                      Ll,
                      {
                        selected: e,
                        darkBackground: this.props.isDarkBackground,
                        children: u,
                      },
                      t.key,
                      i
                    )
                  );
                case "privacyBanner":
                  return (0, s.b)(
                    2,
                    ko,
                    {
                      selected: e,
                      content: t.content,
                      darkBackground: this.props.isDarkBackground,
                      chat: this.props.msglist.chat,
                      contacts: this.props.contacts,
                      isVoipAvailable: this.props.isVoipAvailable,
                    },
                    t.key,
                    i
                  );
                case "unreadBar":
                  return (0, s.b)(2, Pl, { count: t.count }, t.key);
                case "filler":
                  return zh;
                case "composeBox":
                  var c = this.Wb.current,
                    d = null != c ? c.getHeight() : 0,
                    v = this.props,
                    p = v.msglist,
                    f = v.readOnly;
                  return (0, s.f)(
                    1,
                    "div",
                    null,
                    (function (t, e, i, r) {
                      var a = {};
                      return (
                        r > 0 && (a.minHeight = r + "px"),
                        (0, s.f)(
                          1,
                          "div",
                          (0, Mt.a)("Qs", i && nh),
                          e
                            ? bh(t, i, e)
                            : (0, s.b)(2, Su.a, {
                                className: "Qq",
                                type: "text",
                                placeholder: 631,
                              }),
                          0,
                          { style: n.h(a) }
                        )
                      );
                    })(p.chat, f, e, d),
                    0,
                    null,
                    t.key,
                    i
                  );
                case "report":
                  return (0, s.b)(
                    2,
                    Io,
                    {
                      selected: e,
                      darkBackground: this.props.isDarkBackground,
                      innerRef: i,
                      chat: this.props.msglist.chat,
                      contacts: this.props.contacts,
                      connected: this.props.connected,
                      blocked: this.props.isBlocked,
                      moveToNextMessage: () => this.XD(),
                    },
                    t.key
                  );
                case "addContact":
                  var g = this.props.msglist.chat;
                  return "ONE_TO_ONE" !== g.type
                    ? (__LOG__(
                        4
                      )`Tried to display the AddContactButton in a non-one-to-one-chat`,
                      SEND_LOGS("add-contact-button-in-non-one-to-one"),
                      null)
                    : (0, s.b)(
                        2,
                        Eo,
                        {
                          selected: e,
                          darkBackground: this.props.isDarkBackground,
                          innerRef: i,
                          chat: g,
                          contacts: this.props.contacts,
                          moveToNextMessage: () => this.XD(),
                        },
                        t.key
                      );
                case "groupPrivacy":
                  return (0, s.b)(2, To, { selected: e, innerRef: i }, t.key);
                default:
                  return (
                    t.type,
                    (0, s.b)(
                      2,
                      Al,
                      {
                        part: t,
                        selected: e,
                        darkBackground: this.props.isDarkBackground,
                        playGif: e,
                        truncated: !0,
                        ephemeralInfo: this.props.ephemeralInfo,
                        setSelectionTarget: this.XG,
                      },
                      t.key,
                      i
                    )
                  );
              }
            }),
            (this.XG = (t) => {
              this.XA({ type: "msg", msgId: t });
            });
        };
      function Jh(t) {
        var e = t.anchor,
          i = t.chat,
          r = t.selectedItem;
        return null != r
          ? { type: "item", key: r.key, msgId: r.msgId }
          : "beginning" === e || e === i.msgInfo.newest
          ? { type: "item", key: _e.h, msgId: null }
          : { type: "msg", msgId: e };
      }
      function $h(t, e) {
        switch (e.type) {
          case "msg":
            return (function (t, e) {
              for (var i = 0; i < t.items.length; ++i) {
                var r = t.items[i];
                if (r.msg && r.msg.id === e)
                  return { key: r.key, index: i, item: r };
              }
              return null;
            })(t, e.msgId);
          case "item":
            return (function (t, e, i) {
              for (var r = !1, s = 0; s < t.items.length; ++s) {
                var n,
                  a = t.items[s],
                  l = null != i && (null == (n = a.msg) ? void 0 : n.id) === i;
                if (a.key === e) return { key: a.key, index: s, item: a };
                if (r && !l) {
                  var o = s - 1,
                    u = t.items[o];
                  return { key: u.key, index: o, item: u };
                }
                r = l;
              }
              return null;
            })(t, e.key, e.msgId);
          default:
            return (0, m.a)(e.type);
        }
      }
      var Yh = (0, l.g)(
        (0, d.e)(Wh, { order: [dl.a, ml, fh, mh] }),
        (t) =>
          t.msglist
            ? {
                msglist: t.msglist,
                contacts: t.contacts,
                user: t.user,
                blocked: t.blocked,
                connected: t.connected,
                serverPropGifProvider: t.serverProps.gifProvider,
                isVoipAvailable: t.isVoipAvailable,
                activePlayer: t.player.active,
                settings: t.settings,
                drafts: t.drafts,
                tosAccepted: t.tosAccepted,
                markKeepInChatNuxSeenJobIsRunning: (0, ve.i)(
                  t,
                  "markKeepInChatNuxSeen"
                ),
              }
            : null,
        (t, e) => {
          var i = t.msglist,
            r = t.contacts,
            s = t.blocked,
            n = t.settings,
            a = t.drafts,
            l = t.tosAccepted,
            o = t.markKeepInChatNuxSeenJobIsRunning,
            u = i.chat,
            h = "ONE_TO_ONE" === u.type && s[u.jid],
            d = Ph(u.chatBackgroundSettings, n.chatBackgroundSettings),
            v = d.chatBackground,
            p = d.isDarkBackground,
            f = (0, Lh.c)(a, u.jid),
            m = {
              backend: e,
              contacts: r,
              activePlayer: t.activePlayer,
              connected: t.connected,
              isVoipAvailable: t.isVoipAvailable,
              serverPropGifProvider: t.serverPropGifProvider,
              user: t.user,
              isBlocked: h,
              ephemeralInfo: (0, Ae.c)(u, r),
              chatBackground: v,
              isDarkBackground: p,
              draft: f,
              markKeepInChatNuxSeenJobIsRunning: null != o,
            };
          return "GROUP" === u.type
            ? Object.assign({}, m, {
                type: "GROUP",
                chat: u,
                msglist: i,
                readOnly: (0, Ue.c)(u),
              })
            : Object.assign({}, m, {
                type: "ONE_TO_ONE",
                chat: u,
                msglist: i,
                readOnly: (0, Mh.a)((0, c.c)(u.jid, r), l),
              });
        }
      );
      function qh(t) {
        WAM.log("regular", 3154, void 0, [1, 0, "review-modal" === t ? 1 : 2]);
      }
      function Xh(t) {
        var e;
        return null != (null == (e = t.draft) ? void 0 : e.quote);
      }
      var Qh = i(195),
        Zh = i(92);
      function tc(t, e) {
        var i = e.resumedAt;
        return i.progress + ((0, Ie.E)() - i.time) / t;
      }
      var ec = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ni = null),
              (this.state = {
                progress: 0,
                resumedAt: { time: (0, Ie.E)(), progress: 0 },
              }),
              (this.Nj = !1),
              (this.No = () => {
                var t = tc(this.props.duration, this.state);
                if (t >= 1) {
                  this.setState({ progress: 1 }), (this.Ni = null);
                  var e = this.props.onProgressEnd;
                  null != e && e();
                } else this.setState({ progress: t }), this.Nl();
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.playing !== t.playing ||
                  i.duration !== t.duration ||
                  i.sideways !== t.sideways ||
                  i.hidden !== t.hidden ||
                  i.onProgressBegin !== t.onProgressBegin ||
                  i.onProgressEnd !== t.onProgressEnd ||
                  i.error !== t.error)) ||
              (r !== e &&
                (r.progress !== e.progress || r.resumedAt !== e.resumedAt))
            );
          }
          componentDidMount() {
            this.props.playing && (this.Nk(), this.Nl());
          }
          componentDidUpdate(t) {
            var e = this.props.playing;
            t.playing !== e && (e ? (this.Nk(), this.Nn()) : this.Nm());
          }
          componentWillUnmount() {
            this.Nm();
          }
          Nk() {
            if (!this.Nj) {
              this.Nj = !0;
              var t = this.props.onProgressBegin;
              null != t && t();
            }
          }
          Nl() {
            this.Ni = requestAnimationFrame(this.No);
          }
          Nn() {
            var t = this.props.duration;
            this.setState((t) => ({
              resumedAt: { time: (0, Ie.E)(), progress: t.progress },
            })),
              this.setState((e) => ({ progress: tc(t, e) })),
              this.Nl();
          }
          Nm() {
            this.Ni && (cancelAnimationFrame(this.Ni), (this.Ni = null));
          }
          render() {
            var t = this.props,
              e = t.sideways,
              i = t.hidden,
              r = t.error,
              a = 100 * this.state.progress + "%",
              l = e ? { height: a } : { width: a },
              o = (0, Mt.a)("PF Lt", e ? "PH" : "PG", i && "PL");
            return (0, s.f)(
              1,
              "div",
              o,
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("PI", r && "PJ"),
                (0, s.f)(1, "div", "PK", null, 1, { style: n.h(l) }),
                2
              ),
              2
            );
          }
        },
        ic = i(54);
      function rc() {
        return (0, s.f)(1, "div", "MC", null, 1, {
          style: n.h({ backgroundImage: "url('/icons/avatarPsa.svg'" }),
        });
      }
      function sc(t) {
        var e = (0, Ce.f)(t);
        switch (e) {
          case "NOW":
            return (0, s.b)(2, o.b, { l10n: 997 });
          case "TODAY":
            return (0, s.b)(2, o.b, { l10n: [(0, Ce.i)(t, "time"), 269] });
          case "YESTERDAY":
            return (0, s.b)(2, o.b, { l10n: [(0, Ce.i)(t, "time"), 270] });
          default:
            return (0, s.b)(2, o.b, { l10n: [e, 268] });
        }
      }
      var nc = n.f((t, e) => {
          var i = t.author,
            r = t.contacts,
            n = t.show,
            a = t.sideways,
            l = t.timestamp,
            h = t.withoutShadow,
            d = (function (t, e) {
              return (0, ic.o)(t, {
                user: (t) => {
                  var i = (0, c.c)(t, e);
                  return {
                    avatar: (0, s.f)(
                      1,
                      "div",
                      "Ly",
                      (0, s.b)(2, vt.c, { jid: t }),
                      2
                    ),
                    name: (0, s.b)(2, j.a, { contact: i, prefer: "status" }),
                  };
                },
                me: () => ({
                  avatar: (0, s.f)(
                    1,
                    "div",
                    "Ly",
                    (0, s.b)(2, vt.c, { jid: Zu.t.get() }),
                    2
                  ),
                  name: (0, s.f)(
                    1,
                    "div",
                    null,
                    (0, s.b)(2, o.b, { l10n: 976 }),
                    2
                  ),
                }),
                psa: () => ({
                  avatar: (0, s.f)(1, "div", "Lz Ly", (0, s.b)(2, rc), 2),
                  name: (0, s.f)(
                    1,
                    "div",
                    "MA",
                    [
                      (0, s.b)(2, o.b, { l10n: 1110 }),
                      (0, s.b)(2, ke.a, {
                        className: "MB",
                        badgeSize: "small",
                      }),
                    ],
                    4
                  ),
                }),
              });
            })(i, r),
            v = d.avatar,
            p = d.name,
            f = (function (t, e) {
              return null != e ? sc(e) : u.a;
            })(0, l);
          return (0, s.f)(
            1,
            "div",
            (0, Mt.a)("Lp", a ? "Ls" : "Lr", h && "Lq"),
            [
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Lu"),
                (0, s.b)(2, ec, {
                  error: t.error,
                  duration: t.duration,
                  playing: t.playing,
                  sideways: a,
                  hidden: "none" === n,
                  onProgressBegin: t.onProgressBegin,
                  onProgressEnd: t.onProgressEnd,
                }),
                2
              ),
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)(
                  "Lv Lt",
                  ("none" === n || "progress" === n) && "Lw",
                  a && "Lx"
                ),
                [
                  v,
                  (0, s.f)(
                    1,
                    "div",
                    "MD FW FS",
                    [
                      (0, s.f)(
                        1,
                        "div",
                        "ME",
                        [
                          (0, s.f)(1, "div", "MF FY FU", p, 0),
                          (0, s.f)(
                            1,
                            "div",
                            "MG",
                            (0, s.b)(2, o.b, {
                              l10n: [t.position, t.total, 254],
                            }),
                            2
                          ),
                        ],
                        4
                      ),
                      (0, s.f)(1, "div", null, f, 0),
                    ],
                    4
                  ),
                ],
                0
              ),
            ],
            4,
            null,
            null,
            e
          );
        }),
        ac = i(425),
        lc = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d: "M6.996 1.5c1.432 0 2.594 1.092 2.594 2.439v6.74c0 1.347-1.162 2.44-2.594 2.44-1.431 0-2.592-1.093-2.592-2.44v-6.74c0-1.347 1.16-2.439 2.592-2.439z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d: "M7.7 15.838c2.404-.286 4.331-2.033 4.742-4.262.054-.289.057-.362.057-.362.013-.292-.229-.529-.538-.529h-.282c-.309 0-.575.237-.59.528l-.056.25c-.384 1.763-2.046 3.093-4.03 3.093-1.994 0-3.662-1.34-4.037-3.114l-.051-.246c-.015-.28-.28-.51-.59-.51h-.282c-.31 0-.553.227-.543.505l.038.245c.355 2.292 2.306 4.105 4.755 4.401v3.134c0 .291.253.529.563.529h.281c.31 0 .563-.238.563-.53v-3.13z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                stroke: "#000",
                "stroke-opacity": ".1",
                d: "m12.5 11.214.499.026v-.005c.026-.605-.475-1.05-1.038-1.05h-.282c-.531 0-1.031.396-1.087.954l-.047.218c-.332 1.519-1.778 2.699-3.543 2.699-1.773 0-3.224-1.19-3.546-2.718l-.045-.213c-.055-.562-.567-.94-1.086-.94h-.282c-.539 0-1.066.413-1.042 1.025v.029l.005.028.038.245c.37 2.39 2.302 4.278 4.75 4.752v2.707c0 .595.505 1.029 1.062 1.029h.281c.557 0 1.063-.434 1.063-1.03v-2.703c2.4-.46 4.306-2.28 4.734-4.6a7.15 7.15 0 00.061-.385l.003-.024v-.017l-.498-.027zm-2.41-7.275C10.09 2.287 8.675 1 6.996 1 5.318 1 3.904 2.287 3.904 3.939v6.74c0 1.65 1.413 2.94 3.092 2.94 1.68 0 3.094-1.29 3.094-2.94v-6.74z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 14 21" }
          );
        },
        oc = "IE",
        uc = "IN FV FS FU";
      function hc(t) {
        var e,
          i = null == (e = t.unread) ? void 0 : e.first;
        return null != i
          ? i.id
          : t.msgs.length < 1
          ? (__LOG__(4)`Trying to go through an author without any status`,
            void SEND_LOGS("status-author-without-any-status"))
          : t.msgs[0].id;
      }
      function cc() {
        return (0, s.f)(1, "div", "IS");
      }
      var dc = class extends n.a {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.LX = (0, Uh.c)(h.d)),
            (this.LY = { skipPhoneNumbers: !0 }),
            t
          );
        }
        render() {
          var t = this.props.preview,
            e = (0, Qh.a)(t.text) < 3,
            i = { backgroundColor: t.hexBackgroundColor };
          return (0, s.f)(
            1,
            "div",
            e ? "IK IJ FW FS" : "IJ FW FS",
            this.LX(t.text, (0, Zh.f)(t), this.LY),
            0,
            { style: n.h(i) }
          );
        }
      };
      function vc(t) {
        var e = t.preview.backgroundColor,
          i = { backgroundColor: (0, Zh.c)(e) };
        return (0, s.f)(
          1,
          "div",
          "IT",
          (0, s.b)(2, lc, { className: "IU" }),
          2,
          { style: n.h(i) }
        );
      }
      function pc(t) {
        if (
          null == t ||
          ("voice" === t.type && !(0, qn.a)("voice_status_receipt_enabled"))
        )
          return (0, s.b)(2, cc);
        switch (t.type) {
          case "text":
            return (0, s.b)(2, dc, { preview: t });
          case "media":
            var e = {
              borderRadius: "50%",
              backgroundColor: t.bgColor || "#e0e0e0",
            };
            return (0, s.b)(2, Xi, { previewId: t.previewId, style: e });
          case "voice":
            return (0, s.b)(2, vc, {
              preview: { type: "voice", backgroundColor: t.backgroundColor },
            });
          default:
            return (0, m.a)(t.type);
        }
      }
      function fc(t, e) {
        var i = "@psa" === e.jid ? (0, s.b)(2, rc) : pc(e.preview);
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)(
            "IF",
            t && "IH",
            "viewed" === e.section && "IG",
            "muted" === e.section && "II"
          ),
          i,
          0
        );
      }
      var mc = class extends d.b {
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.author,
            n = i.contact;
          t.setCenterLabel(903, () => {
            this.props.openAuthor(e, r.jid);
          });
          var a = (0, s.b)(2, j.a, { contact: n, prefer: "status" });
          r.muted
            ? t.setLeftLabel(1070, () => {
                bc(e, r, a);
              })
            : t.setLeftLabel(102, () => {
                _c(e, r, a);
              });
        }
        render() {
          var t = this.props,
            e = t.author,
            i = t.contact,
            r = t.isSectionLast,
            n = t.selected,
            a = (0, s.b)(2, j.a, { contact: i, prefer: "status" }),
            l = e.unread.count,
            u =
              !e.muted && l > 0
                ? (0, s.b)(2, o.b, { l10n: [l, 259] })
                : (0, s.b)(2, o.b, { l10n: [e.msgs.length, 273] }),
            h = (0, s.f)(1, "span", uc, a, 0);
          return (0, s.b)(2, y.j, {
            className: oc,
            rawTitle: h,
            rawSubtitle: u,
            icon: fc(n, e),
            selected: n,
            borderBottom: !r,
            ellipsis: !0,
          });
        }
      };
      function gc(t) {
        var e = t.className;
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("IP", e),
          (0, s.b)(2, rh, { className: "IQ" }),
          2
        );
      }
      var Sc = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.LZ = (t) => {
                this.props.me && t.openSentStatusScreen();
              }),
              (this.La = (t) => {
                var e = new K.a(),
                  i = this.props.sessionId;
                e.add(982, t.openScreen, "STATUS_SEND_TEXT"),
                  (0, qn.a)("voice_status_post_enabled") &&
                    e.add(984, t.openScreen, "STATUS_SEND_VOICE"),
                  e.add(186, t.openScreen, "SEND_MEDIA", {
                    from: "statusTab",
                    sessionId: i,
                    jid: ts.h,
                    media: { type: "image" },
                    defaultCaption: "",
                    actionAfterSending: { type: "closeAllScreens" },
                  }),
                  e.add(187, t.openScreen, "SEND_MEDIA", {
                    from: "statusTab",
                    sessionId: i,
                    jid: ts.h,
                    media: { type: "video" },
                    defaultCaption: "",
                    actionAfterSending: { type: "closeAllScreens" },
                  }),
                  (0, b.j)(e);
              }),
              t
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.me;
            t.setLeftLabel(908, () => {
              e.openScreen("SETTINGS_PRIVACY", { start: "status" });
            }),
              i && i.msgs.length > 0
                ? (t.setCenterLabel(903, () => this.LZ(e)),
                  t.setRightLabel(857, () => this.La(e)))
                : t.setCenterLabel(857, () => this.La(e));
          }
          render() {
            var t,
              e = this.props,
              i = e.me,
              r = e.selected;
            if (!i || i.msgs.length < 1)
              return (0, s.b)(2, y.j, {
                className: oc,
                title: 976,
                subtitle: 962,
                icon: (0, s.f)(1, "div", "IO", (0, s.b)(2, gc), 2),
                selected: r,
                ellipsis: !0,
              });
            var n = 0,
              a = 0;
            i.msgs.forEach((t) => {
              (0, br.g)(t.ack) ? a++ : t.ack === yr.a.CLOCK && n++;
            }),
              (t =
                0 === n && 0 === a
                  ? (0, s.b)(2, o.b, { l10n: [i.msgs.length, 273] })
                  : n > 0
                  ? (0, s.b)(2, o.b, { l10n: [n, 262] })
                  : (0, s.f)(
                      1,
                      "span",
                      (0, Mt.a)("IL", r && "IH"),
                      [
                        (0, s.b)(2, ws.a, { className: "IM" }),
                        (0, s.b)(2, o.b, { l10n: [a, 263] }),
                      ],
                      4
                    ));
            var l = (0, s.f)(1, "span", uc, (0, s.b)(2, o.b, { l10n: 976 }), 2);
            return (0, s.b)(2, y.j, {
              className: oc,
              rawTitle: l,
              rawSubtitle: t,
              icon: fc(r, i),
              selected: r,
              ellipsis: !0,
            });
          }
        },
        yc = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props.psa;
            t.setCenterLabel(903, () => {
              this.props.openAuthor(e, i.jid);
            });
            var r = (0, s.b)(2, o.b, { l10n: 1110 });
            i.muted
              ? t.setLeftLabel(1070, () => {
                  bc(e, i, r);
                })
              : t.setLeftLabel(102, () => {
                  _c(e, i, r);
                });
          }
          render() {
            var t = this.props,
              e = t.psa,
              i = t.isSectionLast,
              r = t.selected,
              n = e.unread.count,
              a = (0, s.f)(
                1,
                "span",
                uc,
                [
                  (0, s.b)(2, o.b, { l10n: 1110 }),
                  (0, s.b)(2, ac.a, { className: "IR Fb" }),
                ],
                4
              ),
              l =
                n > 0
                  ? (0, s.b)(2, o.b, { l10n: [n, 259] })
                  : (0, s.b)(2, o.b, { l10n: [e.msgs.length, 273] });
            return (0, s.b)(2, y.j, {
              className: oc,
              rawTitle: a,
              rawSubtitle: l,
              icon: fc(r, e),
              selected: r,
              borderBottom: !i,
              ellipsis: !0,
            });
          }
        };
      function _c(t, e, i) {
        (0, b.f)({
          title: [i, 258],
          text: [i, 257],
          confirm: 102,
          onConfirm: () => {
            var i;
            null == (i = t.statusSession) || i.statusMuted(e),
              t.muteAuthor(e.jid);
          },
        });
      }
      function bc(t, e, i) {
        (0, b.f)({
          title: [i, 272],
          text: [i, 271],
          confirm: 1070,
          onConfirm: () => {
            t.unmuteAuthor(e.jid);
          },
        });
      }
      function xc(t, e, i, r, s) {
        if (i) {
          var n = "contacts" === e.type ? 965 : [e.participants.length, 255];
          (0, b.g)({
            text: n,
            left: 908,
            onSoftLeft: () => {
              t.openScreen("SETTINGS_PRIVACY", { start: "status" });
            },
            center: r,
            onSoftCenter: () => {
              s();
            },
            close: () => {
              t.statusFirstSendDialogClosed(), (0, b.a)();
            },
          });
        } else s();
      }
      var wc = "STATUS_ITEM";
      function Oc(t) {
        return t.group
          ? { jid: t.jid, chat: t.chat, group: t.group }
          : { jid: t.jid, chat: t.chat, contact: t.contact };
      }
      var kc = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Lm = !1),
              (this.Ln = n.e()),
              (this.state = { selectedItems: new Set() }),
              (this.Lq = () => {
                var t = this.state.selectedItems,
                  e = 0;
                return (
                  t.forEach((t) => {
                    "STATUS_ITEM" !== t && e++;
                  }),
                  e
                );
              }),
              (this.Lr = () => {
                var t = this.props.groupForwardingLimit;
                if (null == t) return !1;
                var e = 0;
                return (
                  this.state.selectedItems.forEach((t) => {
                    var i;
                    "STATUS_ITEM" !== t &&
                      (null == (i = this.props.recipients[t])
                        ? void 0
                        : i.group) &&
                      e++;
                  }),
                  e >= t
                );
              }),
              (this.Ls = (t) => {
                var e = this.state.selectedItems;
                if (!e.has(t)) {
                  if ("STATUS_ITEM" !== t) {
                    if (this.Lq() >= this.props.forwardingLimit)
                      return void this.Lo();
                    if (this.props.recipients[t].group && this.Lr())
                      return void this.Lp();
                  }
                  var i = new Set(e);
                  i.add(t), this.setState({ selectedItems: i });
                }
              }),
              (this.Lt = (t) => {
                var e = this.state.selectedItems;
                if (e.has(t)) {
                  var i = new Set(e);
                  i.delete(t), this.setState({ selectedItems: i });
                }
              }),
              (this.Lu = (t, e) =>
                (function (t, e, i) {
                  var r = (0, B.g)(t);
                  return e.filter((t) => {
                    if ("STATUS_ITEM" === t) return !1;
                    var e = i[t];
                    return e.group
                      ? (0, B.h)(e.group, r)
                      : (0, B.a)(e.contact, r);
                  });
                })(t, e, this.props.recipients)),
              (this.Lv = () => {
                if (!this.Lm) {
                  this.Lm = !0;
                  var t = this.props,
                    e = t.onDone,
                    i = t.recipients,
                    r = !1,
                    s = [];
                  this.state.selectedItems.forEach((t) => {
                    "STATUS_ITEM" === t ? (r = !0) : s.push(Oc(i[t]));
                  }),
                    e(s, r),
                    (this.Lm = !1);
                }
              }),
              (this.Lw = (t, e, i, r) => {
                var n,
                  a,
                  l = this.state.selectedItems,
                  o = this.props,
                  u = o.recipients,
                  h = o.status,
                  c = l.has(t),
                  d =
                    "STATUS_ITEM" === t
                      ? null
                      : null == (n = u[t])
                      ? void 0
                      : n.section,
                  v = null,
                  p = r[i - 1];
                i > 0 &&
                  "STATUS_ITEM" !== p &&
                  (v = null == (a = u[p]) ? void 0 : a.section);
                var f = d !== v;
                if ("STATUS_ITEM" === t)
                  return "hide" === h.type
                    ? (__LOG__(
                        3
                      )`SelectContactOrGroup: Status item found when option was 'hide`,
                      SEND_LOGS("select-status-hide"),
                      null)
                    : (0, s.b)(2, Mc, {
                        checked: c,
                        onSelect: this.Ls,
                        onUnselect: this.Lt,
                        selected: e,
                        status: h,
                      });
                var m = Oc(u[t]),
                  g = (0, s.b)(2, Ec, {
                    contactOrGroup: m,
                    checked: c,
                    onSelect: this.Ls,
                    onUnselect: this.Lt,
                    selected: e,
                  });
                return f && null != d
                  ? (0, s.c)(
                      [(0, s.b)(2, y.g, { text: "chat" === d ? 319 : 644 }), g],
                      0
                    )
                  : g;
              }),
              t
            );
          }
          Lo() {
            (0, b.e)({ title: 243, text: [this.props.forwardingLimit, 99] });
          }
          Lp() {
            (0, b.e)({ title: 243, text: 318 });
          }
          addSoftKeys(t) {
            this.state.selectedItems.size > 0 &&
              t.setRightLabel(this.props.done || 875, this.Lv);
          }
          render() {
            var t = this.props.items,
              e =
                0 === t.length ? void 0 : { filter: this.Lu, emptyLabel: 317 };
            return (0, s.b)(2, S.a, {
              title: this.props.renderTitle(this.Lq()),
              children: (0, s.b)(
                2,
                g.c,
                {
                  items: t,
                  keyOf: Lc,
                  search: e,
                  estimatedItemHeight: 60,
                  emptyLabel: 316,
                  renderItem: this.Lw,
                  deps: [this.state.selectedItems],
                },
                null,
                this.Ln
              ),
            });
          }
        },
        Cc = (0, Uh.e)(function (t, e, i, r, s) {
          var n,
            a = {},
            l = "hide" !== r.type ? [wc] : [],
            o = [];
          return (
            t.forEach((t) => {
              var r = "chat",
                n = e[t];
              if ("ONE_TO_ONE" === n.type) {
                var u = (0, Mh.a)((0, c.c)(n.jid, i), s);
                if ("tos-not-accepted" === u || "country-disabled" === u)
                  return;
                l.push(n.jid),
                  (a[n.jid] = {
                    jid: n.jid,
                    chat: n,
                    contact: (0, c.c)(n.jid, i),
                    section: r,
                  });
              } else
                n.type,
                  (0, Ue.c)(n)
                    ? ((r = "readonlygroup"), o.push(n.jid))
                    : l.push(n.jid),
                  (a[n.jid] = {
                    jid: n.jid,
                    chat: n,
                    group: n.groupInfo,
                    section: r,
                  });
            }),
            (0, j.j)(i).forEach((t) => {
              var e = (0, Mh.a)(t, s);
              "tos-not-accepted" !== e &&
                "country-disabled" !== e &&
                t &&
                null == t.chatId &&
                (null == n && (n = t.jid),
                (a[t.jid] = {
                  jid: t.jid,
                  chat: null,
                  contact: t,
                  section: "contact",
                }),
                l.push(t.jid));
            }),
            l.push(...o),
            { items: l, recipients: a }
          );
        }),
        Nc = (0, l.f)(
          (0, d.e)(kc),
          (t, e) => {
            var i = t.contacts,
              r = t.serverProps,
              s = t.connected,
              n = t.tosAccepted,
              a = t.chatlist,
              l = a.chats,
              o = a.orderedChatIds;
            return Object.assign({}, e, {
              chats: l,
              contacts: i,
              orderedChatIds: o,
              serverProps: r,
              connected: s,
              tosAccepted: n,
            });
          },
          (t, e) => {
            var i = t.status,
              r = t.chats,
              s = t.contacts,
              n = t.done,
              a = t.onDone,
              l = t.forwardingLimit,
              o = t.groupForwardingLimit,
              u = t.orderedChatIds,
              h = t.serverProps,
              c = t.connected,
              d = t.renderTitle,
              v = t.tosAccepted,
              p = h.multicastLimitGlobal,
              f = null == l ? p : Math.min(l, p),
              m = Cc(u, r, s, i, v),
              g = m.items;
            return {
              recipients: m.recipients,
              items: g,
              forwardingLimit: f,
              groupForwardingLimit: o,
              done: n,
              onDone: a,
              backend: e,
              connected: c,
              renderTitle: d,
              status: i,
            };
          }
        ),
        Ic = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contactOrGroup,
              s = i.checked,
              n = i.onSelect,
              a = i.onUnselect,
              l = i.tosAccepted,
              o = r.jid,
              u = this.maybeGetBlockedContact(r),
              h = r.group ? (0, Ue.c)(r.chat) : (0, Mh.a)(r.contact, l);
            u
              ? t.setCenterLabel(944, () => {
                  this.openUnblockDialog(u, e);
                })
              : h ||
                (s
                  ? t.setCenterLabel(911, () => {
                      a(o);
                    })
                  : t.setCenterLabel(857, () => {
                      n(o);
                    }));
          }
          openUnblockDialog(t, e) {
            var i = this.props.connected;
            i
              ? (0, b.f)(
                  (0, V.b)({
                    contact: t,
                    unblock: () => {
                      i
                        ? e.unblockUser(t.jid)
                        : (0, b.e)({ title: 243, text: 1063 });
                    },
                  })
                )
              : (0, b.e)({ title: 243, text: 1063 });
          }
          maybeGetBlockedContact(t) {
            return t.contact && this.props.blocked[t.jid] ? t.contact : null;
          }
          render() {
            var t,
              e = this.props,
              i = e.contactOrGroup,
              r = e.checked,
              n = e.selected,
              a = e.tosAccepted,
              l = i.group ? (0, Ue.c)(i.chat) : (0, Mh.a)(i.contact, a);
            return (
              this.maybeGetBlockedContact(i)
                ? (t = 1066)
                : l &&
                  (t = (function (t) {
                    var e;
                    switch (t) {
                      case "only-admins":
                      case "only-community-admins":
                        e = 632;
                        break;
                      case "support-closed":
                        e = 475;
                        break;
                      case "not-participant":
                        e = 633;
                        break;
                      case "chat-suspended":
                        e = 461;
                        break;
                      case "large-group":
                        e = 539;
                        break;
                      case "community-deactivated":
                        e = 150;
                        break;
                      default:
                        __LOG__(
                          4
                        )`ContactOrGroupItemClass: tried to render a read only chat with ${t}`;
                    }
                    return e;
                  })(l)),
              (0, s.b)(2, y.m, {
                contactOrGroup: i,
                disabled: !!l,
                selected: n,
                checked: r,
                subtitle: t,
              })
            );
          }
        },
        Ec = (0, l.c)(Ic, (t, e, i) => ({
          contactOrGroup: i.contactOrGroup,
          onSelect: i.onSelect,
          onUnselect: i.onUnselect,
          checked: i.checked,
          selected: i.selected,
          connected: t.connected,
          contacts: t.contacts,
          blocked: t.blocked,
          tosAccepted: t.tosAccepted,
        })),
        Tc = class extends d.b {
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings(),
              super.componentDidMount();
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.checked,
              s = i.onSelect,
              n = i.onUnselect,
              a = i.status,
              l = i.settings,
              o = i.showDialogOnFirstSend;
            if (l)
              switch (
                (t.setLeftLabel(908, () => {
                  e.openScreen("SETTINGS_PRIVACY", { start: "status" });
                }),
                a.type)
              ) {
                case "allow":
                  r
                    ? t.setCenterLabel(911, () => {
                        n(wc);
                      })
                    : t.setCenterLabel(857, () => {
                        xc(e, l, o, 857, () => {
                          s(wc);
                        });
                      });
                  break;
                case "disable":
                  var u = a.alert;
                  u &&
                    t.setCenterLabel(885, () => {
                      (0, b.e)(u);
                    });
                  break;
                default:
                  a.type;
              }
          }
          render() {
            var t,
              e = this.props,
              i = e.checked,
              r = e.selected,
              n = e.status,
              a = e.settings,
              l =
                null != a
                  ? (0, s.b)(2, o.b, {
                      l10n: null != (t = n.subtitle) ? t : (0, Zh.h)(a),
                    })
                  : (0, s.b)(2, o.b, { l10n: 894 });
            return (0, s.b)(2, y.j, {
              className: "IV",
              title: 976,
              rawSubtitle: l,
              icon: (0, s.b)(2, gc),
              selected: r,
              disabled: null == a || "disable" === n.type,
              rightComponent: (0, s.b)(2, z.a, {
                checked: i,
                selected: r,
                className: "IW",
              }),
            });
          }
        },
        Mc = (0, l.c)(Tc, (t, e, i) => ({
          selected: i.selected,
          onSelect: i.onSelect,
          onUnselect: i.onUnselect,
          checked: i.checked,
          status: i.status,
          settings: t.status.settings,
          showDialogOnFirstSend: t.status.showDialogOnFirstSend,
          backend: e,
        }));
      function Lc(t) {
        return String(t);
      }
      var Ac = class extends n.b {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.WT = (t, e) => {
              var i = this.props,
                r = i.backend,
                s = i.msgs,
                n = (0, Ie.D)();
              if (!e && s.some((t) => null != t.validUntil && t.validUntil < n))
                (0, b.e)({
                  title: 243,
                  text: 285,
                  onClose: () => {
                    r.goBack();
                  },
                });
              else {
                var a = t.map((t) => t.jid),
                  l = s.map((t) => t.id);
                r.forwardMsgs(l, a, e), r.maybeRedirectAfterSharing(a, e);
              }
            }),
            (this.WU = (t) =>
              0 === t
                ? (0, s.b)(2, o.b, { l10n: 320 })
                : (0, s.b)(2, o.b, { l10n: [t, 100] })),
            t
          );
        }
        componentDidMount() {
          this.WS();
        }
        componentDidUpdate() {
          this.WS();
        }
        WS() {
          for (
            var t = this.props,
              e = t.msgs,
              i = t.serverProps,
              r = t.backend,
              s = (0, rt.g)(),
              n = 0;
            n < e.length;
            n++
          ) {
            var a = e[n];
            if ((a.content.size || -1) > s * F.b) {
              (0, b.e)({ title: 243, text: [s, 187], onClose: r.goBack });
              break;
            }
            if (
              (("vcard" === a.content.type && a.content.isMMS) ||
                ("document" === a.content.type && a.content.isVCard)) &&
              a.content.size > i.vcardMaxSizeKb * F.a
            ) {
              var l =
                "vcard" === a.content.type
                  ? a.content.total
                  : a.content.pages || 0;
              (0, b.e)({ text: [l, 297], onClose: r.goBack });
              break;
            }
          }
        }
        render() {
          var t = this.props,
            e = t.includesFrequentlyForwarded,
            i = t.serverProps,
            r = t.msgs,
            n = i.frequentlyForwardedMax,
            a = i.frequentlyForwardedMessages && e ? n : null,
            l = r.some((t) => null != t.forwarded),
            o = (function (t, e) {
              for (var i, r, s, n, a, l = 0; l < t.length; l++) {
                var o,
                  u = t[l];
                if ((0, yr.s)(u.id)) {
                  r = !0;
                  break;
                }
                if ("video" === u.content.type || "gif" === u.content.type)
                  s = s || Uc(e, u.content.duration);
                else if ("text" === u.content.type) n = n || Rc(u.content.text);
                else if ("image" === u.content.type);
                else if (
                  (0, qn.a)("voice_status_post_enabled") &&
                  "voice" === u.content.type &&
                  (null == (o = u.meta) ? void 0 : o.fromMe)
                )
                  u.content.duration > _e.W && (a = !0);
                else {
                  if ("rich_hsm" !== u.content.type) {
                    i = !0;
                    break;
                  }
                  var h = u.content.richContent;
                  h
                    ? "video" === h.type
                      ? (s = s || Uc(e, h.duration))
                      : "image" === h.type ||
                        (h.type, (n = n || u.content.content))
                    : (n =
                        n || Rc((0, Ah.b)(u.content.title, u.content.content)));
                }
              }
              return i || r
                ? { type: "hide" }
                : s
                ? { type: "disable", subtitle: [e.statusVideoMaxDuration, 275] }
                : a
                ? { type: "disable", subtitle: [_e.W, 275] }
                : n
                ? { type: "allow", subtitle: [_e.U, 267] }
                : { type: "allow" };
            })(r, i);
          return (0, s.b)(2, Nc, {
            renderTitle: this.WU,
            done: 935,
            onDone: this.WT,
            forwardingLimit: a,
            groupForwardingLimit: l ? 1 : void 0,
            status: o,
          });
        }
      };
      function Uc(t, e) {
        return (e || 0) > t.statusVideoMaxDuration;
      }
      function Rc(t) {
        return (0, Zh.m)(t) > _e.U;
      }
      var Pc = (0, l.c)(Ac, (t, e, i) => {
          var r = t.serverProps;
          return {
            msgs: i.msgs,
            includesFrequentlyForwarded: i.includesFrequentlyForwarded,
            serverProps: r,
            backend: e,
          };
        }),
        Gc = class extends d.a {
          addSoftKeys(t) {
            t.setFull(894);
          }
          render() {
            return (0, s.b)(2, S.a, {
              children: (0, s.f)(
                1,
                "div",
                (0, Mt.a)("VF", this.props.className),
                (0, s.b)(2, ss.a),
                2
              ),
            });
          }
        },
        Fc = i(299),
        Dc = i(548),
        zc = i(429),
        Vc = "UJ",
        Kc = "UW Li",
        jc = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Ua = !1),
              (this.Ub = !1),
              (this.pick = (t) => {
                this.setState((e) => ({ picked: new Set(e.picked).add(t) }));
              }),
              (this.unpick = (t) => {
                this.setState((e) => {
                  var i = new Set(e.picked);
                  return i.delete(t), { picked: i };
                });
              }),
              (this.unpickAll = () => {
                this.setState((t) => ({ picked: new Set() }));
              }),
              (this.pickAll = () => {
                var t = this.props,
                  e = t.backend,
                  i = t.useCase;
                "storageSetting" === i.type &&
                  !0 !== this.Ub &&
                  ((this.Ub = !0),
                  this.setState({
                    pickedLoading: !0,
                    selection: { type: "loader" },
                    selectionBackup: this.state.selection,
                  }),
                  e
                    .sendAndReceive("backend", "getAllMediaMsgIds", {
                      filter: i.filter,
                    })
                    .then((t) => {
                      if (this.Ua && this.Ub) {
                        this.Ub = !1;
                        var e = new Set(t);
                        this.setState((t) => {
                          var i;
                          return {
                            picked: e,
                            pickedLoading: !1,
                            maxPickedSize: e.size,
                            selection:
                              null != (i = t.selectionBackup) ? i : t.selection,
                          };
                        });
                      }
                    }));
              }),
              (this.Uh = (t) => {
                var e;
                null != t &&
                  ("previousRow" === this.state.direction
                    ? (e = "start")
                    : "nextRow" === this.state.direction && (e = "end"),
                  e && (0, de.e)(t, { block: e, behavior: "smooth" }));
              }),
              (this.fillLastRow = (t) => {
                var e =
                  (this.props.medias.length - t) % this.UZ.options.rowLength;
                e > 0 && this.Uf(e);
              }),
              (this.moveUp = () => {
                var t;
                if ("loader" === this.state.selection.type) {
                  if (0 === this.props.medias.length) return;
                  t = {
                    index: this.props.medias.length - 1,
                    direction: "previousRow",
                  };
                } else t = this.UZ.previousRow(this.state.selection.index);
                this.Ue(t);
              }),
              (this.moveDown = () => {
                "loader" !== this.state.selection.type &&
                  this.Ue(this.UZ.nextRow(this.state.selection.index));
              }),
              (this.moveLeft = () => {
                "loader" !== this.state.selection.type &&
                  this.Ue(this.UZ.defaultLeft(this.state.selection.index));
              }),
              (this.moveRight = () => {
                "loader" !== this.state.selection.type &&
                  this.Ue(this.UZ.defaultRight(this.state.selection.index));
              }),
              (this.Ui = () =>
                0 === this.props.medias.length && !this.props.loading),
              (this.Uj = () =>
                this.props.deleting.length > 0 ||
                this.props.revoking.length > 0),
              (this.Uk = () => {
                var t,
                  e = this.state.selection;
                if ("loader" !== e.type) {
                  var i = this.props,
                    r = i.backend,
                    s = i.useCase,
                    n = i.medias,
                    a = {
                      chatId: null == (t = s.chat) ? void 0 : t.id,
                      medias: n,
                      selectIndex: e.index,
                      onPrevMedia: this.moveLeft,
                      onNextMedia: this.moveRight,
                    };
                  r.openScreen(
                    "storageSetting" === s.type
                      ? "GALLERY_MEDIA_FOR_STORAGE_SETTING"
                      : "GALLERY_MEDIA",
                    a
                  );
                }
              }),
              (this.UZ = new oe({
                length: t.medias.length,
                rowLength: ue(),
                onReachEnd: () => {
                  this.Uc() &&
                    this.setState({
                      selection: { type: "loader" },
                      direction: "nextRow",
                    });
                },
              })),
              (this.state = {
                selection: { type: "loader" },
                direction: "nextRow",
                picked: new Set(),
                pickedLoading: !1,
                maxPickedSize: 0,
                selectionBackup: null,
              });
          }
          componentDidMount() {
            (this.Ua = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Ua = !1), super.componentWillUnmount();
          }
          componentDidUpdate(t, e) {
            var i, r;
            if (
              (this.props.medias.length !== this.UZ.options.length &&
                this.UZ.update({ length: this.props.medias.length }),
              this.props.medias.length < t.medias.length)
            ) {
              var s = this.state.selection;
              if (this.props.medias.length > 0 && "media" === s.type) {
                var n = this.props.medias.findIndex(
                    (t) => t.msg.id === s.msgId
                  ),
                  a = this.state.direction;
                n < 0 &&
                  ((n = this.Ud(s.index, t)) < s.index
                    ? (a = "previousRow")
                    : n > s.index && (a = "nextRow")),
                  this.Ue({ index: n, direction: a }, !0);
              }
              var l = this.props.medias.length % this.UZ.options.length;
              l > 0 && this.Uf(l);
            }
            if (
              "loader" === this.state.selection.type &&
              null == (null == (i = this.props.loading) ? void 0 : i.older) &&
              null != (null == (r = t.loading) ? void 0 : r.older)
            ) {
              if (0 === this.props.medias.length)
                return void super.componentDidUpdate(t, e);
              var o,
                u = t.medias.length;
              o =
                0 === u
                  ? 0
                  : this.props.medias.length > u
                  ? u
                  : this.props.medias.length - 1;
              var h = this.props.medias[o];
              if (null == h)
                return (
                  __LOG__(4)`Failed to select a valid media item`,
                  void super.componentDidUpdate(t, e)
                );
              this.setState(
                {
                  selection: { type: "media", index: o, msgId: h.msg.id },
                  maxPickedSize: Math.max(
                    this.state.maxPickedSize,
                    this.props.medias.length
                  ),
                },
                () => {
                  this.Ug(o, !0);
                }
              );
            }
            super.componentDidUpdate(t, e);
          }
          Ue(t, e) {
            if (null != t) {
              var i = this.props.medias[t.index];
              if (null == i)
                return void __LOG__(4)`Failed to move to media as intended`;
              this.setState(
                {
                  selection: { type: "media", msgId: i.msg.id, index: t.index },
                  direction: t.direction,
                },
                () => {
                  this.Ug(t.index, !0 === e);
                }
              );
            }
          }
          Ug(t, e) {
            this.props.backend.dispatch({
              type: "GALLERY_SYNC",
              selectIndex: t,
              medias: e ? this.props.medias : void 0,
            });
          }
          Ud(t, e) {
            for (
              var i = 0, r = 0, s = t, n = 0, a = this.props.medias.length;
              n < a;

            ) {
              var l = n + r,
                o = this.props.medias[n],
                u = e.medias[l];
              if (o.msg.id !== u.msg.id) r++;
              else {
                var h = Math.abs(t - l);
                if (h > s) break;
                (s = h), (i = n), n++;
              }
            }
            return i;
          }
          Uf(t) {
            if (this.props.allLoaded || this.props.loading) return !1;
            var e = this.props,
              i = e.medias,
              r = e.useCase,
              s = e.backend,
              n = i[0],
              a = i[i.length - 1];
            if (null == n || null == a) return !1;
            var l = a.msg.id;
            if ("storageSetting" === r.type)
              return (
                s.loadStorageSettingMediaMsgs({
                  filter: r.filter,
                  limit: t,
                  fromMsgId: l,
                }),
                !0
              );
            r.type;
            var o = r.chat.id;
            return (
              s.loadChatMediaMsgs({ chatId: o, limit: t, fromMsgId: l }), !0
            );
          }
          Uc() {
            var t = this.props.medias.length % this.UZ.options.rowLength;
            return this.Uf(_e.F + t);
          }
          addSoftKeys(t, e) {
            this.Ui() || this.Uj()
              ? t.setLeftAsBack()
              : this.state.pickedLoading
              ? t.setLeftLabel(864, () => {
                  (this.Ub = !1),
                    this.setState((t) => {
                      var e;
                      return {
                        pickedLoading: !1,
                        selection:
                          null != (e = t.selectionBackup) ? e : t.selection,
                      };
                    });
                })
              : (t.setUpDownArrows(this.moveUp, this.moveDown),
                t.setLeftRightArrows(this.moveLeft, this.moveRight));
          }
          renderMedia(t, e, i) {
            var r = this.state.selection,
              n = this.state.picked,
              a = "media" === r.type && r.msgId === t.msg.id,
              l = "loader" === r.type ? this.props.medias.length - 1 : r.index,
              o = Math.abs(l - e) > 2 * _e.F;
            return (0, s.b)(
              2,
              qc,
              {
                innerRef: a ? this.Uh : null,
                selected: a,
                farAway: o,
                cellWidth: i,
                openMedia: this.Uk,
                mediaItem: t,
                useCase: this.props.useCase,
                picked: n,
                isPicked: n.has(t.msg.id),
                pick: () => this.pick(t.msg.id),
                unpick: () => this.unpick(t.msg.id),
                unpickAll: this.unpickAll,
                pickAll: this.pickAll,
                mediaItemsMap: this.props.mediaItemsMap,
                fillLastRow: this.fillLastRow,
                maxPickedSize: this.state.maxPickedSize,
                contacts: this.props.contacts,
              },
              t.msg.id
            );
          }
          renderMedias() {
            var t = (function (t) {
              switch (t) {
                case 2:
                  return 119;
                case 3:
                  return 106;
                default:
                  return;
              }
            })(this.UZ.options.rowLength);
            return this.props.medias.map((e, i) => this.renderMedia(e, i, t));
          }
          renderLoader() {
            var t,
              e = "loader" === this.state.selection.type;
            return null == (null == (t = this.props.loading) ? void 0 : t.older)
              ? null
              : (0, s.f)(
                  1,
                  "div",
                  "UK",
                  (0, s.b)(2, ss.a),
                  2,
                  null,
                  null,
                  e ? this.Uh : null
                );
          }
          renderChatTitle(t) {
            var e;
            if ("ONE_TO_ONE" === t.type) {
              var i = (0, c.c)(t.jid, this.props.contacts);
              e = (0, ke.d)(i);
            } else t.type, (e = (0, h.b)(t.groupInfo.title));
            return (0, s.f)(1, "div", "UA", e, 0);
          }
          renderPageTitle() {
            var t = this.props.useCase;
            if ("mediaDrawer" === t.type)
              return (0, s.b)(2, o.b, { l10n: 564 });
            if ((t.type, "largeFiles" === t.filter.type))
              return (0, s.b)(2, o.b, { l10n: [_e.w, 181] });
            var e = t.chat;
            return null != e
              ? this.renderChatTitle(e)
              : (0, s.b)(2, o.b, { l10n: 564 });
          }
          render() {
            return this.Ui()
              ? (0, s.b)(2, Wc)
              : this.Uj()
              ? (0, s.b)(2, Hc)
              : (0, s.c)(
                  [
                    (0, s.b)(2, S.a, {
                      title: this.renderPageTitle(),
                      children: (0, s.f)(
                        1,
                        "div",
                        (0, Mt.a)("UB", ce(this.UZ.options.rowLength)),
                        [this.renderMedias(), this.renderLoader()],
                        0
                      ),
                    }),
                    this.state.pickedLoading
                      ? (0, s.f)(1, "div", "Uc", (0, s.b)(2, _i.a), 2)
                      : null,
                  ],
                  0
                );
          }
        };
      function Bc(t) {
        return (0, s.b)(2, S.a, {
          title: (0, s.b)(2, o.b, { l10n: 564 }),
          children: (0, s.f)(1, "div", "UV", t.children, 0),
        });
      }
      function Wc() {
        return (0, s.b)(2, Bc, { children: (0, s.b)(2, o.b, { l10n: 560 }) });
      }
      function Hc() {
        return (0, s.b)(2, Bc, { children: (0, s.b)(2, ss.a) });
      }
      var Jc = (0, Uh.a)((t) => (0, F.u)(t, (t) => t.msg.id)),
        $c = (0, l.c)((0, d.e)(jc), (t, e, i) => {
          var r = t.contacts,
            s = Jc(i.medias);
          return Object.assign({}, i, {
            mediaItemsMap: s,
            backend: e,
            contacts: r,
          });
        });
      function Yc() {
        return (0, s.f)(1, "div", "UT", (0, s.b)(2, zc.a), 2);
      }
      function qc(t) {
        var e,
          i = t.innerRef,
          r = t.selected,
          n = t.isPicked,
          a = t.farAway,
          l = t.mediaItem,
          o = t.cellWidth,
          u = t.openMedia,
          h = t.useCase,
          c = t.pickAll,
          d = t.pick,
          v = t.unpick,
          p = t.picked,
          f = t.unpickAll,
          g = t.mediaItemsMap,
          S = t.fillLastRow,
          y = t.maxPickedSize,
          _ = t.contacts,
          b = l.msg.starred,
          x =
            (0, Je.l)() &&
            null != (null == (e = l.msg.keptInfo) ? void 0 : e.kept),
          w = null;
        if ("failure" === l.type)
          w = l.msg.content.preview
            ? (0, s.b)(2, Qc, { selected: r, preview: l.msg.content.preview })
            : (0, s.b)(2, Qc, { selected: r });
        else {
          var O = l.content,
            k = null,
            C = 907;
          switch (O.type) {
            case "voice":
              k = (0, s.b)(2, id, { selected: r, content: O, msg: l.msg });
              break;
            case "image":
              (k = (0, s.b)(2, ed, {
                selected: r,
                content: O,
                msg: l.msg,
                parentWidth: o,
              })),
                (C = 945);
              break;
            case "video":
              k = (0, s.b)(2, rd, { selected: r, content: O, msg: l.msg });
              break;
            case "gif":
              k = (0, s.b)(2, sd, { selected: r, content: O, msg: l.msg });
              break;
            default:
              (0, m.a)(O.type);
          }
          var N = {
            openMedia: u,
            viewLabel: C,
            selected: r,
            pick: d,
            unpick: v,
            isPicked: n,
            mediaItem: l,
            unpickAll: f,
            picked: p,
          };
          w =
            "storageSetting" === h.type
              ? (0, s.i)(
                  (0, s.b)(
                    2,
                    td,
                    Object.assign({}, N, {
                      size: O.size,
                      pickAll: c,
                      maxPickedSize: y,
                      children: k,
                    })
                  )
                )
              : (0, s.i)(
                  (0, s.b)(
                    2,
                    Zc,
                    Object.assign({}, N, {
                      chat: h.chat,
                      contacts: _,
                      mediaItemsMap: g,
                      fillLastRow: S,
                      children: k,
                    })
                  )
                );
        }
        var I =
            b && "mediaDrawer" === h.type
              ? (function (t, e) {
                  var i = (0, s.b)(2, Jr, { className: "UX Lf" });
                  return t
                    ? i
                    : (0, s.f)(1, "div", (0, Mt.a)(Kc, !!e && "Ua Lj"), i, 0);
                })(n, x)
              : null,
          E =
            x && "mediaDrawer" === h.type
              ? (function (t, e) {
                  var i = (0, s.b)(2, $r, {
                    className: (0, Mt.a)("UY Le", !!e && "UZ Lg"),
                  });
                  return t || e ? i : (0, s.f)(1, "div", Kc, i, 0);
                })(n, b)
              : null;
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("UC", r && "UM", a && "UU"),
          [w, n ? (0, s.b)(2, Yc) : null, I, E, (0, s.f)(1, "div", "UL")],
          0,
          null,
          null,
          i
        );
      }
      function Xc(t, e) {
        (0, b.g)({
          title: [e.length, 46],
          text: [e.length, 45],
          left: 864,
          onSoftLeft: "CLOSE",
          center: 872,
          onSoftCenter: () => {
            t.deleteMsgsFromStorageSetting(e);
          },
        });
      }
      var Qc = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(885, () => {
              (0, b.e)({ title: 243, text: 561 });
            });
          }
          render() {
            var t = this.props.preview,
              e = t ? (0, s.b)(2, ar, { previewId: t, className: Vc }) : null;
            return (0, s.f)(
              1,
              "div",
              "UE UD",
              [
                e,
                (0, s.f)(
                  1,
                  "div",
                  "UQ",
                  (0, s.b)(2, vl.a, { className: "UN" }),
                  2
                ),
              ],
              0
            );
          }
        },
        Zc = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.isPicked,
              s = i.pick,
              n = i.unpick,
              a = i.viewLabel,
              l = i.openMedia,
              o = i.chat,
              u = i.contacts,
              h = i.mediaItem,
              c = i.picked,
              d = i.unpickAll,
              v = i.mediaItemsMap,
              p = i.fillLastRow;
            t.setCenterLabel(a, l),
              r ? t.setLeftLabel(873, n) : t.setLeftLabel(930, s),
              t.setRightOptions(() => {
                var t = (function (t, e, i, r, s, n, a, l) {
                  for (
                    var o = 0 === s.size ? [r.msg.id] : Array.from(s),
                      u = [],
                      h = [],
                      c = [],
                      d = [],
                      v = [],
                      p = t.isStarredIndexMissing(),
                      f = new K.a(643),
                      m = [],
                      g = 0,
                      S = !1,
                      y = { revokeType: "sender" },
                      x = (0, Je.m)(),
                      w = 0,
                      O = o.length;
                    w < O;
                    ++w
                  ) {
                    var k = o[w],
                      C = a.get(k);
                    if (null != C) {
                      u.push(k);
                      var N = C.msg;
                      "success" === C.type &&
                        (m.push(N),
                        Er(N.forwarded) && (S = !0),
                        Tr(N.forwarded) && g++);
                      var I,
                        E = Ur(N, e);
                      null != y &&
                        ("sender" === y.revokeType
                          ? null == E
                            ? (y = null)
                            : "admin" === E &&
                              (y = { revokeType: "admin", msg: N })
                          : (y.revokeType, (y = null))),
                        p ||
                          (N.starred ? c.push(k) : (x && zr(N)) || h.push(k)),
                        x &&
                          (null !=
                            (null == (I = N.keptInfo) ? void 0 : I.kept) &&
                          zr(N)
                            ? v.push(k)
                            : Vr(N) &&
                              (null == N.keptInfo ||
                                (null == N.keptInfo.kept &&
                                  "@me" === N.keptInfo.author)) &&
                              d.push(k));
                    }
                  }
                  if (
                    (m.length === u.length &&
                      (function (t, e, i, r, s) {
                        var n = { msgs: i, includesFrequentlyForwarded: r };
                        if (0 === s)
                          t.add(642, e.openScreen, "FORWARD_SCREEN", n);
                        else {
                          var a = 1 === i.length && 1 === s ? 310 : 630;
                          t.add(197, () =>
                            (0, b.g)({
                              title: 642,
                              text: a,
                              left: 864,
                              onSoftLeft: "CLOSE",
                              center: 902,
                              onSoftCenter: () => {
                                e.openScreen("FORWARD_SCREEN", n);
                              },
                              right: 891,
                              onSoftRight: () => {
                                (0, _.E)(e, _.l);
                              },
                            })
                          );
                        }
                      })(f, t, m, S, g),
                    null != e)
                  ) {
                    var T = h.length > 0,
                      M = c.length > 0,
                      L = d.length > 0,
                      A = v.length > 0,
                      U = !x || (!L && !A),
                      R = c.length === u.length,
                      P = x && !T && d.length + v.length === u.length,
                      G = !U && !R && !P,
                      F = x && "GROUP" === e.type && !e.groupInfo.isInGroup;
                    U && T
                      ? f.add(202, () => {
                          n(), t.starMessagesFromChat(h, e.id);
                        })
                      : (R && M) || (x && G && M && !A)
                      ? f.add(204, () => {
                          n(), t.unstarMessagesFromChat(c, e.id);
                        })
                      : x && P && L && !F
                      ? f.add(199, () => {
                          n(), t.keepMessagesFromChat(d, e.id);
                        })
                      : x &&
                        P &&
                        A &&
                        !F &&
                        f.add(203, () => {
                          n();
                          var i = v
                            .map((t) => {
                              var e,
                                i = a.get(t);
                              if (null != i) {
                                var r = i.msg,
                                  s =
                                    null == (e = r.keptInfo)
                                      ? void 0
                                      : e.validUntil;
                                if (null != s)
                                  return {
                                    msgId: t,
                                    validUntil: s,
                                    fromMe: !0 === r.meta.fromMe,
                                  };
                              }
                            })
                            .filter(Boolean);
                          Kr(t, e.id, i);
                        });
                  }
                  return (
                    (function (t, e, i, r, s, n, a) {
                      var l = new K.a(196);
                      l.add(238, e.deleteChatMsgs, s.id, r),
                        null != i &&
                          l.add(237, () => {
                            "sender" === i.revokeType
                              ? e.senderRevokeChatMsgs(s.jid, r)
                              : (i.revokeType,
                                e.adminRevokeChatMsg(s.jid, i.msg, n)),
                              a(r.length);
                          }),
                        t.childMenu(l);
                    })(f, t, y, u, e, i, l),
                    f.add(548, () => {
                      (0, Et.c)(t, (0, yr.v)(r.msg.id), r.msg.id);
                    }),
                    f
                  );
                })(e, o, u, h, c, d, v, p);
                (0, b.j)(t);
              });
          }
          render() {
            return this.props.children;
          }
        },
        td = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.maxPickedSize,
              s = i.pickAll,
              n = i.unpickAll,
              a = i.isPicked,
              l = i.picked,
              o = i.pick,
              u = i.unpick,
              h = i.viewLabel,
              c = i.openMedia;
            l.size > 1
              ? l.size < r
                ? t.setLeftLabel(932, s)
                : t.setLeftLabel(934, n)
              : t.setLeftLabel(h, c),
              a ? t.setCenterLabel(873, u) : t.setCenterLabel(930, o),
              t.setRightLabel(872, () => {
                var t = this.props,
                  i = t.picked,
                  r = t.mediaItem,
                  s = 0 === this.props.picked.size ? [r.msg.id] : Array.from(i);
                Xc(e, s);
              });
          }
          render() {
            var t,
              e = this.props,
              i = e.children,
              r =
                ((t = e.size),
                (0, s.b)(2, Nt.a, {
                  className: "Ub",
                  size: t,
                  highPrecision: !0,
                }));
            return (0, s.c)([r, i], 0);
          }
        };
      function ed(t) {
        var e = t.content,
          i = t.msg,
          r = t.parentWidth;
        return (0, s.f)(
          1,
          "div",
          "UG UD",
          (0, s.b)(2, Ls, {
            msgId: i.id,
            content: e,
            parentWidth: r,
            className: Vc,
          }),
          2
        );
      }
      function id(t) {
        var e = t.content.duration;
        return (0, s.f)(
          1,
          "div",
          "UF UD",
          [
            (0, s.b)(2, mn.a, { className: "UO" }),
            (0, s.f)(1, "div", "UR UP", (0, Ce.b)(e), 0),
          ],
          4
        );
      }
      function rd(t) {
        var e = t.content,
          i = null != e.duration ? zs(e.duration) : null,
          r =
            null == e.preview
              ? null
              : (0, s.b)(2, ar, {
                  previewId: e.preview,
                  className: Vc,
                  bgColor: e.bg,
                });
        return (0, s.f)(1, "div", "UI UD", [r, i], 0);
      }
      function sd(t) {
        var e = t.content,
          i =
            null == e.preview
              ? null
              : (0, s.b)(2, ar, {
                  previewId: e.preview,
                  className: Vc,
                  bgColor: e.bg,
                });
        return (0, s.f)(
          1,
          "div",
          "UH UD",
          [i, (0, s.f)(1, "div", "US UP", (0, s.b)(2, os.a), 2)],
          0
        );
      }
      var nd = (t) => {
        var e = t.className;
        return (0, s.f)(
          32,
          "svg",
          e,
          (0, s.f)(32, "path", null, null, 1, {
            d: "M61.5 15v43m-8-33v27m23-25v18m-7-10v18m14-18v4m14-4v4m-7-7v10m14-15v19m7-14v10m7-6v3m-72-8v12m-7-7v2m-7-2v2m-7-7v12m-15-12v12m-8-6v4m16-15v22",
          }),
          2,
          { viewBox: "0 0 121 60" }
        );
      };
      function ad(t, e, i) {
        var r = (0, yr.r)(i);
        null != r &&
          (t.setLeftLabel(548, () => (0, Et.c)(e, (0, yr.v)(r), r)),
          t.setRightLabel(872, () => Xc(e, [r])));
      }
      var ld = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.YH = null),
              (this.YI = null),
              (this.YK = (t) => {
                this.YH = t;
              }),
              (this.YL = () => {
                var t = this.YH;
                if (t) {
                  var e = new st(
                    t,
                    (t) => {
                      this.setState(t);
                    },
                    { width: D.o, height: D.m }
                  );
                  (this.YI = e), (this.YG = (0, As.b)(this.props.content));
                }
                this.setState({ initialized: !0 });
              }),
              (this.YM = () => {
                var t = this.YI;
                null != t &&
                  (t.isAtMinScale() && (0, de.d)(document.documentElement),
                  t.in());
              }),
              (this.YN = () => {
                var t = this.YI;
                null != t && (t.out(), t.isAtMinScale() && this.YJ());
              }),
              (this.YO = (t) => {
                var e = this.state,
                  i = e.initialized,
                  r = e.scale,
                  a = e.x,
                  l = e.y,
                  o = this.props.content,
                  u = this.YG,
                  h = u.width,
                  c = u.height,
                  d = { width: h + "px", height: c + "px" },
                  v = { transform: `scale(${r}) translate(${a}px,${l}px)` };
                return (0, s.b)(2, qi, {
                  width: h,
                  height: c,
                  parentWidth: h,
                  bgColor: o.bg,
                  previewId: o.preview,
                  style: d,
                  isReady: i,
                  overflow: "visible",
                  children: (0, s.f)(
                    1,
                    "img",
                    "XO",
                    null,
                    1,
                    { src: t, style: n.h(v), onLoad: this.YL },
                    null,
                    this.YK
                  ),
                });
              }),
              (this.YG = (0, As.b)(t.content)),
              (this.state = { initialized: !1, scale: 1, x: 0, y: 0 });
          }
          componentWillUnmount() {
            this.YJ(), super.componentWillUnmount();
          }
          YJ() {
            (0, de.c)() && (0, de.a)();
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.isStorageSetting,
              s = i.msgId;
            if (
              (r && ad(t, e, s),
              "ready" === this.props.content.mediaStatus.type)
            ) {
              var n = this.YI;
              if (null != n)
                if (n.isAtMinScale()) {
                  var a = this.props,
                    l = a.onPrevMedia,
                    o = a.onNextMedia;
                  t.setLeftRightArrows(l, o), r || t.setLeftLabel(949, this.YM);
                } else
                  t.setUpDownArrows(n.up, n.down),
                    t.setLeftRightArrows(n.left, n.right),
                    t.setLeftLabel(951, this.YN),
                    n.isAtMaxScale() || t.setRightLabel(950, n.in);
            } else t.setFull(894);
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.msgId,
              r = this.YG.width;
            return (0, s.b)(2, Ls, {
              msgId: i,
              content: e,
              parentWidth: r,
              render: this.YO,
            });
          }
        },
        od = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.YR = () => {
                this.YP.setPlaying(!0);
              }),
              (this.pause = () => {
                this.YP.setPlaying(!1);
              }),
              (this.YS = () => {
                this.props.msgId, this.YP.setPlaying(!1);
              }),
              (this.YT = () => {
                navigator.volumeManager.requestUp();
              }),
              (this.YU = () => {
                navigator.volumeManager.requestDown();
              }),
              (this.YV = () => {
                this.YP.seekToward("backward");
              }),
              (this.YW = () => {
                this.YP.seekToward("forward");
              }),
              (this.YX = () => {
                this.YP.seekToward("rewind");
              });
            var i = t.autoplay;
            this.state = { currentTime: 0, paused: !i };
            var r = new Fu.a(this);
            r.enableWarnIfMuted(), r.setPlaying(i), (this.YP = r);
          }
          handleCanPlay() {
            var t = this.YP.getDuration();
            null != t && (this.YQ = t);
          }
          handlePlay() {
            this.setState({ paused: !1 });
          }
          handlePause() {
            this.setState({ paused: !0 });
          }
          handleTimeUpdate(t) {
            this.setState({ currentTime: t });
          }
          handleEnded() {
            var t = this.YP.current;
            null != t
              ? this.setState({ paused: !0, currentTime: t.currentTime })
              : this.setState({ paused: !0 });
          }
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.isStorageSetting,
              s = i.msgId;
            if (
              (r && ad(t, e, s),
              t.setLeftRightArrows(this.YV, this.YW),
              t.setUpDownArrows(this.YT, this.YU),
              this.state.paused)
            ) {
              var n = this.props,
                a = n.onPrevMedia,
                l = n.onNextMedia;
              t.setLeftRightArrows(a, l), t.setCenterLabel(907, this.YR);
            } else
              t.setCenterLabel(904, this.pause), t.setLeftLabel(926, this.YX);
            t.setBack(() => {
              this.YS(), e.goBack();
            });
          }
          render() {
            var t = this.props.uri;
            if (!t) return (0, s.b)(2, Gc);
            var e = this.state,
              i = e.currentTime,
              r = e.paused,
              n = this.YQ > 0 ? i / this.YQ : 0;
            return (0, s.f)(
              1,
              "div",
              null,
              [
                (0, s.f)(
                  1,
                  "audio",
                  null,
                  null,
                  1,
                  { src: t, preload: "metadata" },
                  null,
                  this.YP.ref
                ),
                (0, s.f)(
                  1,
                  "div",
                  "XU",
                  [
                    (0, s.b)(2, nd, { className: "XW" }),
                    (0, s.b)(2, Bu, { className: "XV" }),
                  ],
                  4
                ),
                (0, s.f)(
                  1,
                  "div",
                  "XR",
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "XT",
                      r
                        ? (0, s.b)(2, ys.a, { className: "XS" })
                        : (0, s.b)(2, fn, { className: "XS" }),
                      0
                    ),
                    (0, s.b)(2, vn, {
                      progress: n,
                      duration: i,
                      kind: "audio",
                      gallery: !0,
                    }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        ud = (0, Fc.c)({
          getContentRef(t) {
            var e = t.content.mediaStatus;
            return "ready" === e.type ? e.ref : null;
          },
          getId: (t) => t.msgId,
          render: (t, e) =>
            (0, s.i)((0, s.b)(2, od, Object.assign({}, t, { uri: e }))),
        }),
        hd = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.YQ = 0),
              (this.YY = null),
              (this.YR = () => {
                this.YP.setPlaying(!0);
              }),
              (this.pause = () => {
                this.Yb(), this.YP.setPlaying(!1);
              }),
              (this.YT = () => {
                navigator.volumeManager.requestUp();
              }),
              (this.YU = () => {
                navigator.volumeManager.requestDown();
              }),
              (this.YV = () => {
                this.Yb(), this.YP.seekToward("backward");
              }),
              (this.YW = () => {
                this.Yb(), this.YP.seekToward("forward");
              }),
              (this.YX = () => {
                this.Yb(), this.YP.seekToward("rewind");
              });
            var i = t.autoplay,
              r = this.YZ();
            (this.state = {
              currentTime: 0,
              paused: !r && !i,
              showProgressBar: !1,
            }),
              this.Ya(t),
              (this.YP = new Fu.a(this));
          }
          componentWillUnmount() {
            this.YY && clearTimeout(this.YY),
              this.YJ(),
              super.componentWillUnmount();
          }
          YJ() {
            (0, de.c)() && (0, de.a)();
          }
          Ya(t) {
            var e = t.content.rotation,
              i = 90 === e || 270 === e;
            this.YG = (0, As.b)(t.content, i ? "swapDimensions" : void 0);
          }
          handleCanPlay() {
            var t = this.YP.getDuration();
            if (null != t) {
              (this.YQ = t), this.Ya(this.props);
              var e = this.YZ(),
                i = this.props.autoplay;
              this.YP.setPlaying(e || i), this.Yb();
            }
          }
          handlePlay() {
            (0, de.d)(document.documentElement), this.setState({ paused: !1 });
          }
          handlePause() {
            this.YJ(), this.setState({ paused: !0 });
          }
          handleTimeUpdate(t) {
            if (!this.YZ()) {
              var e = this.state,
                i = e.showProgressBar,
                r = e.paused;
              (i || r) && this.setState({ currentTime: t });
            }
          }
          handleEnded() {
            var t = this.YP.current;
            null != t
              ? this.setState({ paused: !0, currentTime: t.currentTime })
              : this.setState({ paused: !0 }),
              this.YJ();
          }
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          YZ() {
            return "gif" === this.props.content.type;
          }
          Yc(t) {
            var e = this.state.paused;
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("XP", t && "XQ", !e && "XX"),
              (0, s.b)(2, ys.a),
              2
            );
          }
          Yd(t) {
            var e = this.state,
              i = e.showProgressBar,
              r = e.currentTime,
              n = e.paused,
              a = !i && !n,
              l = this.YQ > 0 ? r / this.YQ : 0;
            return (0, s.b)(2, Dc.a, {
              withSoftkeys: !0,
              progress: l,
              hidden: a,
              playSideways: t,
            });
          }
          Yb() {
            this.YY && clearTimeout(this.YY),
              this.setState((t) => {
                var e = this.YP.current;
                return e
                  ? { showProgressBar: !0, currentTime: e.currentTime }
                  : { showProgressBar: !0 };
              }),
              (this.YY = setTimeout(() => {
                this.setState({ showProgressBar: !1 });
              }, 1e3));
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.msgId;
            if ((i.isStorageSetting ? ad(t, e, r) : t.hide(), this.YZ())) {
              var s = this.props,
                n = s.onPrevMedia,
                a = s.onNextMedia;
              t.setLeftRightArrows(n, a);
            } else {
              if (this.state.paused) {
                var l = this.props,
                  o = l.onPrevMedia,
                  u = l.onNextMedia;
                t.setCenterLabel(907, this.YR), t.setLeftRightArrows(o, u);
              } else
                t.setCenterLabel(904, this.pause),
                  t.setLeftRightArrows(this.YV, this.YW);
              t.setUpDownArrows(this.YT, this.YU);
            }
          }
          render() {
            var t = this.props,
              e = t.uri;
            if (!e) return (0, s.b)(2, Gc);
            var i = t.content,
              r = t.muted,
              a = this.YZ(),
              l = !a,
              o = this.YG,
              u = o.shouldBeSideways,
              h = i.rotation || 0;
            u && (h += 90), (h %= 360);
            var c = {
              width: (u ? o.widthSideway : o.width) + "px",
              height: (u ? o.heightSideway : o.height) + "px",
              transform: 0 !== h ? `rotate(${h}deg)` : void 0,
            };
            return (0, s.f)(
              1,
              "div",
              null,
              [
                (0, s.f)(
                  1,
                  "video",
                  null,
                  null,
                  1,
                  {
                    src: e + "#t=0.01",
                    muted: r || a,
                    loop: a,
                    style: n.h(c),
                    preload: "metadata",
                  },
                  null,
                  this.YP.ref
                ),
                l ? this.Yc(u) : null,
                l ? this.Yd(u) : null,
              ],
              0
            );
          }
        },
        cd = (0, Fc.c)({
          getContentRef(t) {
            var e = t.content.mediaStatus;
            return "ready" === e.type ? e.ref : null;
          },
          getId: (t) => t.msgId,
          render: (t, e) =>
            (0, s.i)((0, s.b)(2, hd, Object.assign({}, t, { uri: e }))),
        }),
        dd = class extends d.a {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.onPrevMedia,
              s = i.onNextMedia;
            t.setLeftRightArrows(r, s), t.setCenterLabel(868, () => e.goBack());
          }
          render() {
            return (0, s.c)(
              [
                (0, s.b)(2, ws.a, { className: "XY" }),
                (0, s.b)(2, o.b, { l10n: 561, className: "XZ" }),
              ],
              4
            );
          }
        },
        vd = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.WW = !0),
              (this.WX = () => {
                this.props.loading ||
                  ((this.WW = !1), this.props.onPrevMedia());
              }),
              (this.WY = () => {
                this.props.loading ||
                  ((this.WW = !1), this.props.onNextMedia());
              }),
              t
            );
          }
          render() {
            var t = this.props,
              e = t.loading,
              i = t.isStorageSetting;
            if (e) return (0, s.b)(2, Gc);
            var r = this.props,
              n = r.backend,
              a = null,
              l = r.medias[r.selectIndex];
            "failure" === l.type &&
              (a = (0, s.b)(2, dd, {
                onPrevMedia: this.WX,
                onNextMedia: this.WY,
              }));
            var o = l.msg;
            if ("image" === o.content.type)
              a = (0, s.b)(2, ld, {
                msgId: o.id,
                content: o.content,
                isStorageSetting: i,
                onPrevMedia: this.WX,
                onNextMedia: this.WY,
              });
            else if ("gif" === o.content.type)
              a = (0, s.b)(2, cd, {
                msgId: o.id,
                backend: n,
                content: o.content,
                muted: !0,
                autoplay: !0,
                isStorageSetting: i,
                onPrevMedia: this.WX,
                onNextMedia: this.WY,
              });
            else if ("video" === o.content.type)
              a = (0, s.b)(2, cd, {
                msgId: o.id,
                backend: n,
                content: o.content,
                muted: !1,
                autoplay: this.WW,
                isStorageSetting: i,
                onPrevMedia: this.WX,
                onNextMedia: this.WY,
              });
            else {
              if ("voice" !== o.content.type || o.content.isPtt)
                return __LOG__(3)`Opening an unsupported media!`, null;
              a = (0, s.b)(2, ud, {
                msgId: o.id,
                backend: n,
                content: o.content,
                autoplay: this.WW,
                isStorageSetting: i,
                onPrevMedia: this.WX,
                onNextMedia: this.WY,
              });
            }
            return (0, s.b)(2, S.a, {
              children: (0, s.f)(1, "div", "Wf", a, 0),
            });
          }
        },
        pd = (0, l.b)((0, d.e)(vd, { fullscreen: !0 }), (t, e) =>
          Object.assign({}, e, { isStorageSetting: !1, backend: t })
        ),
        fd = (0, l.b)((0, d.e)(vd, { fullscreen: !1 }), (t, e) =>
          Object.assign({}, e, { isStorageSetting: !0, backend: t })
        ),
        md = "Wr FW FS",
        gd = "Wt FV FS FY FU",
        Sd = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.WV = (t, e) => {
                switch (t) {
                  case "description":
                    return (0, s.b)(2, bd, { selected: e });
                  case "geolocationSetting":
                    return (0, s.b)(2, xd, { selected: e });
                  case "permissionSetting":
                    return (0, s.b)(2, wd, { selected: e });
                  default:
                    return null;
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.locationEnabled !== t.locationEnabled ||
                i.whatsappLocationEnabled !== t.whatsappLocationEnabled)
            );
          }
          render() {
            var t = this.props,
              e = t.locationEnabled,
              i = t.whatsappLocationEnabled,
              r = ["description"];
            return (
              e || r.push("geolocationSetting"),
              i || r.push("permissionSetting"),
              (0, s.b)(2, S.a, {
                title: (0, s.b)(2, o.b, { l10n: 850 }),
                children: (0, s.b)(2, g.a, {
                  items: r,
                  className: "Wp",
                  keyOf: _d,
                  renderItem: this.WV,
                }),
              })
            );
          }
        },
        yd = (0, d.e)(Sd);
      function _d(t) {
        return t;
      }
      var bd = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys() {}
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Wv FW FS", this.props.selected && "Wx"),
              (0, s.b)(2, o.b, { l10n: 545 }),
              2
            );
          }
        },
        xd = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t) {
            t.setCenterLabel(903, U.h);
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Wq", this.props.selected && "Ww"),
              [
                (0, s.f)(
                  1,
                  "div",
                  "Ws",
                  [
                    (0, s.b)(2, o.b, { l10n: 356, className: gd }),
                    (0, s.b)(2, o.b, { l10n: 355, className: md }),
                  ],
                  4
                ),
                (0, s.b)(2, w.a, { className: "Wu" }),
              ],
              4
            );
          }
        },
        wd = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t) {
            t.setCenterLabel(903, U.i);
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Wq", this.props.selected && "Ww"),
              [
                (0, s.f)(
                  1,
                  "div",
                  "Ws",
                  [
                    (0, s.b)(2, o.b, { l10n: 354, className: gd }),
                    (0, s.b)(2, o.b, { l10n: 353, className: md }),
                  ],
                  4
                ),
                (0, s.b)(2, w.a, { className: "Wu" }),
              ],
              4
            );
          }
        },
        Od = i(118),
        kd = i(518);
      function Cd(t) {
        return null == t
          ? Promise.resolve(null)
          : (0, Fi.cropAndResizeProfilePicture)(t).catch(
              (0, Od.a)(kd.a, () => {
                (0, b.e)({ title: 243, text: 793 });
              })
            );
      }
      var Nd = i(137);
      function Id(t, e, i, r) {
        if ("@me" !== i) {
          var s = (0, c.c)(i, e.contacts);
          r.setCenterLabel(193, () => (0, Et.a)(t, i, "newest"));
          var n = (function (t, e, i, r) {
            var s = e.chat,
              n = e.contacts,
              a = e.admins,
              l = e.superadmins,
              o = new K.a(),
              u = i.jid;
            return (
              (0, c.i)(i) ||
                o.add(21, () => {
                  (0, je.a)(t, { tel: (0, ye.d)(u) }, u);
                }),
              o.add(null == i.verifiedInfo ? 130 : 129, () => {
                (0, Mn.a)(t, u);
              }),
              r &&
                (o.add(715, () => {
                  (function (t, e, i) {
                    if (e.superadmins[i])
                      (0, b.e)({
                        title: 243,
                        text: [(0, j.f)(e.contacts, i), 124],
                      });
                    else {
                      if (!e.connected)
                        return void (0, b.e)({ title: 243, text: 720 });
                      (0, b.f)({
                        title: 715,
                        text: [
                          (0, h.b)(e.chat.groupInfo.title),
                          (0, j.f)(e.contacts, i),
                          123,
                        ],
                        confirm: 406,
                        onConfirm: () => {
                          t.removeGroupParticipants(
                            e.chat.jid,
                            [i],
                            e.contacts
                          );
                        },
                        onCancel: "CLOSE",
                      });
                    }
                  })(t, e, u);
                }),
                a[u] || l[u]
                  ? o.add(394, () => {
                      (function (t, e, i) {
                        e.superadmins[i]
                          ? (0, b.e)({
                              title: 243,
                              text: [(0, j.f)(e.contacts, i), 118],
                            })
                          : t.demoteGroupParticipants(
                              e.chat.jid,
                              [i],
                              e.contacts
                            );
                      })(t, e, u);
                    })
                  : o.add(405, () => {
                      t.promoteGroupParticipants(s.jid, [u], n);
                    })),
              o
            );
          })(t, e, s, e.chat.groupInfo.isAdmin);
          n.isEmpty() ||
            r.setRightOptions(() => {
              (0, b.j)(n);
            });
        }
      }
      function Ed(t) {
        var e = "@me" === t.userJid ? Nd.b : (0, c.c)(t.userJid, t.contacts);
        return (0, s.b)(2, y.f, {
          contact: e,
          selected: t.selected,
          rawSubtitle: "pushname",
          rightComponent: t.admin
            ? (0, s.b)(2, o.b, {
                l10n: 383,
                className: (0, Mt.a)("XC", t.selected && "XD"),
              })
            : null,
        });
      }
      var Td = i(424),
        Md = i(198);
      function Ld(t) {
        return t.isInGroup && (!t.locked || t.isAdmin) && !t.suspended;
      }
      function Ad(t) {
        return !t.isCAG && Ld(t);
      }
      var Ud = Ad;
      function Rd(t) {
        return t.isCAG ? t.isInGroup && t.isAdmin && !t.suspended : Ld(t);
      }
      var Pd = i(102),
        Gd = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.value !== t.value;
          }
          render() {
            var t = this.props.value,
              e = (0, Pd.e)(t);
            return (0, h.d)(t, e);
          }
        },
        Fd = i(368),
        Dd = class extends cr.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(947, () => {
              e.openScreen("GROUP_INFO_PAST_PARTICIPANTS", {
                chat: this.props.chat,
              });
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              selected: this.props.selected,
              title: 1107,
            });
          }
        };
      function zd(t) {
        var e;
        return null == (e = t.pastParticipants)
          ? void 0
          : e.filter((t) => !(0, Fd.a)(t));
      }
      function Vd(t) {
        if (!t.pastParticipants || !(0, Je.g)()) return !1;
        var e = zd(t);
        return null != e && e.length > 0;
      }
      var Kd = "WB",
        jd = "WL FW FS",
        Bd = "WM",
        Wd = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "m15.105 9.326.889-.89 3.778 3.779-3.778 3.778-.89-.889 2.223-2.222H9.252v-1.334h8.075zm-9.483 8.742h6.741c.741 0 1.334-.593 1.334-1.334v-1.037h-1.334v1.037H5.622V7.622h6.741v1.037h1.334V7.622c0-.741-.593-1.334-1.334-1.334H5.622c-.741 0-1.334.593-1.334 1.334v9.186c0 .667.593 1.26 1.334 1.26z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Hd = i(555),
        Jd = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "m15.64 12.74 6.2 3.58c.72-1.67.1-3.62-1.51-4.55a3.582 3.582 0 00-4.69.97zm4.39-3.13c.2.07.2.11.21.08l2.28-3.94a1.501 1.501 0 012.6 1.5l-2.28 3.94c-.03.04-.05.09-.08.13 1.57 1.74 1.9 4.33.77 6.49 0 .07.01.12-.02.17l-2.34 8.61c-.04.2-.17.35-.36.43s-.41.06-.58-.04l-2.51-1.46 1.35-6.12-2.96 5.2-8.79-5.08a.677.677 0 01-.32-.49c0-.19.04-.39.19-.53l6.29-6.33c.03-.06.08-.07.14-.11a5.737 5.737 0 016.03-2.57s.29.09.38.12z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        $d = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M8.1 13.5h7.8v-1.9H8.1v1.9zm-4.9-.9c0-2.1 1.6-3.7 3.7-3.7h3.6V7.2H6.9c-2.9 0-5.4 2.4-5.4 5.4 0 2.9 2.4 5.3 5.4 5.3h3.6v-1.7H6.9c-2.1 0-3.7-1.6-3.7-3.6zm13.9-5.4h-3.5v1.7h3.5c2.1 0 3.7 1.6 3.7 3.7s-1.6 3.7-3.7 3.7h-3.5V18h3.5c2.9 0 5.3-2.4 5.3-5.3.1-3.1-2.4-5.5-5.3-5.5z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Yd = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.WK = !1),
              (this.state = { communityInfo: null }),
              (this.WL = (t) => {
                var e = this.props.chat;
                t.openScreen("MEDIA_EDITOR", {
                  fit: "cover",
                  tools: { hasCircleCrop: !0, hasRotation: !0 },
                  onComplete: (i) => {
                    this.WK &&
                      i &&
                      Cd(i).then((i) => {
                        this.WK &&
                          i &&
                          (Ad(this.props.chat.groupInfo)
                            ? t.setGroupPicture(e.jid, i)
                            : (0, b.e)({ title: 243, text: 385 }));
                      });
                  },
                });
              }),
              (this.WM = (t) => {
                t.openScreen("GROUP_INFO_CHANGE_DESCRIPTION", {
                  chat: this.props.chat,
                });
              }),
              (this.WN = (t) => {
                var e = {
                  title: 416,
                  left: 861,
                  onSoftLeft: "CLOSE",
                  onBack: "CLOSE",
                  center: void 0,
                  right: void 0,
                  onSoftRight: void 0,
                };
                !(0, ve.f)(this.props.descriptionJob) &&
                  Rd(this.props.chat.groupInfo) &&
                  ((e.right = 877),
                  (e.onSoftRight = () => {
                    t.openScreen("GROUP_INFO_CHANGE_DESCRIPTION", {
                      chat: this.props.chat,
                    });
                  }));
                var i = this.WO(),
                  r = i.description,
                  n = i.status;
                (0, b.h)(e, (0, s.b)(2, lv, { description: r, status: n }));
              }),
              (this.WQ = () => {
                var t = this.props.chat,
                  e = this.WP().subject;
                return (0, s.f)(
                  1,
                  "div",
                  "Vz",
                  (0, ke.c)(
                    { title: e, support: t.groupInfo.support },
                    { badgeSize: "small" }
                  ),
                  0
                );
              }),
              (this.WR = (t, e) => {
                var i = null,
                  r = this.props,
                  n = r.isInGroup,
                  a = r.items,
                  l = r.chat,
                  o = r.contacts,
                  u = r.connected,
                  h = r.descriptionJob,
                  c = r.subjectJob,
                  d = r.setGroupPictureJob,
                  v = r.hasGroupPicture,
                  p = r.nActiveInvites,
                  f = r.user,
                  m = r.participants,
                  g = r.participantsDivider,
                  S = r.isVoipAvailable;
                switch (t) {
                  case "photo":
                    i = (0, s.b)(2, Zd, {
                      jid: l.jid,
                      selected: e,
                      chat: l,
                      setGroupPictureJob: d,
                      hasGroupPicture: v,
                      handlePhotoChange: this.WL,
                      isCAG: l.groupInfo.isCAG,
                    });
                    break;
                  case "subject":
                    var _ = this.WP(),
                      b = _.subject,
                      x = _.status;
                    i = (0, s.b)(2, tv, {
                      value: b,
                      status: x,
                      selected: e,
                      chat: l,
                      subjectJob: c,
                    });
                    break;
                  case "description":
                    var w = this.WO(),
                      O = w.description,
                      k = w.status;
                    i = (0, s.b)(2, nv, {
                      value: O,
                      status: k,
                      selected: e,
                      user: f,
                      contacts: o,
                      chat: l,
                      descriptionJob: h,
                      viewDescription: this.WN,
                      changeDescription: this.WM,
                    });
                    break;
                  case "community":
                    null != l.groupInfo.linkedParent &&
                      (0, qn.a)("parent_group_view_enabled") &&
                      (i = this.state.communityInfo
                        ? (0, s.b)(2, Di.a, {
                            props: { selected: e },
                            promise: this.state.communityInfo,
                            fallback: () =>
                              (0, s.f)(1, "div", "WT", (0, s.b)(2, ss.a), 2),
                            render: rv,
                          })
                        : null);
                    break;
                  case "media":
                    i = (0, s.b)(2, ov, { chat: l, selected: e });
                    break;
                  case "starredMessages":
                    i = (0, s.b)(2, Xe, {
                      chat: l,
                      selected: e,
                      featureType: "star",
                    });
                    break;
                  case "keptMessages":
                    i = (0, s.b)(2, Xe, {
                      chat: l,
                      selected: e,
                      featureType: "keep",
                    });
                    break;
                  case "muteNotify":
                    i = (0, s.b)(2, Me, { selected: e, chat: l });
                    break;
                  case "groupSettings":
                    i = (0, s.b)(2, uv, { chat: l, selected: e });
                    break;
                  case "ephemeralMessages":
                    var C = this.props.setEphemeralJob;
                    i = (0, s.b)(2, We.d, { chat: l, selected: e, job: C });
                    break;
                  case "encryption":
                    i = l.groupInfo.support
                      ? (0, s.b)(2, cv, { selected: e, isVoipAvailable: S })
                      : (0, s.b)(2, hv, { selected: e, isVoipAvailable: S });
                    break;
                  case "actionAdd":
                    i = (0, s.b)(2, pv, { chat: l, selected: e });
                    break;
                  case "inviteLink":
                    i = (0, s.b)(2, fv, { chat: l, selected: e });
                    break;
                  case "you":
                    i = (0, s.b)(2, Ed, {
                      contacts: o,
                      userJid: ts.a,
                      selected: e,
                      admin: l.groupInfo.isAdmin,
                    });
                    break;
                  case "participantsMore":
                    i = (0, s.b)(2, dv, {
                      chat: l,
                      selected: e,
                      isInGroup: n,
                      numParticipants: m.length,
                    });
                    break;
                  case "pastParticipants":
                    i = (0, s.b)(2, Dd, { chat: l, selected: e });
                    break;
                  case "invitationsMore":
                    i = (0, s.c)(
                      [
                        (0, s.b)(2, y.g),
                        (0, s.b)(2, vv, {
                          chat: l,
                          selected: e,
                          nActiveInvites: p,
                        }),
                      ],
                      4
                    );
                    break;
                  case "actionClear":
                    i = (0, s.c)(
                      [
                        (0, s.b)(2, y.g, { text: 166 }),
                        (0, s.b)(2, mv, { chat: l, selected: e }),
                      ],
                      4
                    );
                    break;
                  case "actionExit":
                    i = (0, s.b)(2, gv, { chat: l, selected: e, connected: u });
                    break;
                  case "actionDelete":
                    i = (0, s.c)(
                      [
                        (0, s.b)(2, y.g, { text: 166 }),
                        (0, s.b)(2, Sv, { chat: l, selected: e }),
                      ],
                      4
                    );
                    break;
                  case "actionSpam":
                    i = (0, s.b)(2, yv, { chat: l, connected: u, selected: e });
                    break;
                  case "wallpaper":
                    i = (0, s.b)(2, ee, { chat: l, selected: e });
                    break;
                  default:
                    i = (0, s.b)(2, _v, {
                      groupInfoProps: this.props,
                      participant: t,
                      selected: e,
                    });
                }
                if (!l.groupInfo.communityDeactivated && !n && t === a[0])
                  return (0, s.c)(
                    [
                      (0, s.b)(2, y.g, {
                        className: "WS",
                        text: l.groupInfo.support ? 478 : 402,
                      }),
                      i,
                    ],
                    0
                  );
                if (g === t) {
                  var N = n ? 1 : 0,
                    I = m.length + N;
                  return (0, s.c)([(0, s.b)(2, y.g, { text: [I, 122] }), i], 0);
                }
                return i;
              }),
              t
            );
          }
          componentDidMount() {
            this.WK = !0;
            var t = this.props,
              e = t.chat,
              i = t.backend;
            if (
              null != e.groupInfo.linkedParent &&
              null == this.state.communityInfo &&
              (0, qn.a)("parent_group_view_enabled")
            ) {
              var r = e.groupInfo.linkedParent,
                s = i.sendAndReceive("backend", "getCommunityInfo", { jid: r });
              this.setState({ communityInfo: s });
            }
            Gh(this.props.backend, e.groupInfo);
          }
          componentWillUnmount() {
            this.WK = !1;
          }
          WO() {
            var t, e, i;
            return (
              (0, ve.f)(this.props.descriptionJob)
                ? ((t =
                    null == (i = (0, ve.c)(this.props.descriptionJob))
                      ? void 0
                      : i.description),
                  (e = "pending"))
                : ((t = this.props.chat.groupInfo.description),
                  sv(this.props.descriptionJob) && (e = "error")),
              { description: t, status: e }
            );
          }
          WP() {
            var t, e, i;
            if ((0, ve.f)(this.props.subjectJob))
              return (
                (t =
                  null == (i = (0, ve.c)(this.props.subjectJob))
                    ? void 0
                    : i.subject) || (t = this.props.chat.groupInfo.title),
                { subject: t, status: (e = "pending") }
              );
            var r = (0, ve.d)(this.props.subjectJob);
            return (
              r && "success" !== r && (e = "error"),
              { subject: (t = this.props.chat.groupInfo.title), status: e }
            );
          }
          render() {
            var t = this.props,
              e = t.items,
              i = t.start;
            return (0, s.b)(2, S.a, {
              title: this.WQ(),
              children: (0, s.b)(2, g.c, {
                items: e,
                keyOf: Qd,
                estimatedItemHeight: 20,
                renderItem: this.WR,
                deps: [this.state.communityInfo],
                start: i && { item: i, scrollFromTop: "start" },
              }),
            });
          }
        };
      function qd(t) {
        return t.reduce((t, e) => ((t[String(e)] = !0), t), {});
      }
      var Xd = (0, l.f)(
        (0, d.e)(Yd),
        (t, e) => {
          var i,
            r = e.chat.jid,
            s = Oe.g.setGroupDescription({ groupJid: r }),
            n = (0, ve.h)(t, "setGroupDescription", s),
            a = Oe.g.setGroupSubject({ groupJid: r }),
            l = (0, ve.h)(t, "setGroupSubject", a),
            o = e.chat.groupInfo.isCAG;
          if (!o) {
            var u = Oe.g.setGroupPicture({ jid: r });
            i = (0, ve.h)(t, "setGroupPicture", u);
          }
          var h = Oe.g.setGroupEphemeralSetting({
              groupJid: r,
              expiration: e.chat.groupInfo.expiration,
            }),
            c = (0, ve.h)(t, "setGroupEphemeralSetting", h);
          return {
            contacts: t.contacts,
            user: t.user,
            chat: e.chat,
            hasGroupPicture: !o && (0, rt.i)(e.chat.jid, t.avatars),
            connected: t.connected,
            descriptionJob: n,
            subjectJob: l,
            setGroupPictureJob: i,
            setEphemeralJob: c,
            starredIndexMissing: !!t.starredIndexMissing,
            start: e.start,
            isVoipAvailable: t.isVoipAvailable,
          };
        },
        (t, e) => {
          var i = t.contacts,
            r = t.user,
            s = t.chat,
            n = t.hasGroupPicture,
            a = t.connected,
            l = t.descriptionJob,
            o = t.subjectJob,
            u = t.setGroupPictureJob,
            h = t.setEphemeralJob,
            d = t.start,
            v = t.isVoipAvailable,
            p = s.groupInfo,
            f = p.isInGroup,
            m = s.groupInfo.participants
              .map((t) => (0, c.c)(t, i))
              .sort((0, j.d)(p))
              .map((t) => t.jid),
            g = p.invitations.filter((t) => (0, Ie.o)(t.expiration)).length,
            S = (function (t, e, i, r) {
              var s,
                n = r.starredIndexMissing,
                a = r.contacts,
                l = r.user,
                o = t.groupInfo,
                u = o.isInGroup,
                h = [];
              h.push("photo"),
                h.push("subject"),
                (null != o.descriptionId || Rd(o)) && h.push("description"),
                null != o.linkedParent &&
                  (0, qn.a)("parent_group_view_enabled") &&
                  h.push("community"),
                h.push("media");
              var c = t.msgInfo.starredMsgCount;
              if (
                (c && c > 0 && !n && h.push("starredMessages"), (0, Je.h)())
              ) {
                var d = t.msgInfo.keptMsgCount;
                ((t.groupInfo.expiration || _e.k) > 0 ||
                  (null != d && d > 0)) &&
                  h.push("keptMessages");
              }
              if (
                (u
                  ? (h.push("muteNotify"),
                    h.push("wallpaper"),
                    h.push("encryption"),
                    (0, Ae.a)(t, a) && h.push("ephemeralMessages"),
                    o.suspended ||
                      (o.isAdmin
                        ? (h.push("groupSettings"),
                          i > 0 && h.push("invitationsMore"),
                          h.push("actionAdd"),
                          h.push("inviteLink"),
                          (s = "actionAdd"))
                        : (s = "you"),
                      h.push("you")))
                  : (h.push("wallpaper"), (s = e.length > 0 ? e[0] : null)),
                !o.suspended)
              ) {
                var v = u ? 1 : 0;
                e.length + v > _e.C
                  ? (h = h.concat(e.slice(0, _e.C - v))).push(
                      "participantsMore"
                    )
                  : ((h = h.concat(e)), Vd(o) && h.push("pastParticipants"));
              }
              return (
                u
                  ? (h.push("actionClear"), h.push("actionExit"))
                  : h.push("actionDelete"),
                o.creatorJid !== l.jid && h.push("actionSpam"),
                { items: h, participantsDivider: s }
              );
            })(s, m, g, t),
            y = S.items,
            _ = S.participantsDivider;
          return (
            g !== p.invitations.length &&
              (function (t, e) {
                t.fireAndForget("backend", "purgeExpiredInvitations", {
                  groupJid: e,
                });
              })(e, s.jid),
            {
              user: r,
              contacts: i,
              admins: qd(p.admins),
              superadmins: qd(p.superadmins),
              chat: s,
              items: y,
              participantsDivider: _,
              participants: m,
              invitations: p.invitations,
              isInGroup: f,
              hasGroupPicture: n,
              nActiveInvites: g,
              connected: a,
              descriptionJob: l,
              subjectJob: o,
              setGroupPictureJob: u,
              setEphemeralJob: h,
              start: d,
              isVoipAvailable: v,
              backend: e,
            }
          );
        }
      );
      function Qd(t) {
        return t;
      }
      var Zd = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.jid !== t.jid ||
                i.selected !== t.selected ||
                i.setGroupPictureJob !== t.setGroupPictureJob ||
                i.hasGroupPicture !== t.hasGroupPicture ||
                i.chat !== t.chat ||
                i.handlePhotoChange !== t.handlePhotoChange ||
                i.isCAG !== t.isCAG)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.chat,
              s = i.hasGroupPicture,
              n = i.setGroupPictureJob;
            if (!(0, ve.f)(n)) {
              var a = (0, ve.d)(n);
              null == a
                ? (Ad(r.groupInfo) &&
                    t.setRightOptions(() => {
                      this.openPhotoContext(e);
                    }),
                  s &&
                    r.groupInfo.isInGroup &&
                    t.setCenterLabel(945, () => {
                      e.openAvatarView(r.jid);
                    }))
                : t.setCenterLabel(885, () => {
                    this.showGroupPictureErrorDialog(a, e);
                  });
            }
          }
          renderListItem(t) {
            var e = this.props.selected;
            return (0, s.b)(2, y.k, {
              selected: e,
              className: (0, Mt.a)("Vy", !e && "WA"),
              children: t,
            });
          }
          render() {
            var t,
              e = this.props,
              i = e.jid,
              r = e.setGroupPictureJob,
              n = e.isCAG;
            if (n && (0, qn.a)("parent_group_view_enabled"))
              return this.renderListItem(
                (0, s.b)(2, vt.c, { jid: i, isCAG: n, className: Kd })
              );
            var a = (0, ve.f)(r),
              l = null != (0, ve.d)(r);
            return (
              (t =
                r && (a || l)
                  ? null == r.jobIn.picture
                    ? (0, s.b)(2, ev, {
                        isPending: a,
                        isError: l,
                        children: (0, s.b)(2, Td.a, {
                          className: (0, Mt.a)(Kd, "WC"),
                        }),
                      })
                    : (0, s.b)(2, ev, {
                        isPending: a,
                        isError: l,
                        children: (0, s.b)(2, it.b, {
                          blob: r.jobIn.picture,
                          className: Kd,
                        }),
                      })
                  : (0, s.b)(2, vt.c, { jid: i, type: "thumb" })),
              this.renderListItem(t)
            );
          }
          showGroupPictureErrorDialog(t, e) {
            var i,
              r = this.props.setGroupPictureJob,
              s = t.error.reason;
            switch (s) {
              case "bad-size-or-format":
                i = 445;
                break;
              case "disconnected":
                i = 446;
                break;
              case "bad-request":
              case "not-in-group":
              case "server-error":
              case "unknown":
                i = 447;
                break;
              default:
                return (0, m.a)(s);
            }
            (0, b.f)({
              text: i,
              confirm: 902,
              onConfirm: () => {
                (0, Md.b)(e, r);
              },
            });
          }
          openPhotoContext(t) {
            var e = new K.a(),
              i = this.props,
              r = i.chat,
              s = i.hasGroupPicture,
              n = i.handlePhotoChange;
            s && e.add(408, t.setGroupPicture, r.jid, null),
              e.add(393, () => n(t)),
              (0, b.j)(e);
          }
        },
        tv = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.changeSubject = (t) => {
                t.openScreen("GROUP_INFO_CHANGE_SUBJECT", {
                  chat: this.props.chat,
                });
              }),
              (this.showSubjectJobErrorInfo = (t, e) => {
                if (t.error) {
                  var i,
                    r = t.error.reason;
                  switch (r) {
                    case "not-authorized":
                      i = 456;
                      break;
                    case "not-in-group":
                      i = 457;
                      break;
                    case "no-such-group":
                      i = 455;
                      break;
                    case "not-acceptable":
                    case "unknown":
                      i = 454;
                      break;
                    default:
                      return (0, m.a)(r);
                  }
                  (0, b.e)({
                    title: 243,
                    text: i,
                    onClose: () => (0, Md.b)(e, this.props.subjectJob),
                  });
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.value !== t.value ||
                i.status !== t.status ||
                i.selected !== t.selected ||
                i.subjectJob !== t.subjectJob ||
                i.chat !== t.chat)
            );
          }
          addSoftKeys(t, e) {
            if (
              (0, ve.f)(this.props.subjectJob) ||
              !Ud(this.props.chat.groupInfo)
            ) {
              var i = (0, ve.d)(this.props.subjectJob);
              i &&
                "success" !== i &&
                t.setCenterLabel(243, () => {
                  this.showSubjectJobErrorInfo(i, e);
                });
            } else
              t.setCenterLabel(877, () => {
                this.changeSubject(e);
              });
          }
          render() {
            var t = this.props,
              e = t.status,
              i = t.selected,
              r = t.value,
              n = t.chat,
              a = (0, s.b)(2, av, { status: e, selected: i }),
              l = (0, ke.c)(
                { title: r, support: n.groupInfo.support },
                { noEllipsis: "no-ellipsis" }
              );
            return (0, s.b)(2, y.a, {
              rawTitle: l,
              selected: i,
              rightComponent: a,
            });
          }
        };
      function ev(t) {
        var e;
        return (
          t.isPending
            ? (e = (0, s.b)(2, Ss.a, {
                theme: "white",
                strokeWidth: 8,
                className: "WG WF",
              }))
            : t.isError &&
              (e = (0, s.f)(
                1,
                "div",
                "WH",
                (0, s.b)(2, vl.a, { className: "WI" }),
                2
              )),
          (0, s.f)(
            1,
            "div",
            "WD",
            [t.children, e && (0, s.f)(1, "div", "WE FZ", e, 0)],
            0
          )
        );
      }
      var iv = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return i !== t && (i.selected !== t.selected || i.info !== t.info);
        }
        addSoftKeys(t, e) {
          t.setCenterLabel(945, () => {
            e.openScreen("COMMUNITY_HOME", { info: this.props.info });
          });
        }
        render() {
          return (0, s.b)(2, y.a, {
            title: 151,
            rawSubtitle: this.props.info.title,
            selected: this.props.selected,
          });
        }
      };
      function rv(t, e) {
        var i = t.selected;
        return null != e && (0, s.b)(2, iv, { info: e, selected: i });
      }
      function sv(t) {
        var e = (0, ve.d)(t);
        return e && "success" !== e ? e : void 0;
      }
      var nv = class extends d.b {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.showDescriptionJobErrorInfo = (t, e) => {
              var i;
              switch (t) {
                case "conflict":
                  i = 373;
                  break;
                case "not-authorized":
                  i = 374;
                  break;
                case "not-acceptable":
                case "internal-server-error":
                case "unknown-error":
                  i = 242;
                  break;
                default:
                  return (0, m.a)(t);
              }
              (0, b.e)({
                title: 243,
                text: i,
                onClose: () => (0, Md.b)(e, this.props.descriptionJob),
              });
            }),
            t
          );
        }
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.value !== t.value ||
              i.status !== t.status ||
              i.selected !== t.selected ||
              i.user !== t.user ||
              i.contacts !== t.contacts ||
              i.chat !== t.chat ||
              i.viewDescription !== t.viewDescription ||
              i.descriptionJob !== t.descriptionJob ||
              i.changeDescription !== t.changeDescription)
          );
        }
        addSoftKeys(t, e) {
          null != this.props.chat.groupInfo.descriptionId &&
            t.setCenterLabel(945, () => {
              this.props.viewDescription(e);
            });
          var i = sv(this.props.descriptionJob);
          i
            ? t.setCenterLabel(243, () => {
                this.showDescriptionJobErrorInfo(i, e);
              })
            : !(0, ve.f)(this.props.descriptionJob) &&
              Rd(this.props.chat.groupInfo) &&
              (null != this.props.chat.groupInfo.descriptionId
                ? t.setRightLabel(877, () => {
                    this.props.changeDescription(e);
                  })
                : t.setCenterLabel(857, () => {
                    this.props.changeDescription(e);
                  }));
        }
        render() {
          var t = this.props.value,
            e = t
              ? (0, s.b)(2, ut.a, {
                  textClassName: (0, Mt.a)(this.props.selected && Bd, jd),
                  maxLineClassName: "WN",
                  truncated: !0,
                  children: (0, s.b)(2, Gd, { value: t }),
                })
              : (0, s.b)(2, o.b, {
                  l10n: "pending" === this.props.status ? 407 : 382,
                  className: (0, Mt.a)(jd, this.props.selected && Bd),
                }),
            i = (0, s.b)(2, av, {
              status: this.props.status,
              selected: this.props.selected,
            });
          return (0, s.b)(2, y.k, {
            selected: this.props.selected,
            className: (0, Mt.a)("WJ", "pending" === this.props.status && "WO"),
            children: [e, i],
          });
        }
      };
      function av(t) {
        var e = null;
        switch (t.status) {
          case "pending":
            e = (0, s.b)(2, ss.a, { className: "WP" });
            break;
          case "error":
            e = (0, s.b)(2, vl.a, {
              className: (0, Mt.a)(t.selected && Bd, "WQ"),
            });
        }
        return e;
      }
      function lv(t) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("WK", "pending" === t.status && "WO"),
          [
            (0, s.f)(
              1,
              "div",
              jd,
              t.description && (0, h.b)(t.description),
              0,
              { dir: "auto" }
            ),
            "pending" === t.status && (0, s.b)(2, ss.a, { className: "WP" }),
          ],
          0
        );
      }
      var ov = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openMediaDrawer(this.props.chat);
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 564,
              selected: this.props.selected,
            });
          }
        },
        uv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.selected !== t.selected || i.chat !== t.chat);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("GROUP_SETTINGS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              selected: this.props.selected,
              title: 415,
            });
          }
        },
        hv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(885, () => {
              (function (t) {
                (0, b.g)({
                  text: 575,
                  center: 902,
                  onSoftCenter: "CLOSE",
                  right: 891,
                  onSoftRight: () => (0, _.E)(t, _.x),
                });
              })(e);
            });
          }
          render() {
            var t = this.props.isVoipAvailable ? 398 : 399;
            return (0, s.b)(2, y.a, {
              title: 159,
              subtitle: t,
              selected: this.props.selected,
            });
          }
        },
        cv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.isVoipAvailable ? 480 : 481;
            t.setCenterLabel(885, () => {
              (0, b.g)({
                text: i,
                center: 902,
                onSoftCenter: "CLOSE",
                right: 891,
                onSoftRight: () => {
                  (0, _.E)(e, _.C);
                },
              });
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.isVoipAvailable;
            return (0, s.b)(2, y.a, {
              selected: e,
              title: 167,
              subtitle: i ? 482 : 483,
            });
          }
        },
        dv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.isInGroup !== t.isInGroup ||
                i.numParticipants !== t.numParticipants)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(946, () => {
              e.openScreen("GROUP_INFO_PARTICIPANTS", {
                chat: this.props.chat,
              });
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: [
                this.props.numParticipants -
                  _e.C +
                  (this.props.isInGroup ? 1 : 0),
                303,
              ],
              icon: (0, s.b)(2, w.a),
            });
          }
        },
        vv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.nActiveInvites !== t.nActiveInvites)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              e.openScreen("GROUP_INFO_INVITATIONS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: [this.props.nActiveInvites, 121],
              selected: this.props.selected,
              rightComponent: (0, s.b)(2, w.a, { className: "WR CC" }),
            });
          }
        },
        pv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(20, () => {
              e.openScreen("ADD_GROUP_PARTICIPANTS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: 20,
              icon: (0, s.b)(2, Ln.a),
            });
          }
        },
        fv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              var t = this.props.chat;
              (0, io.c)(e, t);
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: 427,
              icon: (0, s.b)(2, $d),
            });
          }
        },
        mv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(866, () => {
              (0, ro.a)(this.props.chat, e);
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              danger: "red",
              selected: this.props.selected,
              title: 138,
              icon: (0, s.b)(2, Jd),
            });
          }
        },
        gv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.connected !== t.connected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(484, () => {
              (0, ro.c)(this.props.chat, this.props.connected, e);
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              danger: "red",
              selected: this.props.selected,
              title: 312,
              icon: (0, s.b)(2, Wd),
            });
          }
        },
        Sv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.selected !== t.selected);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              (0, ro.b)(this.props.chat, e);
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              danger: "red",
              selected: this.props.selected,
              title: 234,
              icon: (0, s.b)(2, Hd.a),
            });
          }
        },
        yv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.connected !== t.connected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(733, () => {
              this.confirmSpam(e);
            });
          }
          confirmSpam(t) {
            var e = this.props,
              i = e.chat,
              r = e.connected,
              s = new K.a(732);
            s.add(740, () => {
              r
                ? t.reportGroupSpam({
                    reportType: "chat",
                    groupChat: i,
                    spamFlow: "group_info",
                    deleteGroup: !0,
                    exitGroup: !0,
                  })
                : (0, b.e)({ title: 243, text: 729 });
            }),
              s.add(634, () => {
                r
                  ? t.reportGroupSpam({
                      reportType: "chat",
                      groupChat: i,
                      spamFlow: "group_info",
                      deleteGroup: !1,
                      exitGroup: !1,
                    })
                  : (0, b.e)({ title: 243, text: 729 });
              }),
              (0, b.j)(s);
          }
          render() {
            return (0, s.b)(2, y.j, {
              danger: "red",
              selected: this.props.selected,
              title: 733,
              icon: (0, s.b)(2, Ke),
            });
          }
        },
        _v = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.groupInfoProps !== t.groupInfoProps ||
                i.participant !== t.participant ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            Id(e, this.props.groupInfoProps, this.props.participant, t);
          }
          render() {
            var t = this.props,
              e = t.groupInfoProps,
              i = t.participant,
              r = t.selected;
            return (0, s.b)(2, Ed, {
              contacts: e.contacts,
              userJid: i,
              selected: r,
              admin: e.admins[i] || e.superadmins[i],
            });
          }
        };
      function bv(t) {
        var e = t.label,
          i = t.value,
          r = t.maxLength,
          n = t.showCounterThreshold,
          a = t.selected,
          l = t.children,
          u = t.className,
          h = t.fieldClassName,
          c = r - (0, Qh.a)(i),
          d = null == n || c <= n,
          v = c < 0;
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("TZ", a && "Tg", u),
          [
            (0, s.f)(
              1,
              "div",
              "Tb Ta",
              [
                (0, s.b)(2, o.b, { className: "Tc FY FU", l10n: e }),
                d
                  ? (0, s.f)(
                      1,
                      "span",
                      (0, Mt.a)("Td FW FS", c <= 0 && "Te"),
                      (0, le.i)(c),
                      0
                    )
                  : null,
              ],
              0
            ),
            (0, s.f)(1, "div", (0, Mt.a)("Tf Ta", h), l(v), 0),
          ],
          4
        );
      }
      var xv = i(532),
        wv = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.WH = n.e()),
              (this.WJ = (t) => {
                this.setState({ description: t });
              }),
              (this.state = {
                description: t.chat.groupInfo.description || "",
              });
          }
          WI() {
            var t = this.props.chat,
              e = this.state.description.trim();
            if ((0, Qh.a)(e) > 512) (0, b.e)({ title: 243, text: 375 });
            else {
              var i = this.props.chat.groupInfo.description,
                r = e.length > 0 ? e : null;
              i !== r
                ? this.props.backend.setGroupDescription(t.jid, r)
                : this.props.backend.goBack();
            }
          }
          addSoftKeys(t, e) {
            t.addCancel(),
              D.f ||
                t.setRightIcon(gu, () => {
                  mu(e, (t) => {
                    var e = this.WH.current;
                    e && e.pasteText(t);
                  });
                }),
              t.setCenterLabel(928, () => this.WI());
          }
          render() {
            var t = this.state.description;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 389 }),
              children: (0, s.b)(2, bv, {
                className: "Vv",
                label: 388,
                value: t,
                maxLength: 512,
                showCounterThreshold: 50,
                fieldClassName: (0, Mt.a)("Vw", "Vx"),
                children: (t) =>
                  (0, s.b)(
                    2,
                    xv.a,
                    {
                      className: "Vv",
                      hasFocusPriority: !0,
                      placeholder: 387,
                      defaultValue: this.props.chat.groupInfo.description || "",
                      onChange: this.WJ,
                      invalid: t,
                    },
                    null,
                    this.WH
                  ),
              }),
            });
          }
        },
        Ov = (0, l.j)((0, d.e)(wv)),
        kv = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.WC = n.e()),
              (this.WF = (t) => {
                this.setState({ subject: t });
              }),
              (this.state = { subject: t.chat.groupInfo.title });
          }
          WD() {
            return this.state.subject.trim();
          }
          WE(t) {
            var e = this.props.chat,
              i = this.WD();
            (0, Qh.a)(i) > this.props.maxSubject
              ? (0, b.e)({ title: 243, text: 458 })
              : (this.props.chat.groupInfo.title !== i &&
                  t.setGroupSubject(e.jid, i),
                t.goBack());
          }
          WG() {
            return (0, s.b)(2, o.b, { l10n: 392 });
          }
          addSoftKeys(t, e) {
            t.addCancel(),
              t.setRightIcon(gu, () => {
                mu(e, (t) => {
                  var e = this.WC.current;
                  e && e.pasteText(t);
                });
              }),
              "" !== this.WD() &&
                t.setCenterLabel(928, () => {
                  this.WE(e);
                });
          }
          render() {
            var t = this.state.subject;
            return (0, s.b)(2, S.a, {
              title: this.WG(),
              children: (0, s.b)(2, bv, {
                label: 391,
                value: t,
                maxLength: this.props.maxSubject,
                fieldClassName: (0, Mt.a)("Vt", "Vu"),
                children: (t) =>
                  (0, s.b)(
                    2,
                    Su.a,
                    {
                      hasFocusPriority: !0,
                      placeholder: 390,
                      defaultValue: this.props.chat.groupInfo.title,
                      onChange: this.WF,
                      invalid: t,
                    },
                    null,
                    this.WC
                  ),
              }),
            });
          }
        },
        Cv = (0, l.c)((0, d.e)(kv), (t, e, i) => ({
          chat: i.chat,
          maxSubject: t.serverProps.maxSubject,
        })),
        Nv = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.WA = (t, e) => {
                var i = (0, B.g)(t);
                return e.filter((t) =>
                  (0, B.a)((0, c.c)(t, this.props.contacts), i)
                );
              }),
              (this.WB = (t, e) => {
                var i = this.props.invitations[t];
                return (0, s.b)(2, Tv, {
                  selected: e,
                  invitation: i,
                  contacts: this.props.contacts,
                  userJid: t,
                  groupJid: this.props.groupJid,
                });
              }),
              t
            );
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = { filter: this.WA, emptyLabel: 258 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: [this.props.items.length, 121] }),
              children: (0, s.b)(2, g.c, {
                items: this.props.items,
                keyOf: Ev,
                search: t,
                estimatedItemHeight: D.c,
                emptyLabel: 495,
                renderItem: this.WB,
              }),
            });
          }
        },
        Iv = (0, l.f)(
          (0, d.e)(Nv),
          (t, e) => ({ chat: e.chat, contacts: t.contacts }),
          (t, e) => {
            var i = t.chat.jid,
              r = [],
              s = {};
            return (
              t.chat.groupInfo.invitations.forEach((t) => {
                (0, Ie.o)(t.expiration) && (r.push(t.jid), (s[t.jid] = t));
              }),
              {
                groupJid: i,
                items: r,
                invitations: s,
                contacts: t.contacts,
                backend: e,
              }
            );
          }
        );
      function Ev(t) {
        return t;
      }
      var Tv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.userJid !== t.userJid ||
                i.invitation !== t.invitation ||
                i.contacts !== t.contacts ||
                i.groupJid !== t.groupJid)
            );
          }
          openInvitationOptions(t) {
            var e = this.props,
              i = e.invitation,
              r = e.groupJid,
              s = new K.a(643);
            s.add(130, () => {
              (0, Mn.a)(t, i.jid);
            }),
              s.add(491, t.revokeGroupInvitation, r, i),
              (0, b.j)(s);
          }
          addSoftKeys(t, e) {
            t.setRightOptions(() => {
              this.openInvitationOptions(e);
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.contacts,
              r = t.invitation,
              n = t.userJid;
            return (0, s.b)(2, y.f, {
              contact: (0, c.c)(n, i),
              selected: e,
              subtitle: Ra(r.expiration),
            });
          }
        },
        Mv = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Vy = (t, e) => {
                var i = (0, B.g)(t),
                  r = e.filter((t) => {
                    switch (t) {
                      case "pastParticipantsItem":
                        return !0;
                      case "emptySearchWithPastParticipantsItem":
                        return !1;
                      default:
                        return (0, B.a)((0, c.c)(t, this.props.contacts), i);
                    }
                  });
                return Vd(this.props.chat.groupInfo) && r.length <= 1
                  ? ["emptySearchWithPastParticipantsItem"]
                  : r;
              }),
              (this.Vz = (t, e) => {
                switch (t) {
                  case "pastParticipantsItem":
                    return (0, s.b)(2, Dd, {
                      chat: this.props.chat,
                      selected: e,
                    });
                  case "emptySearchWithPastParticipantsItem":
                    return (0, s.b)(2, Pv, {
                      chat: this.props.chat,
                      selected: e,
                    });
                  default:
                    return (0, s.b)(2, Rv, {
                      groupInfoParticipantProps: this.props,
                      selected: e,
                      participant: t,
                    });
                }
              }),
              t
            );
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = this.props,
              e = t.items,
              i = t.participantsCount,
              r = { filter: this.Vy, emptyLabel: 258 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: [i, 122] }),
              children: (0, s.b)(2, g.c, {
                items: e,
                keyOf: Uv,
                search: r,
                estimatedItemHeight: D.c,
                renderItem: this.Vz,
              }),
            });
          }
        };
      function Lv(t) {
        return t.reduce((t, e) => ((t[String(e)] = !0), t), {});
      }
      var Av = (0, l.f)(
        (0, d.e)(Mv),
        (t, e) => ({
          chat: e.chat,
          currentUser: t.user.jid,
          contacts: t.contacts,
          connected: t.connected,
        }),
        (t, e) => {
          var i = t.chat.groupInfo,
            r = i.isInGroup
              ? [t.currentUser, ...i.participants]
              : [...i.participants],
            s = r.length;
          Vd(t.chat.groupInfo) && r.push("pastParticipantsItem");
          var n = Lv(i.admins),
            a = Lv(i.admins);
          return {
            chat: t.chat,
            items: r,
            participantsCount: s,
            admins: n,
            superadmins: a,
            currentUser: t.currentUser,
            contacts: t.contacts,
            backend: e,
            connected: t.connected,
          };
        }
      );
      function Uv(t) {
        return t;
      }
      var Rv = class extends d.b {
        addSoftKeys(t, e) {
          Id(
            e,
            this.props.groupInfoParticipantProps,
            this.props.participant,
            t
          );
        }
        render() {
          var t = this.props,
            e = t.groupInfoParticipantProps,
            i = t.selected,
            r = t.participant,
            n =
              e.currentUser === r
                ? e.chat.groupInfo.isAdmin
                : e.admins[r] || e.superadmins[r];
          return (0, s.b)(2, Ed, {
            contacts: e.contacts,
            userJid: r,
            selected: i,
            admin: n,
          });
        }
      };
      function Pv(t) {
        return (0, s.c)(
          [
            (0, s.f)(1, "div", "Vp Fy", (0, s.b)(2, o.b, { l10n: 258 }), 2),
            (0, s.i)((0, s.b)(2, Dd, Object.assign({}, t))),
          ],
          4
        );
      }
      var Gv = ["editGroupInfo", "sendMessages"],
        Fv = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Vw = (t) => {
                if (t.error && null == this.props.overlayId) {
                  var e;
                  switch (t.error.reason) {
                    case "not-authorized":
                      e = 453;
                      break;
                    case "not-in-group":
                      e = 452;
                      break;
                    case "no-such-group":
                      e = 451;
                      break;
                    default:
                      e = 242;
                  }
                  var i = this.props,
                    r = i.backend,
                    s = i.lockedJob;
                  (0, b.e)({
                    title: 243,
                    text: e,
                    onClose: () => {
                      (0, Md.b)(r, s);
                    },
                  });
                }
              }),
              (this.Vx = (t, e) => {
                var i = this.props.chat;
                switch (t) {
                  case "editGroupInfo":
                    var r;
                    if ((0, ve.f)(this.props.lockedJob)) r = "pending";
                    else {
                      var n = (0, ve.d)(this.props.lockedJob);
                      n && "success" !== n && ((r = "error"), this.Vw(n));
                    }
                    return (0, s.b)(2, Dv, { chat: i, selected: e, status: r });
                  case "sendMessages":
                    return (0, s.b)(2, zv, { chat: i, selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 415 }),
              children: (0, s.b)(2, g.a, {
                items: Gv,
                keyOf: Kv,
                renderItem: this.Vx,
              }),
            });
          }
        },
        Dv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.status !== t.status)
            );
          }
          addSoftKeys(t, e) {
            null == this.props.status &&
              t.setCenterLabel(877, () => {
                e.openScreen("GROUP_SETTINGS_EDIT_INFO", {
                  chat: this.props.chat,
                });
              });
          }
          render() {
            var t = this.props,
              e = t.status,
              i = t.selected,
              r = (0, s.b)(2, jv, { status: e, selected: i });
            return (0, s.b)(2, y.a, {
              selected: this.props.selected,
              title: 395,
              subtitle: this.props.chat.groupInfo.locked ? 404 : 384,
              rightComponent: r,
            });
          }
        },
        zv = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.openSendMessagesContext = (t) => {
                var e = new K.a(414);
                this.addSendMessagesOptions(e, t), (0, b.j)(e);
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.selected !== t.selected || i.chat !== t.chat);
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(877, () => {
              this.openSendMessagesContext(e);
            });
          }
          addSendMessagesOptions(t, e) {
            t.add(384, () => {
              this.props.chat.groupInfo.announcement &&
                e.setGroupAnnouncement(this.props.chat.jid, !1);
            }),
              t.add(404, () => {
                this.props.chat.groupInfo.announcement ||
                  e.setGroupAnnouncement(this.props.chat.jid, !0);
              });
          }
          render() {
            return (0, s.b)(2, y.a, {
              selected: this.props.selected,
              title: 414,
              subtitle: this.props.chat.groupInfo.announcement ? 404 : 384,
              rightComponent: (0, s.b)(2, w.a, { className: "Vq CC" }),
            });
          }
        },
        Vv = (0, l.c)((0, d.e)(Fv), (t, e, i) => {
          var r = i.chat,
            s = r.jid,
            n = r.groupInfo.locked,
            a = Oe.g.setGroupParticipants({ groupJid: s, adminOnly: n });
          return {
            backend: e,
            chat: r,
            lockedJob: (0, ve.h)(t, "setGroupParticipants", a),
            overlayId: t.overlayId,
          };
        });
      function Kv(t) {
        return String(t);
      }
      function jv(t) {
        var e = null;
        switch (t.status) {
          case "pending":
            e = (0, s.b)(2, ss.a, { className: "Vr" });
            break;
          case "error":
            e = (0, s.b)(2, vl.a, { className: "Vs" });
        }
        return e;
      }
      var Bv = i(327),
        Wv = ["info", "allParticipants", "onlyAdmins"],
        Hv = class extends n.a {
          constructor(t, e) {
            super(t, e),
              (this.Vs = n.e()),
              (this.setLocked = (t, e) => {
                var i;
                if (e && null != (null == (i = this.Vs) ? void 0 : i.current)) {
                  var r = this.Vs.current;
                  t ? r.goToNext() : r.goToPrevious();
                }
                this.setState({ locked: t });
              }),
              (this.saveChanges = () => {
                var t = this.props,
                  e = t.chat,
                  i = t.backend,
                  r = this.state.locked;
                e.groupInfo.locked !== r && i.setGroupParticipants(e.jid, r),
                  i.goBack();
              }),
              (this.Vt = () => {
                this.Vs && this.Vs.current && this.Vs.current.goToNext();
              }),
              (this.Vu = (t, e) => {
                switch (t) {
                  case "allParticipants":
                  case "onlyAdmins":
                    return (0, s.b)(2, Jv, {
                      jid: this.props.chat.jid,
                      value: t,
                      locked: this.state.locked,
                      setLocked: this.setLocked,
                      saveChanges: this.saveChanges,
                      selected: e,
                    });
                  default:
                    return (0, s.b)(2, $v, {
                      selected: e,
                      goNext: this.Vt,
                      saveChanges: this.saveChanges,
                    });
                }
              }),
              (this.state = { locked: t.chat.groupInfo.locked });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 395 }),
              children: (0, s.b)(
                2,
                g.a,
                {
                  items: Wv,
                  keyOf: qv,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Vu,
                },
                null,
                this.Vs
              ),
            });
          }
        },
        Jv = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.jid !== t.jid ||
                i.locked !== t.locked ||
                i.selected !== t.selected ||
                i.setLocked !== t.setLocked ||
                i.saveChanges !== t.saveChanges ||
                i.value !== t.value)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.locked,
              s = i.saveChanges;
            t.setCenterLabel(930, () => {
              this.props.setLocked(!r, this.Vv());
            }),
              t.setRightLabel(928, s);
          }
          Vv() {
            var t = this.props,
              e = t.locked;
            return "allParticipants" === t.value ? !e : e;
          }
          render() {
            var t,
              e = this.props,
              i = e.selected;
            t =
              "allParticipants" === e.value
                ? (0, s.b)(2, o.b, { l10n: 384 })
                : (0, s.b)(2, o.b, { l10n: 404 });
            var r = this.Vv();
            return (0, s.b)(2, y.k, {
              className: "Vo",
              selected: i,
              children: [
                (0, s.f)(1, "div", null, t, 0),
                (0, s.b)(2, Bv.a, { selected: i, checked: r, disabled: !1 }),
              ],
            });
          }
        },
        $v = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.goNext !== t.goNext ||
                i.saveChanges !== t.saveChanges)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.goNext,
              s = i.saveChanges;
            t.setCenterLabel(877, r), t.setRightLabel(928, s);
          }
          render() {
            var t = (0, Mt.a)("Vm FW FS", this.props.selected && "Vn");
            return (0, Je.h)()
              ? (0, s.b)(2, o.b, { l10n: 397, className: t })
              : (0, s.b)(2, o.b, { l10n: 396, className: t });
          }
        },
        Yv = (0, l.c)((0, d.e)(Hv), (t, e, i) => ({
          backend: e,
          chat: i.chat,
        }));
      function qv(t) {
        return String(t);
      }
      var Xv = ["faq", "contactUs", "terms", "licenses"],
        Qv = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              WAM.log("regular", 474, void 0, [1, 0, 10]), (0, _.E)(e, _.q);
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 464,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        Zv = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("HELP_CONTACT_US");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 463,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        tp = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              (0, _.E)(e, _.z);
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 467,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        ep = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("HELP_LICENSES");
            });
          }
          render() {
            return (0, s.c)(
              [
                (0, s.b)(2, y.a, {
                  title: 465,
                  selected: this.props.selected,
                  borderBottom: !0,
                }),
                (0, s.f)(
                  1,
                  "div",
                  "Wm FW FS",
                  [
                    (0, s.b)(2, o.b, { l10n: ["2.2245.7.1", 164] }),
                    (0, s.f)(1, "span", null, "© 2010-2022 WhatsApp Inc.", 0, {
                      dir: "ltr",
                    }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        ip = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.renderItem = (t, e) => {
                switch (t) {
                  case "faq":
                    return (0, s.b)(2, Qv, { selected: e });
                  case "contactUs":
                    return (0, s.b)(2, Zv, { selected: e });
                  case "terms":
                    return (0, s.b)(2, tp, { selected: e });
                  case "licenses":
                    return (0, s.b)(2, ep, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            return !1;
          }
          addSoftKeys(t, e) {
            t.setLeftAsBack(), t.setBack(ot.a);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 468 }),
              children: (0, s.b)(2, g.a, {
                items: Xv,
                keyOf: sp,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        rp = (0, d.e)(ip);
      function sp(t) {
        return t;
      }
      var np = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M20 40c.135 0 .27-.002.403-.004a2.222 2.222 0 10-.088-4.444c-.104.002-.21.003-.315.003V40zm0-35.556c.105 0 .21.001.315.004a2.222 2.222 0 00.088-4.444A20.347 20.347 0 0020 0v4.444zm9.652-1.964a2.222 2.222 0 00-2.147 3.89c.183.102.363.206.542.314a2.222 2.222 0 002.303-3.801c-.23-.139-.462-.273-.698-.403zm7.465 7.17a2.222 2.222 0 10-3.801 2.303c.108.179.212.36.313.542a2.222 2.222 0 003.891-2.147c-.13-.236-.264-.468-.403-.698zm2.879 9.946a2.222 2.222 0 10-4.444.089 15.736 15.736 0 010 .63 2.222 2.222 0 004.444.088 20.04 20.04 0 000-.806zM37.52 29.652a2.222 2.222 0 00-3.89-2.148 15.57 15.57 0 01-.314.543 2.222 2.222 0 003.8 2.302c.14-.23.274-.462.404-.697zm-7.17 7.465a2.222 2.222 0 10-2.303-3.802 17.3 17.3 0 01-.542.314 2.222 2.222 0 102.147 3.891c.236-.13.468-.264.698-.403z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M20 0C8.954 0 0 8.954 0 20c0 11.045 8.954 20 20 20v-4.445c-8.591 0-15.556-6.964-15.556-15.555S11.41 4.444 20 4.444V0z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M27.889 11.127a1.281 1.281 0 011.793 1.793l-6.761 9.016a2.891 2.891 0 11-4.047-4.047l9.014-6.762z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 40 40" }
          );
        },
        ap = "Uy",
        lp = "VB FW FS",
        op = "VC",
        up = "VD",
        hp = class t extends n.a {
          static Vn(t, e, i) {
            var r = ["info", ...(0, Ae.d)(i)];
            return (
              "GROUP" === t.type &&
                r.push(
                  t.groupInfo.locked ? "adminCanChange" : "anyoneCanChange"
                ),
              e && r.push("settings-link"),
              r
            );
          }
          constructor(e, i) {
            super(e, i),
              (this.Vl = n.e()),
              (this.Vo = (t) => {
                var e = this.props.chat;
                "ONE_TO_ONE" === e.type
                  ? (this.props.isBlocked &&
                      (0, b.e)({ title: 243, text: t > _e.k ? 293 : 292 }),
                    this.setState({ expiration: t }))
                  : (e.type, this.setState({ expiration: t }));
              }),
              (this.Vp = () => {
                var t = this.props.expiration || _e.k,
                  e = this.state.expiration;
                if (t !== e) {
                  var i = this.props,
                    r = i.backend,
                    s = i.chat;
                  if ("ONE_TO_ONE" === s.type) {
                    var n,
                      a = this.props.contacts[s.jid];
                    r.setOneToOneEphemeralSetting(
                      s.jid,
                      e,
                      null == a || null == (n = a.ephemeral) ? void 0 : n.ts
                    );
                  } else {
                    s.type;
                    var l = e > _e.k ? e : null;
                    r.setGroupEphemeralSetting(s.jid, l);
                  }
                  WAM.log("regular", 2370, void 0, [1, 0, e]), r.goBack();
                } else this.props.backend.goBack();
              }),
              (this.Vq = () => {
                var t, e;
                null == (t = this.Vl) ||
                  null == (e = t.current) ||
                  e.goToNext();
              }),
              (this.Vr = (t, e) => {
                switch (t) {
                  case "info":
                    return (0, qn.a)("disappearing_mode")
                      ? (0, s.b)(2, vp, { goNext: this.Vq, selected: e })
                      : (0, s.b)(2, dp, { goNext: this.Vq, selected: e });
                  case "adminCanChange":
                  case "anyoneCanChange":
                    return (0, s.b)(2, pp, { textType: t, selected: e });
                  case "settings-link":
                    return (0, s.b)(2, fp, {
                      selected: e,
                      chatType: this.props.chat.type,
                    });
                  default:
                    return (0, s.b)(2, cp, {
                      expiration: this.state.expiration,
                      value: t,
                      selected: e,
                      onChange: this.Vo,
                      onSave: this.Vp,
                    });
                }
              }),
              (this.state = { expiration: e.expiration || _e.k }),
              (this.Vm = (0, Uh.c)((e, i, r) => t.Vn(e, i, r)));
          }
          render() {
            var t = this.props,
              e = t.chat,
              i = t.allowedExpirations,
              r = this.Vm(e, (0, qn.a)("disappearing_mode"), i);
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 294 }),
              children: (0, s.b)(
                2,
                g.a,
                {
                  items: r,
                  keyOf: gp,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Vr,
                },
                null,
                this.Vl
              ),
            });
          }
        },
        cp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.expiration !== t.expiration ||
                i.selected !== t.selected ||
                i.value !== t.value ||
                i.onChange !== t.onChange ||
                i.onSave !== t.onSave)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.expiration,
              s = i.selected,
              n = i.value,
              a = i.onSave;
            s &&
              r !== n &&
              t.setCenterLabel(930, () => {
                this.props.onChange(n);
              }),
              t.setRightLabel(928, a);
          }
          render() {
            var t = this.props,
              e = t.expiration,
              i = t.selected,
              r = t.value;
            return (0, We.f)(r, e, i);
          }
        },
        dp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.goNext !== t.goNext)
            );
          }
          addSoftKeys(t) {
            t.setRightLabel(891, Sp), t.setCenterLabel(877, this.props.goNext);
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)(lp, this.props.selected && op),
              [
                (0, s.f)(
                  1,
                  "div",
                  ap,
                  (0, s.b)(2, zl.a, { className: "Uz" }),
                  2
                ),
                (0, s.f)(1, "div", up, (0, s.b)(2, o.b, { l10n: 289 }), 2),
              ],
              4
            );
          }
        },
        vp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.goNext !== t.goNext)
            );
          }
          addSoftKeys(t) {
            t.setRightLabel(891, Sp), t.setCenterLabel(877, this.props.goNext);
          }
          render() {
            var t = (0, Je.l)()
              ? (0, s.b)(2, o.b, { l10n: 246 })
              : (0, s.b)(2, o.b, { l10n: 248 });
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)(lp, this.props.selected && op),
              [
                (0, s.f)(1, "div", ap, (0, s.b)(2, np, { className: "VA" }), 2),
                (0, s.f)(
                  1,
                  "div",
                  up,
                  [(0, s.b)(2, o.b, { className: "VE", l10n: 247 }), t],
                  0
                ),
              ],
              4
            );
          }
        },
        pp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.textType !== t.textType || i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            t.setRightLabel(891, Sp);
          }
          render() {
            var t = this.props.textType,
              e = (0, Mt.a)(lp, this.props.selected && op);
            return "adminCanChange" === t
              ? (0, s.b)(2, o.b, { l10n: 287, className: e })
              : (0, s.b)(2, o.b, { l10n: 288, className: e });
          }
        },
        fp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected || i.chatType !== t.chatType)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, (t) =>
              (function (t, e) {
                t.openScreen("DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS", {
                  offline: !1,
                  entryPoint:
                    "ONE_TO_ONE" === e
                      ? "individual-chat-info"
                      : "group-chat-info",
                });
              })(t, this.props.chatType)
            );
          }
          render() {
            var t = (0, Mt.a)(lp, this.props.selected && op);
            return (0, s.b)(2, o.b, { l10n: 254, className: t });
          }
        },
        mp = (0, l.c)((0, d.e)(hp), (t, e, i) => {
          var r,
            s,
            n,
            a = t.contacts,
            l = t.blocked,
            o = t.serverProps,
            u = i.chat,
            h = !1;
          return (
            "ONE_TO_ONE" === u.type
              ? ((r =
                  null == (s = a[u.jid]) || null == (n = s.ephemeral)
                    ? void 0
                    : n.expiration),
                (h = !!l[u.jid]))
              : (u.type, (r = u.groupInfo.expiration)),
            {
              backend: e,
              expiration: r || _e.k,
              chat: u,
              contacts: a,
              isBlocked: h,
              allowedExpirations: o.ephemeralMessagesAllowedValues,
            }
          );
        });
      function gp(t) {
        return String(t);
      }
      function Sp(t) {
        (0, _.E)(t, _.f);
      }
      var yp = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M152.34 62c.695 0 .867.4.386.914l-4.95 5.193v10.376c0 1.4-1.133 2.516-2.52 2.516h-21.738c-1.4 0-2.52-1.132-2.52-2.523V64.523A2.52 2.52 0 01123.53 62h28.8zm-15.78 9.746h-10.02c-.63 0-1.16.524-1.16 1.17s.52 1.17 1.16 1.17h10.02c.63 0 1.16-.524 1.16-1.17l-.007-.128a1.16 1.16 0 00-1.154-1.041zm4.365-5.068h-14.37a1.17 1.17 0 00-.128 2.333l.128.007h14.37a1.17 1.17 0 001.169-1.042l.007-.127-.007-.128a1.17 1.17 0 00-1.169-1.041zM20.556 30c.463 0 .588.274.275.617l-3.258 3.562v7.14c0 .928-.755 1.68-1.685 1.68H1.685A1.682 1.682 0 010 41.327v-9.654C0 30.75.762 30 1.68 30h18.878zm-10.388 6.67H3.68a.8.8 0 100 1.6h6.488a.8.8 0 00.806-.8l-.006-.1a.81.81 0 00-.8-.7zm2.874-3.468H3.68a.806.806 0 00-.807.8.8.8 0 00.706.794l.1.006h9.36a.81.81 0 00.801-.7l.006-.1-.006-.1a.81.81 0 00-.8-.7zM42.46 60c.577 0 .722.337.32.76l-4.188 4.384v8.764A2.1 2.1 0 0136.488 76H18.106A2.101 2.101 0 0116 73.908V62.1a2.1 2.1 0 012.102-2.1h24.36zm-13.33 8.207h-8.454a.99.99 0 00-.98.985.98.98 0 00.98.985h8.455a.99.99 0 00.98-.985l-.007-.116a.98.98 0 00-.973-.869zm3.683-4.268H20.688a.984.984 0 00-.116 1.963l.116.007h12.125c.515 0 .93-.38.986-.87l.007-.115-.007-.116a.988.988 0 00-.985-.87zM157.53 26c.47 0 .588.277.273.6l-3.063 3.246v6.456A1.69 1.69 0 01153.059 38h-13.374a1.68 1.68 0 01-1.681-1.681v-8.64a1.68 1.68 0 011.684-1.68h17.842zm-9.814 6.156h-6.235a.74.74 0 00-.74.739.74.74 0 00.74.74h6.235a.74.74 0 00.74-.739l-.007-.1a.74.74 0 00-.733-.638zm2.742-3.2h-8.982a.74.74 0 00-.1 1.472l.1.007h8.982c.376 0 .68-.278.728-.638l.007-.1-.007-.1a.736.736 0 00-.728-.638zM63.662 10c.353 0 .44.2.197.44l-2.47 2.454v4.842A1.26 1.26 0 0160.13 19H49.26c-.696 0-1.26-.563-1.26-1.25v-6.5A1.25 1.25 0 0149.252 10h14.4zm-7.848 4.617h-5.076a.554.554 0 000 1.108h5.076a.554.554 0 00.548-.554l-.007-.088a.555.555 0 00-.54-.466zm2.2-2.4H50.74a.55.55 0 00-.549.554.56.56 0 00.46.547l.1.007h7.264c.277 0 .5-.2.542-.464l.007-.1-.007-.088a.558.558 0 00-.54-.466zM94.723 0c.287 0 .364.17.17.38l-2.016 2.192v4.382C92.877 7.53 92.41 8 91.834 8h-8.79A1.05 1.05 0 0182 6.954V1.046A1.05 1.05 0 0183.05 0h11.673zm-6.43 4.104h-4.016a.49.49 0 00-.499.492.5.5 0 00.499.492h4.016a.49.49 0 00.499-.492l-.008-.086a.502.502 0 00-.49-.406zm1.8-2.134h-5.816c-.263 0-.49.22-.49.492a.5.5 0 00.401.484l.088.008h5.816a.495.495 0 00.48-.404l.008-.09-.008-.086a.493.493 0 00-.48-.406z",
            }),
            2,
            { viewBox: "0 0 160 83" }
          );
        },
        _p = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M6.874 19.334a7.41 7.41 0 01-2.557-.428 6.085 6.085 0 01-2.042-1.215 5.514 5.514 0 01-1.351-1.905C.6 15.04.437 14.213.437 13.306V5.18a.97.97 0 01.302-.71.97.97 0 01.71-.302c.272 0 .508.1.71.302.2.2.3.437.3.71v4.044c0 .104.04.194.117.272a.373.373 0 00.545 0 .373.373 0 00.116-.272V2.845c0-.272.101-.509.302-.71.2-.2.437-.3.71-.3.272 0 .508.1.71.3.2.201.3.438.3.71v6.378c0 .104.04.194.117.272a.373.373 0 00.545 0 .373.373 0 00.116-.272V1.679a.97.97 0 01.302-.71.97.97 0 01.71-.302c.272 0 .508.1.71.302.2.2.3.437.3.71v7.544c0 .104.04.194.117.272a.373.373 0 00.545 0 .373.373 0 00.117-.272V3.234a.99.99 0 01.291-.71.94.94 0 01.7-.301c.272 0 .509.1.71.301.2.201.301.438.301.71v8.206c-.972.181-1.76.57-2.362 1.166-.603.597-.963 1.342-1.08 2.236a.353.353 0 00.088.282.351.351 0 00.282.127.357.357 0 00.263-.107.553.553 0 00.145-.263c.104-.752.415-1.374.934-1.866.518-.493 1.173-.791 1.964-.895a.684.684 0 00.379-.214.576.576 0 00.165-.408V8.231c0-.272.094-.502.282-.69a.939.939 0 01.69-.282c.273 0 .503.094.69.282a.939.939 0 01.283.69v5.075c0 .908-.179 1.734-.535 2.48a5.771 5.771 0 01-1.449 1.905c-.61.525-1.319.93-2.129 1.215a7.702 7.702 0 01-2.576.428z",
            }),
            2,
            { fill: "none", viewBox: "0 0 14 20" }
          );
        },
        bp = "VU",
        xp = "Ft FV FS",
        wp = "Fu FW FS",
        Op = "Fv",
        kp = class extends d.a {
          componentDidMount() {
            (0, Ae.h)(),
              (0, Je.h)() && (0, xr.c)("dm-nux-open", "chat-entry"),
              super.componentDidMount();
          }
          addSoftKeys(t, e) {
            var i = !0 === this.props.proactive;
            t.setCenterLabel(i ? 902 : 870, () => {
              i
                ? e.goBack()
                : e.updateScreen(this.props.screenId, {
                    type: "EPHEMERAL_SETTINGS",
                    props: { chat: this.props.chat },
                  });
            }),
              t.setRightLabel(891, () => {
                (0, _.E)(e, _.f);
              });
          }
          render() {
            return (0, Je.h)() ? this.Vj() : this.Vk();
          }
          Vk() {
            var t = !0 === this.props.proactive,
              e = t
                ? (0, s.b)(2, o.b, { l10n: 295 })
                : (0, s.b)(2, o.b, { l10n: 299 }),
              i = (0, qn.a)("disappearing_mode")
                ? (0, s.b)(2, np, { className: "VS" })
                : (0, s.b)(2, zl.a, { className: "VR" });
            return (0, s.b)(2, a.a, {
              children: [
                (0, s.f)(
                  1,
                  "div",
                  "VP",
                  [(0, s.b)(2, yp, { className: "VQ" }), i],
                  0
                ),
                (0, s.f)(
                  1,
                  "div",
                  "VV FV FS",
                  t
                    ? (0, s.b)(2, o.b, { l10n: 296 })
                    : (0, s.b)(2, o.b, { l10n: 300 }),
                  0
                ),
                (0, s.f)(
                  1,
                  "div",
                  "VT FW FS",
                  [
                    (0, s.f)(1, "div", bp, e, 0),
                    (0, s.f)(1, "div", bp, (0, s.b)(2, o.b, { l10n: 297 }), 2),
                    (0, s.f)(1, "div", bp, (0, s.b)(2, o.b, { l10n: 298 }), 2),
                  ],
                  4
                ),
              ],
            });
          }
          Vj() {
            var t =
                !0 === this.props.proactive
                  ? (0, s.b)(2, o.b, { l10n: 303 })
                  : (0, s.b)(2, o.b, { l10n: 307 }),
              e = (0, s.b)(2, np, { className: "Fs" });
            return (0, s.b)(2, a.a, {
              children: (0, s.f)(
                1,
                "div",
                "Fq",
                [
                  (0, s.f)(1, "div", "Fr", e, 0),
                  (0, s.f)(1, "div", xp, t, 0),
                  (0, s.f)(
                    1,
                    "div",
                    "VW FW FS",
                    (0, s.b)(2, o.b, { l10n: 308 }),
                    2
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, zl.a, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 304 }),
                    ],
                    4
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, $r, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 305 }),
                    ],
                    4
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, _p, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 306 }),
                    ],
                    4
                  ),
                ],
                4
              ),
            });
          }
        },
        Cp = (0, d.e)(kp),
        Np = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#CCEFEB",
                d: "M121.58 44.344c-4.382 4.713-10.637 7.662-17.58 7.662-11.054 0-20.362-7.473-23.149-17.642-5.955-2.127-12.551-5.822-23.772-12.107l-3.656-2.046C34.326 9.536 3.671 18.526 1.158 54.766c-1.654 23.853 9.89 40.352 25.136 46.197 14.733 5.649 47.15 10.72 81.691-1.337 18.978-6.625 24.106-19.6 22.831-34.465-.821-9.575-4.326-16.333-9.236-20.817z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#42CBA5",
                d: "M89.667 47.248c-5.935-4.357-9.788-11.385-9.788-19.312 0-2.85.498-5.583 1.411-8.118l-28.85-4.055a7.974 7.974 0 00-9.008 6.793l-11.15 79.692a7.987 7.987 0 006.797 9.014l32.928 4.627a7.974 7.974 0 009.008-6.792l8.653-61.849z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d: "M81.292 19.817 52.44 15.762a7.974 7.974 0 00-9.008 6.793l-11.15 79.692a7.987 7.987 0 006.797 9.014l32.928 4.627a7.974 7.974 0 009.008-6.792l8.654-61.85a24.02 24.02 0 01-1.546-1.236l-8.793 62.849a6.274 6.274 0 01-7.087 5.344l-32.928-4.628a6.283 6.283 0 01-5.347-7.091l11.15-79.692a6.273 6.273 0 017.086-5.344l28.563 4.014a24.04 24.04 0 01.526-1.645z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d: "M89.504 47.122c-5.842-4.366-9.625-11.337-9.625-19.19a23.84 23.84 0 013.002-11.617l-30.108-4.231a7.974 7.974 0 00-9.008 6.792l-11.15 79.692a7.986 7.986 0 006.797 9.014l32.928 4.628a7.975 7.975 0 009.008-6.793l8.156-58.295z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d: "m82.883 16.316-30.11-4.232a7.974 7.974 0 00-9.009 6.793L32.615 98.568a7.986 7.986 0 006.797 9.014l32.928 4.628a7.975 7.975 0 009.008-6.793l8.155-58.291a24.073 24.073 0 01-1.537-1.251l-8.297 59.306a6.28 6.28 0 01-7.094 5.35l-32.928-4.628a6.29 6.29 0 01-5.353-7.099l11.15-79.691a6.28 6.28 0 017.094-5.35l29.533 4.151a23.71 23.71 0 01.812-1.598z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#EEFEFA",
                d: "m81.654 18.872-2.38-.335L57.87 15.53l-4.774-.67a5.98 5.98 0 00-6.756 5.094L35.467 97.669a5.99 5.99 0 005.098 6.76l30.951 4.35a5.98 5.98 0 006.757-5.094l8.278-59.168a23.861 23.861 0 01-6.672-16.581c0-3.208.631-6.268 1.775-9.064z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d: "m86.551 44.515-8.278 59.17a5.98 5.98 0 01-6.756 5.094l-30.952-4.35a5.99 5.99 0 01-5.098-6.76L46.34 19.953a5.98 5.98 0 016.756-5.095l28.556 4.013a23.726 23.726 0 00-.598 1.629L52.86 16.538a4.286 4.286 0 00-4.841 3.65L37.147 97.906a4.293 4.293 0 003.653 4.845l30.952 4.35a4.287 4.287 0 004.842-3.651l8.481-60.621c.466.585.959 1.148 1.476 1.687z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                stroke: "#00897B",
                "stroke-width": "1.5",
                d: "m51.953 70.112 20.701 2.91a3.256 3.256 0 003.676-2.768l1.489-10.515a3.244 3.244 0 00-2.762-3.669l-28.193-3.962a.4.4 0 00-.339.678l2.141 2.137a5.339 5.339 0 011.514 4.526l-.99 6.995a3.244 3.244 0 002.763 3.668z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d: "m70.044 66.956-13.466-1.892c-.553-.078-.792-.72-.397-1.091l3.17-3.008a.7.7 0 011.077.151l2.05 3.483 4.12-3.91a.7.7 0 011.078.152l3.049 5.176c.278.466-.13 1.017-.681.939z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                stroke: "#42CBA5",
                "stroke-opacity": ".5",
                "stroke-width": "1.5",
                d: "M56.473 65.806 69.94 67.7a1.43 1.43 0 001.362-.566 1.35 1.35 0 00.07-1.498l-.002-.002-3.045-5.169-.001-.002a1.45 1.45 0 00-2.242-.315l-.002.002-3.432 3.257-1.572-2.67a1.45 1.45 0 00-2.242-.314l-3.167 3.006a1.35 1.35 0 00-.346 1.459 1.43 1.43 0 001.153.92z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                stroke: "#316474",
                "stroke-width": "1.5",
                d: "M52.993 20.177a1.308 1.308 0 00-1.482 1.104 1.31 1.31 0 001.114 1.469 1.308 1.308 0 001.482-1.105 1.31 1.31 0 00-1.114-1.468z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#00B39B",
                d: "M104.001 47.005c.276 0 .551-.006.825-.017a2.001 2.001 0 00-.163-3.997c-.22.01-.44.014-.662.014v4zm0-36c.222 0 .442.004.662.013a2 2 0 10.163-3.996 20.343 20.343 0 00-.825-.017v4zm9.277-1.722a2 2 0 10-1.858 3.543c.391.205.773.426 1.145.662a2 2 0 102.144-3.377 19.782 19.782 0 00-1.431-.828zm7.615 7.012a2 2 0 00-3.377 2.144c.236.372.457.754.663 1.145a2 2 0 103.542-1.858c-.257-.49-.533-.967-.828-1.431zm3.09 9.884a2 2 0 00-3.997.162 16.228 16.228 0 010 1.327 2 2 0 103.997.163 20.603 20.603 0 000-1.652zm-2.262 10.105a2 2 0 00-3.542-1.858 16.26 16.26 0 01-.663 1.144 2 2 0 003.377 2.145c.295-.465.571-.942.828-1.431zm-7.012 7.614a1.999 1.999 0 10-2.144-3.376c-.372.236-.754.457-1.145.662a2 2 0 001.858 3.542c.49-.257.967-.533 1.431-.828zm-10.71-36.893c-11.046 0-20 8.954-20 20s8.954 20 20 20v-4c-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16v-4z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#00B39B",
                d: "M103.549 22.506h-1.875a1.875 1.875 0 010-3.749h3.75c1.035 0 1.875.839 1.875 1.874V33.38a1.875 1.875 0 01-3.75 0V22.506z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 132 117" }
          );
        },
        Ip = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#00A884",
                d: "M118.429 29.916c-.529-3.18-.588-3.238-3.766-3.768-.557-.093-4.663-.705-4.663-1.14 0-.436 4.106-1.047 4.663-1.14 3.178-.53 3.237-.588 3.766-3.768.092-.558.699-5.1 1.139-5.1.44 0 1.046 4.542 1.139 5.1.529 3.18.588 3.238 3.766 3.768.557.092 4.673.704 4.673 1.14 0 .435-4.116 1.047-4.673 1.14-3.178.53-3.237.588-3.766 3.768-.093.558-.709 4.23-1.139 4.665-.43.435-1.046-4.107-1.139-4.665z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#7AE3C3",
                d: "M103.981 12.267c-.313-1.976-.348-2.012-2.226-2.341-.329-.058-2.755-.438-2.755-.708 0-.271 2.426-.65 2.755-.708 1.878-.33 1.913-.365 2.226-2.342.054-.346.413-3.168.673-3.168.26 0 .618 2.822.673 3.168.313 1.977.347 2.012 2.225 2.342.329.057 2.761.437 2.761.708 0 .27-2.432.65-2.761.708-1.878.33-1.912.366-2.225 2.341-.055.347-.419 2.628-.673 2.898-.255.27-.618-2.551-.673-2.898zM19.364 82.591c-.337-2.258-.374-2.3-2.397-2.676-.354-.066-2.967-.5-2.967-.81 0-.309 2.613-.742 2.967-.808 2.023-.376 2.06-.418 2.397-2.676.058-.396.445-3.621.725-3.621.28 0 .665 3.225.725 3.62.336 2.26.374 2.3 2.396 2.677.355.065 2.973.5 2.973.809 0 .31-2.618.743-2.973.81-2.022.376-2.06.417-2.396 2.675-.06.396-.452 3.003-.725 3.312-.274.31-.666-2.916-.725-3.312z",
              }),
              (0, s.f)(32, "circle", null, null, 1, {
                cx: "66",
                cy: "46",
                r: "40",
                fill: "#00A884",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                "fill-rule": "evenodd",
                d: "M65.998 70.998H66c.199 0 .398-.002.596-.007a2 2 0 10-.094-3.999c-.167.004-.334.006-.502.006h-.002v4zm0-45.998H66c.168 0 .335.002.502.006a2 2 0 00.094-3.999A25.127 25.127 0 0066 21h-.002v4zm11.986-.945a2 2 0 10-1.92 3.509c.293.16.58.327.865.5a2 2 0 002.085-3.413 24.89 24.89 0 00-1.03-.596zm9.364 8.93a2 2 0 00-3.413 2.085c.173.284.34.572.5.865a2 2 0 003.51-1.92 25.55 25.55 0 00-.597-1.03zm3.644 12.418a2 2 0 00-3.999.094 21.497 21.497 0 010 1.004 2 2 0 103.999.094 25.667 25.667 0 000-1.192zm-3.048 12.58a2 2 0 10-3.509-1.92c-.16.293-.327.581-.5.865a2 2 0 103.413 2.085c.207-.338.405-.681.596-1.03zm-8.93 9.364a2 2 0 10-2.085-3.413c-.284.173-.573.34-.865.5a2 2 0 101.92 3.51c.348-.191.692-.39 1.03-.597z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                "fill-rule": "evenodd",
                d: "M65.999 21C52.192 21 41 32.193 41 46c0 13.806 11.192 24.998 24.999 24.998v-4C54.4 66.998 45 57.596 45 46s9.401-21 20.999-21v-4z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                "fill-rule": "evenodd",
                d: "M62.713 34.5a2.464 2.464 0 100 4.928h2.464v15.607a2.464 2.464 0 004.929 0v-18.07A2.464 2.464 0 0067.64 34.5h-4.928z",
                "clip-rule": "evenodd",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 132 91" }
          );
        },
        Ep = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              fill: "#00A884",
              "fill-rule": "evenodd",
              d: "M17.678 23H6.322C4.765 23 4 22.277 4 20.675v-8.29c0-1.34.728-2.063 1.92-2.241V7.286C5.92 3.052 8.882 1 12.006 1c3.112 0 6.074 2.052 6.074 6.286v2.81c1.293.12 1.92.854 1.92 2.29v8.29c0 1.6-.765 2.324-2.322 2.324zM12.006 2.838c-2.196 0-4.053 1.471-4.053 4.222v3.037l8.094-.024V7.06c0-2.751-1.857-4.222-4.04-4.222z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 24 24" }
          );
        },
        Tp = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              fill: "#00A884",
              "fill-rule": "evenodd",
              d: "M12.001 23c.088 0 .175-.001.262-.003a1.096 1.096 0 10-.051-2.192l-.211.002V23zm0-19.807c.07 0 .14 0 .21.002a1.096 1.096 0 10.052-2.192A11.195 11.195 0 0012.001 1v2.193zm5.273-.849a1.096 1.096 0 10-1.052 1.924c.122.067.243.137.362.21a1.097 1.097 0 001.144-1.871c-.15-.091-.3-.179-.454-.263zm4.12 3.93a1.097 1.097 0 00-1.871 1.142c.073.12.143.24.21.363a1.096 1.096 0 101.924-1.052 10.944 10.944 0 00-.262-.454zm1.604 5.464a1.096 1.096 0 10-2.192.051 8.677 8.677 0 010 .422 1.097 1.097 0 002.192.051 10.876 10.876 0 000-.524zm-1.341 5.535a1.096 1.096 0 10-1.924-1.052 8.81 8.81 0 01-.21.363 1.097 1.097 0 001.872 1.143c.09-.15.178-.3.262-.454zm-3.93 4.12a1.096 1.096 0 10-1.143-1.871 8.81 8.81 0 01-.362.21 1.096 1.096 0 101.052 1.924c.154-.084.305-.172.454-.262zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11v-2.193a8.807 8.807 0 010-17.614V1z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 24 24" }
          );
        },
        Mp = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#00A884",
                d: "M118.429 29.916c-.529-3.18-.588-3.238-3.766-3.768-.557-.093-4.663-.705-4.663-1.14 0-.436 4.106-1.047 4.663-1.14 3.178-.53 3.237-.588 3.766-3.768.092-.558.699-5.1 1.139-5.1.44 0 1.046 4.542 1.139 5.1.529 3.18.588 3.238 3.766 3.768.557.092 4.673.704 4.673 1.14 0 .435-4.116 1.047-4.673 1.14-3.178.53-3.237.588-3.766 3.768-.093.558-.709 4.23-1.139 4.665-.43.435-1.046-4.107-1.139-4.665z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#7AE3C3",
                d: "M103.981 12.267c-.313-1.976-.348-2.012-2.226-2.341-.329-.058-2.755-.438-2.755-.708 0-.271 2.426-.65 2.755-.708 1.878-.33 1.913-.365 2.226-2.342.054-.346.413-3.168.673-3.168.26 0 .618 2.822.673 3.168.313 1.977.347 2.012 2.225 2.342.329.057 2.761.437 2.761.708 0 .27-2.432.65-2.761.708-1.878.33-1.912.366-2.225 2.341-.055.347-.419 2.628-.673 2.898-.255.27-.618-2.551-.673-2.898zM19.364 82.591c-.337-2.258-.374-2.3-2.397-2.676-.354-.066-2.967-.5-2.967-.81 0-.309 2.613-.742 2.967-.808 2.023-.376 2.06-.418 2.397-2.676.058-.396.445-3.621.725-3.621.28 0 .665 3.225.725 3.62.336 2.26.374 2.3 2.396 2.677.355.065 2.973.5 2.973.809 0 .31-2.618.743-2.973.81-2.022.376-2.06.417-2.396 2.675-.06.396-.452 3.003-.725 3.312-.274.31-.666-2.916-.725-3.312z",
              }),
              (0, s.f)(32, "circle", null, null, 1, {
                cx: "66",
                cy: "46",
                r: "40",
                fill: "#00A884",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                stroke: "#00A884",
                "stroke-width": "4",
                d: "M89.478 67.545 45.933 24m41.715 48L44.104 28.455",
              }),
              (0, s.f)(32, "circle", null, null, 1, {
                cx: "66",
                cy: "46",
                r: "40",
                fill: "#00A884",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                stroke: "#00A884",
                "stroke-width": "4",
                d: "M89.478 67.545 45.933 24m41.715 48L44.104 28.455",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                stroke: "#00A884",
                "stroke-linecap": "round",
                "stroke-width": "4",
                d: "M86 71 46.402 31.402M87 62 47.402 22.402",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#fff",
                stroke: "#fff",
                "stroke-width": ".2",
                d: "m85.93 61.721.17.168V35.35c0-.797-.322-1.513-.954-2.146-.633-.632-1.35-.954-2.146-.954h-7.304l-3.62-4.314-.03-.036H59.953l-.03.036-3.5 4.2-.059.07.065.065 2.1 2.1.077.076.07-.082 2.77-3.265h9.107l3.62 4.314.03.036H82.9v23.292l.03.03 3 2.95zm-11.7-11.65.133.134.035-.187a9.606 9.606 0 00-.151-4.269 8.018 8.018 0 00-2.126-3.67 7.826 7.826 0 00-3.672-2.101 10.4 10.4 0 00-4.265-.177l-.193.032.138.138 10.1 10.1zM52.42 32.279l-.029-.029-6.87-6.87-.071-.072-.07.071-2.15 2.15-.072.071.071.07 4.754 4.755a3.156 3.156 0 00-1.154.754c-.617.618-.93 1.343-.93 2.171V61c0 .828.313 1.553.93 2.17.618.618 1.343.93 2.17.93h30.66l3.92 3.92.07.071.072-.07 2.15-2.15.07-.071-.07-.07-30.28-30.28-.17-.17-3-3zM49.1 35.45h1.908l7.941 7.94a8.15 8.15 0 00-.842 1.547 8.605 8.605 0 00-.657 3.313c0 2.36.835 4.377 2.504 6.046C61.623 55.964 63.64 56.8 66 56.8c1.146 0 2.25-.22 3.313-.658a8.145 8.145 0 001.546-.842l5.6 5.6h-27.36V35.45zm12.185 10.276 7.212 7.213c-.142.08-.289.152-.438.22a4.962 4.962 0 01-2.06.441c-1.472 0-2.73-.523-3.778-1.57-1.048-1.049-1.571-2.307-1.571-3.78 0-.754.14-1.449.416-2.085.066-.15.138-.296.219-.439z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 132 91" }
          );
        },
        Lp = class extends d.a {
          constructor(t, e) {
            super(t, e), (this.Vh = Zu.R.get());
          }
          componentDidMount() {
            var t,
              e = this.props,
              i = e.nuxType,
              r = e.msgType,
              s = e.chatJid,
              n = "image" === r ? 1 : 2;
            "sender" === i
              ? (Zu.R.set(!0),
                __LOG__(2)`View once NUX marked as seen`,
                (0, Je.w)()
                  ? ((t = 2),
                    Zu.T.set(!0),
                    __LOG__(2)`View once V2 NUX marked as seen`)
                  : (t = 1))
              : (Zu.S.set(!0),
                __LOG__(2)`View once receiver NUX marked as seen`,
                (t = (0, Je.v)() ? 5 : 4)),
              WAM.log("regular", 3606, void 0, [
                1,
                1,
                null != s ? null != (0, ts.C)(s) : void 0,
                3,
                0,
                n,
                4,
                0,
                t,
              ]),
              super.componentDidMount();
          }
          Vi(t, e) {
            return {
              voMessageType: "image" === t ? 1 : 2,
              voSsAction:
                "receiver" === e ? ((0, Je.v)() ? 10 : 9) : (0, Je.w)() ? 7 : 6,
            };
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.onClose,
              s = i.nuxType,
              n = i.msgType,
              a = i.chatJid;
            t.setRightLabel(902, () => {
              e.goBack(), null != r && r(e);
            }),
              t.setLeftLabel(891, () => {
                var t = this.Vi(n, s),
                  i = t.voMessageType,
                  r = t.voSsAction;
                WAM.log("regular", 3606, void 0, [
                  1,
                  1,
                  null != a ? null != (0, ts.C)(a) : void 0,
                  3,
                  0,
                  i,
                  4,
                  0,
                  r,
                ]),
                  (0, _.E)(e, _.A);
              });
          }
          render() {
            var t,
              e = this.props,
              i = e.nuxType,
              r = e.msgType;
            return "receiver" === i
              ? (function (t) {
                  return (0, Je.v)()
                    ? Up(
                        (0, s.b)(2, Ip),
                        "image" === t ? 1097 : 1100,
                        [1098, 1099],
                        !0
                      )
                    : "image" === t
                    ? Rp(1094, 1093)
                    : Rp(1096, 1095);
                })(r)
              : ((t = this.Vh),
                (0, Je.w)()
                  ? t
                    ? Up((0, s.b)(2, Mp), 1103, [1101, 1102], !0)
                    : Up((0, s.b)(2, Ip), 1106, [1104, 1105], !0)
                  : Rp(1092, 1091));
          }
        },
        Ap = (0, d.e)(Lp);
      function Up(t, e, i, r) {
        return (0, s.b)(2, a.a, {
          children: [
            (0, s.f)(1, "div", "VJ", t, 0),
            (0, s.f)(1, "div", "VK FV FS", (0, s.b)(2, o.b, { l10n: e }), 2),
            (0, s.f)(
              1,
              "div",
              "VL FW FS",
              [
                (0, s.f)(
                  1,
                  "div",
                  "VM",
                  [
                    r
                      ? (0, s.f)(
                          1,
                          "div",
                          "VN",
                          (0, s.f)(1, "span", null, (0, s.b)(2, Tp), 2),
                          2
                        )
                      : null,
                    (0, s.f)(
                      1,
                      "div",
                      "VO",
                      (0, s.b)(2, o.b, { l10n: i[0] }, "1"),
                      2
                    ),
                  ],
                  0
                ),
                (0, s.f)(
                  1,
                  "div",
                  "VM",
                  [
                    r ? (0, s.f)(1, "div", "VN", (0, s.b)(2, Ep), 2) : null,
                    (0, s.f)(
                      1,
                      "div",
                      "VO",
                      (0, s.b)(2, o.b, { l10n: i[1] }, "2"),
                      2
                    ),
                  ],
                  0
                ),
              ],
              4
            ),
          ],
        });
      }
      function Rp(t, e) {
        return (0, s.b)(2, a.a, {
          children: [
            (0, s.f)(1, "div", "VI", (0, s.b)(2, Np), 2),
            (0, s.f)(1, "div", "VH FV FS", (0, s.b)(2, o.b, { l10n: t }), 2),
            (0, s.f)(1, "div", "VG FW FS", (0, s.b)(2, o.b, { l10n: e }), 2),
          ],
        });
      }
      var Pp = class t extends n.a {
          static Vd(t) {
            return ["info", ...(0, Ae.d)(t)];
          }
          constructor(e, i) {
            super(e, i),
              (this.Vb = n.e()),
              (this.Ve = (t) => {
                var e = this.props.backend,
                  i = this.props.expiration,
                  r = i !== t;
                WAM.log("regular", 3056, void 0, [
                  4,
                  0,
                  Kp(this.props.entryPoint),
                  1,
                  0,
                  i,
                  2,
                  0,
                  r ? t : null,
                ]),
                  r
                    ? (e.updateGeneralSettings({
                        disappearingMsgsDefaultTimer: t,
                      }),
                      e.goBack())
                    : e.goBack();
              }),
              (this.Vf = () => {
                var t, e;
                null == (t = this.Vb) ||
                  null == (e = t.current) ||
                  e.goToNext();
              }),
              (this.Vg = (t, e) => {
                switch (t) {
                  case "info":
                    return (0, s.b)(2, Fp, { goNext: this.Vf, selected: e });
                  default:
                    return (0, s.b)(2, Gp, {
                      expiration: this.state.expiration,
                      value: t,
                      selected: e,
                      onChange: this.Ve,
                      multipleDurations: !1,
                    });
                }
              }),
              (this.state = { expiration: e.expiration }),
              (this.Vc = (0, Uh.a)((e) => t.Vd(e)));
          }
          render() {
            var t = this.Vc(this.props.allowedExpirations);
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 253 }),
              children: (0, s.b)(
                2,
                g.a,
                {
                  items: t,
                  keyOf: zp,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Vg,
                },
                null,
                this.Vb
              ),
            });
          }
        },
        Gp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.expiration !== t.expiration ||
                i.selected !== t.selected ||
                i.value !== t.value ||
                i.onChange !== t.onChange ||
                i.multipleDurations !== t.multipleDurations)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.value;
            t.setCenterLabel(902, () => {
              this.props.onChange(i);
            });
          }
          render() {
            var t = this.props,
              e = t.expiration,
              i = t.selected,
              r = t.value;
            return (0, We.f)(r, e, i);
          }
        },
        Fp = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.goNext !== t.goNext)
            );
          }
          addSoftKeys(t, e) {
            t.setRightLabel(891, Vp), t.setCenterLabel(877, this.props.goNext);
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)(lp, this.props.selected && op),
              [
                (0, s.f)(1, "div", ap, (0, s.b)(2, np, { className: "VA" }), 2),
                (0, s.f)(
                  1,
                  "div",
                  up,
                  [
                    (0, s.b)(2, o.b, { className: "VE", l10n: 251 }),
                    (0, s.b)(2, o.b, { l10n: 252 }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        Dp = (0, l.c)((0, d.e)(Pp), (t, e, i) => {
          var r = t.settings,
            s = t.serverProps;
          return Object.assign({}, i, {
            backend: e,
            expiration: r.disappearingMsgsDefaultTimer || _e.k,
            allowedExpirations: s.ephemeralMessagesAllowedValues,
          });
        });
      function zp(t) {
        return String(t);
      }
      function Vp(t) {
        (0, _.E)(t, _.f);
      }
      function Kp(t) {
        switch (t) {
          case "account-settings":
            return 1;
          case "system-message":
            return 2;
          case "individual-chat-info":
            return 3;
          default:
            return 4;
        }
      }
      var jp,
        Bp,
        Wp,
        Hp,
        Jp,
        $p = i(164);
      function Yp(t) {
        var e =
          (null == jp &&
            (jp = Promise.all([i.e(4), i.e(12), i.e(74)])
              .then(i.bind(null, 731))
              .then((t) => t.default)),
          jp);
        return (0, s.b)(2, Di.a, {
          props: t,
          promise: e,
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.i)((0, s.b)(2, e, Object.assign({}, t))),
        });
      }
      function qp(t) {
        var e =
          (null == Bp &&
            (Bp = Promise.all([i.e(4), i.e(12), i.e(74)])
              .then(i.bind(null, 732))
              .then((t) => t.default)),
          Bp);
        return (0, s.b)(2, Di.a, {
          props: t,
          promise: e,
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.i)((0, s.b)(2, e, Object.assign({}, t))),
        });
      }
      function Xp() {
        var t =
          (null == Wp &&
            (Wp = i
              .e(179)
              .then(i.bind(null, 726))
              .then((t) => t.default)),
          Wp);
        return (0, s.b)(2, Di.a, {
          props: {},
          promise: t,
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.b)(2, e),
        });
      }
      function Qp(t) {
        return (0, s.b)(2, Di.a, {
          props: t,
          promise:
            (Hp ||
              (Hp = Promise.all([i.e(12), i.e(171)])
                .then(i.bind(null, 733))
                .then((t) => t.MyQRCode)),
            Hp),
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.i)((0, s.b)(2, e, Object.assign({}, t))),
        });
      }
      function Zp(t) {
        return (0, s.b)(2, Di.a, {
          props: t,
          promise:
            (Jp ||
              (Jp = Promise.all([i.e(12), i.e(170)])
                .then(i.bind(null, 734))
                .then((t) => t.default)),
            Jp),
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.i)((0, s.b)(2, e, Object.assign({}, t))),
        });
      }
      var tf,
        ef = i(222),
        rf = i(70),
        sf = class extends d.a {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.UY = !1), t;
          }
          componentDidMount() {
            (this.UY = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UY = !1), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.inviteCode,
              n = i.chat,
              a = `${ef.a}${r}`;
            t.setCenterLabel(935, () => {
              var t = (0, le.k)([a, 127]),
                i = this;
              e.spinUntilReady(
                (0, rf.getProfilePicTable)()
                  .getThumb(n.jid)
                  .then((r) => () => {
                    if (i.UY) {
                      var s = {
                        imgBlob: null == r ? void 0 : r.image,
                        matchedText: a,
                        canonicalUrl: ef.a,
                        description: (0, le.k)(430),
                        title: n.groupInfo.title,
                      };
                      e.openScreen("SHARE_TEXT_SCREEN", {
                        text: t,
                        preview: s,
                      });
                    }
                  }),
                433,
                894
              );
            }),
              t.setLeftLabel(760, () => {
                var t = this.props.chat;
                (0, b.h)(
                  {
                    right: 760,
                    onSoftRight: () => (0, io.d)(e, t.jid),
                    left: 864,
                    onSoftLeft: "CLOSE",
                    onBack: "CLOSE",
                  },
                  (0, s.f)(
                    1,
                    "div",
                    "Ty",
                    (0, s.b)(2, o.b, {
                      l10n: [(0, h.b)(t.groupInfo.title), 238],
                    }),
                    2
                  )
                );
              }),
              t.setRightLabel(909, () => {
                var t = this.props.chat;
                e.openScreen("GROUP_INVITE_LINK_QR_SCREEN", {
                  url: a,
                  chat: t,
                });
              });
          }
          render() {
            var t = this.props.inviteCode,
              e = `${ef.a}${t}`;
            return (0, s.b)(2, a.a, {
              title: (0, s.b)(2, o.b, { l10n: 433 }),
              children: (0, s.f)(
                1,
                "div",
                null,
                (0, s.f)(
                  1,
                  "div",
                  "Ty",
                  [
                    (0, s.b)(2, o.b, { l10n: 424 }),
                    (0, s.f)(1, "div", "Tz", e, 0),
                  ],
                  4
                ),
                2
              ),
            });
          }
        },
        nf = (0, d.e)(sf);
      function af() {
        var t =
          (null == tf &&
            (tf = i
              .e(165)
              .then(i.bind(null, 727))
              .then((t) => t.default)),
          tf);
        return (0, s.b)(2, Di.a, {
          props: {},
          promise: t,
          fallback: () => (0, s.b)(2, $p.a),
          render: (t, e) => (0, s.b)(2, e),
        });
      }
      var lf = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.UW = (t, e) => {
                var i = (0, B.g)(t);
                return e.filter((t) =>
                  (0, B.a)((0, c.c)(t, this.props.contacts), i)
                );
              }),
              (this.UX = (t, e) =>
                (0, s.b)(2, hf, {
                  adminJid: t,
                  groupJid: this.props.chat.jid,
                  selected: e,
                  contacts: this.props.contacts,
                })),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.chat !== t.chat || i.contacts !== t.contacts);
          }
          addSoftKeys(t) {
            t.addCancel();
          }
          render() {
            var t = (0, s.b)(2, o.b, { l10n: 569 }),
              e =
                0 === this.props.chat.groupInfo.admins
                  ? void 0
                  : { filter: this.UW, emptyLabel: 258 };
            return (0, s.b)(2, S.a, {
              title: t,
              children: (0, s.b)(2, g.c, {
                items: this.props.chat.groupInfo.admins,
                keyOf: uf,
                search: e,
                estimatedItemHeight: D.c,
                emptyLabel: 568,
                renderItem: this.UX,
              }),
            });
          }
        },
        of = (0, l.c)((0, d.e)(lf), (t, e, i) => ({
          backend: e,
          contacts: t.contacts,
          chat: i.chat,
        }));
      function uf(t) {
        return t;
      }
      var hf = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.adminJid !== t.adminJid ||
                i.groupJid !== t.groupJid ||
                i.selected !== t.selected ||
                i.contacts !== t.contacts)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.adminJid,
              s = i.groupJid;
            t.setCenterLabel(193, () => {
              (0, Et.a)(e, r, "unread", {
                text: "",
                quote: { type: "group", groupJid: s },
              });
            });
          }
          render() {
            var t = this.props,
              e = t.contacts,
              i = t.adminJid,
              r = t.selected;
            return (0, s.b)(2, y.f, {
              contact: (0, c.c)(i, e),
              selected: r,
              rawSubtitle: "pushname",
            });
          }
        },
        cf = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { forceRefetch: void 0 }),
              (this.UV = () => {
                "forceRefetch" !== this.state.forceRefetch &&
                  this.setState({ forceRefetch: "forceRefetch" });
              }),
              t
            );
          }
          render() {
            return (0, s.b)(2, Di.a, {
              promise: this.props.backend.loadMsgContentBlob(
                this.props.msgId,
                this.props.contentRef,
                this.state.forceRefetch
              ),
              props: {
                onLoadError: this.UV,
                caption: this.props.caption,
                captionFormatting: this.props.captionFormatting,
                onViewed: this.props.onViewed,
                onMsgInfo: this.props.onMsgInfo,
                onReportContact: this.props.onReportContact,
                onClose: this.props.onClose,
              },
              render: pf,
              fallback: vf,
            });
          }
        },
        df = (0, l.j)((0, d.e)(cf, { fullscreen: !0 }));
      function vf() {
        return (0, s.b)(2, Gc);
      }
      function pf(t, e) {
        return e
          ? (0, s.b)(2, ct, {
              src: { blob: e },
              onLoadError: t.onLoadError,
              caption: t.caption,
              captionFormatting: t.captionFormatting,
              onViewed: t.onViewed,
              onMsgInfo: t.onMsgInfo,
              onReportContact: t.onReportContact,
              onClose: t.onClose,
            })
          : vf();
      }
      var ff = "Uo MR",
        mf = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.VQ = n.e()),
              (this.VR = n.e()),
              (this.VS = !1),
              (this.state = { blob: null, isReady: !1 }),
              (this.VT = () =>
                this.props.backend.loadMsgContentBlob(
                  this.props.msgId,
                  this.props.contentRef
                )),
              t
            );
          }
          componentDidMount() {
            this.VS = !0;
            var t,
              e = Promise.resolve();
            if (this.props.isNotNativeSupport) {
              var i = ((t = this.props.msgId), js.get(t));
              null != i &&
                this.VR.current &&
                (e = Bs(this.props.msgId, this.VR.current, i));
            }
            this.VT().then((t) => {
              this.VS &&
                (this.props.isNotNativeSupport
                  ? e.then(() => this.VU(t))
                  : this.setState({ blob: t, isReady: !0 }));
            }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.VS = !1), super.componentWillUnmount();
          }
          VU(t) {
            null != t &&
              (__LOG__(
                2
              )`Converting sticker blob as the device doesn't support WebP`,
              Promise.all([i.e(193).then(i.bind(null, 735)), (0, F.h)(t)]).then(
                (t) => {
                  var e = ms()(t, 2),
                    i = e[0],
                    r = e[1];
                  this.VS &&
                    this.VR.current &&
                    r instanceof ArrayBuffer &&
                    i
                      .processWebpToCanvas(
                        this.props.msgId,
                        this.VR.current,
                        r,
                        this.props.backend,
                        !1
                      )
                      .then(() => {
                        this.VS && this.setState({ isReady: !0 });
                      });
                }
              ));
          }
          addSoftKeys(t, e) {
            t.setBack(ot.a);
          }
          render() {
            var t,
              e = this.props.isNotNativeSupport,
              i = this.state.isReady;
            return (
              (t = e
                ? (0, s.c)(
                    [
                      (0, s.f)(
                        1,
                        "canvas",
                        (0, Mt.a)(ff, !i && "Up"),
                        null,
                        1,
                        null,
                        null,
                        this.VR
                      ),
                      !i && (0, s.b)(2, Gc, { className: "Uq" }),
                    ],
                    0
                  )
                : null != this.state.blob
                ? (0, s.b)(2, it.b, {
                    innerRef: this.VQ,
                    blob: this.state.blob,
                    className: ff,
                  })
                : (0, s.b)(2, Gc)),
              (0, s.f)(1, "div", "Un MQ", t, 0)
            );
          }
        },
        gf = (0, l.j)(mf),
        Sf = class extends n.b {
          render() {
            return (0, s.b)(2, gf, {
              msgId: this.props.msgId,
              contentRef: this.props.contentRef,
              isNotNativeSupport: this.props.isNotNativeSupport,
            });
          }
        },
        yf = (0, l.j)((0, d.e)(Sf, { fullscreen: !0 })),
        _f = i(549),
        bf = i(252),
        xf = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Va = (t, e, i) => {
                var r = i.getAttribute("data-content-type");
                if ("phoneNumber" === r) {
                  var s = i.getAttribute("data-matched-phone-number");
                  if (null == s)
                    return (
                      __LOG__(
                        4
                      )`Tried to link a phone number without specifying value for it`,
                      void SEND_LOGS("phone-number-value-not-specified")
                    );
                  var n = (0, et.C)(s),
                    a = (0, c.c)(n, this.props.contacts);
                  (0, c.i)(a)
                    ? t.setCenterLabel(945, () => {
                        (0, Mn.a)(e, a.jid);
                      })
                    : t.setCenterLabel(184, () => {
                        var t = i.getAttribute("data-matched-text");
                        if (null == t)
                          return (
                            __LOG__(
                              4
                            )`Tried to open add a contact without specifying a phone number for it`,
                            void SEND_LOGS("phone-number-not-specified")
                          );
                        (0, je.a)(e, { tel: t });
                      });
                } else
                  t.setCenterLabel(903, () => {
                    var t = i.getAttribute("href");
                    if (null == t)
                      return (
                        __LOG__(
                          4
                        )`Tried to open a link that had no attribute href`,
                        void SEND_LOGS("no-attribute-href")
                      );
                    var s = i.getAttribute("data-matched-text");
                    if (null != s) {
                      var n = this.props.msg.meta,
                        a = n.author,
                        l = n.fromMe ? Zu.t.get() : a && ic.i(a),
                        o = l
                          ? (0, bf.a)(s, l, Zu.t.get(), [(0, le.d)().lg])
                          : null;
                      o ? (0, Sa.a)(e, s, o, t) : (0, Ei.a)(e, t);
                    } else
                      "mention" === r
                        ? (0, Ei.a)(e, t)
                        : (__LOG__(
                            4
                          )`Tried to open a link that had no attribute data-matched-text. data-content-type: ${r}`,
                          SEND_LOGS("data-matched-text"));
                  });
              }),
              t
            );
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: this.props.title,
              children: (0, s.b)(2, _f.a, {
                addLinkSoftkeys: this.Va,
                topSelectedCallback: this.props.topSelectedCallback,
                disabled: !1,
                children: this.props.children,
              }),
            });
          }
        },
        wf = "Tl",
        Of = i(84),
        kf = "all",
        Cf = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.VV = !1),
              (this.VX = () => {
                var t = this.state.tabIndex;
                t > 0 && this.setState({ tabIndex: t - 1 });
              }),
              (this.VW = () => {
                var t = this.state.tabIndex;
                t < this.props.reactions.tabs.length - 1 &&
                  this.setState({ tabIndex: t + 1 });
              }),
              (this.VZ = (t, e) => {
                var i,
                  r = this.props,
                  n = r.contacts,
                  a = r.chatJid,
                  l = r.msg;
                return (
                  (i =
                    "@me" === t.author ? { jid: ts.a } : (0, c.c)(t.author, n)),
                  (0, s.b)(2, If, {
                    msg: l,
                    chatJid: a,
                    contact: i,
                    selected: e,
                    text: t.text,
                  })
                );
              }),
              (this.state = { tabIndex: 0 }),
              (this.VV = (0, le.g)());
          }
          addSoftKeys(t, e) {
            t.setBack(() => {
              (0, b.a)(), this.props.onClose();
            }),
              this.VV
                ? t.setLeftRightArrows(this.VW, this.VX)
                : t.setLeftRightArrows(this.VX, this.VW);
          }
          VY() {
            var t = this.state.tabIndex,
              e = this.props.reactions.tabs[t];
            return (0, s.b)(2, ph.a, {
              items: e.items,
              keyOf: Ef,
              renderItem: this.VZ,
              preventLoop: !0,
              emptyLabel: 706,
            });
          }
          render() {
            var t = this.state.tabIndex,
              e = this.VY();
            return (0, s.f)(
              1,
              "div",
              "Ur",
              [
                (0, s.b)(2, Jo.a, {
                  icon: Tf,
                  items: this.props.reactions.tabs,
                  selectedIndex: t,
                  activeIndex: t,
                }),
                (0, s.f)(1, "div", "Us", e, 0),
              ],
              4
            );
          }
        },
        Nf = (0, l.c)(Cf, (t, e, i) =>
          Object.assign({}, i, { contacts: t.contacts })
        ),
        If = class extends cr.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contact,
              s = i.msg,
              n = i.chatJid;
            "@me" === r.jid
              ? t.setCenterLabel(911, () => {
                  (0, gr.c)(n, s);
                })
              : t.setCenterLabel(945, () => {
                  (0, Mn.a)(e, r.jid);
                });
          }
          render() {
            var t = this.props,
              e = t.contact,
              i = t.selected,
              r = t.text,
              n = "@me" === e.jid ? 711 : void 0,
              a = (0, s.f)(1, "span", "Ux", (0, h.c)(r), 0);
            return (0, s.b)(2, y.f, {
              contact: e,
              selected: i,
              subtitle: n,
              rawSubtitle: "pushname",
              rightComponent: a,
            });
          }
        };
      function Ef(t) {
        return t.author;
      }
      function Tf(t) {
        var e = t.item,
          i = e.key,
          r = e.label,
          n = e.items.length,
          a =
            i === kf && n > 999
              ? (0, s.b)(2, o.b, { className: "Uu", l10n: [999, 218] })
              : (0, s.f)(1, "span", "Uu", n, 0);
        return (0, s.f)(
          1,
          "span",
          (0, Mt.a)(t.selected && "Uv", "Ut", t.className),
          [
            i === kf
              ? (0, s.b)(2, o.b, { l10n: 705, className: "Uw" })
              : (0, h.c)(r),
            a,
          ],
          0
        );
      }
      function Mf(t, e) {
        return t.author === ts.a
          ? -1
          : e.author === ts.a
          ? 1
          : (0, Of.b)(t.ts, e.ts)
          ? -1
          : 1;
      }
      var Lf = {
        type: "ONE_TO_ONE",
        read: null,
        played: null,
        delivered: null,
      };
      function Af(t) {
        switch (t.chat.type) {
          case "ONE_TO_ONE":
            return (function (t) {
              if (!t.msgInfo) return Lf;
              var e = t.msgInfo.acks;
              if (!e) return Lf;
              var i = (0, F.x)(e);
              if (
                (i.length > 1 &&
                  __LOG__(
                    4
                  )`Mutiple acks for one to one conversation, msg: ${t.msg.id}, acks: ${i}`,
                i.length > 0)
              ) {
                var r = e[i[0]];
                return {
                  type: "ONE_TO_ONE",
                  read: r[yr.a.READ],
                  played: r[yr.a.PLAYED],
                  delivered: r[yr.a.RECEIVED],
                };
              }
              return Lf;
            })(t);
          case "GROUP":
            return (function (t) {
              var e = {
                type: "GROUP",
                read: { contacts: [], remaining: 0 },
                played: { contacts: [], remaining: 0 },
                delivered: { contacts: [], remaining: 0 },
              };
              if (!t.msgInfo) return e;
              var i = t.msgInfo.acks;
              return i
                ? (0, F.x)(i).reduce((e, r) => {
                    var s = (0, c.c)(r, t.contacts),
                      n = i[r];
                    return null != n[yr.a.PLAYED]
                      ? (e.played.contacts.push({
                          contact: s,
                          at: n[yr.a.PLAYED],
                        }),
                        e)
                      : ((e.played.remaining += 1),
                        null != n[yr.a.READ]
                          ? (e.read.contacts.push({
                              contact: s,
                              at: n[yr.a.READ],
                            }),
                            e)
                          : ((e.read.remaining += 1),
                            null != n[yr.a.RECEIVED]
                              ? (e.delivered.contacts.push({
                                  contact: s,
                                  at: n[yr.a.RECEIVED],
                                }),
                                e)
                              : ((e.delivered.remaining += 1), e)));
                  }, e)
                : e;
            })(t);
          default:
            return (0, m.a)(t.chat);
        }
      }
      function Uf(t) {
        return t.forwarded && null != t.forwarded.score
          ? t.forwarded.score
          : null;
      }
      var Rf = {
          gif: !0,
          voice: !0,
          video: !0,
          image: !0,
          location: !0,
          group_invite: !0,
          document: !0,
        },
        Pf = {
          linkPreview: !0,
          gif: !0,
          voice: !0,
          video: !0,
          visualMedia: !0,
          locationMap: !0,
          groupInvite: !0,
          document: !0,
        };
      function Gf(t) {
        return (
          ("text" === t.content.type && null != t.content.linkPreview) ||
          !0 === Rf[t.content.type]
        );
      }
      var Ff = (0, Uh.b)((t, e) =>
          e
            ? (function (t) {
                if (0 === t.length)
                  return { tabs: [{ key: kf, label: kf, items: [] }] };
                var e = [],
                  i = t.map((t) => {
                    var i = t.label,
                      r = t.hasFromMe,
                      s = t.reactions,
                      n = i;
                    e.push(...s);
                    var a = s.sort(Mf);
                    return r
                      ? { key: n, hasMe: !0, items: a, label: i }
                      : { key: n, items: a, label: i };
                  });
                return (
                  i.unshift({ key: kf, label: kf, items: e.sort(Mf) }),
                  { tabs: i }
                );
              })(e)
            : void 0
        ),
        Df = class extends d.a {
          static getDerivedStateFromProps(t) {
            return {
              infos: Af(t),
              forwardingScore: Uf(t.msg),
              isTopSelectable: Gf(t.msg),
              reactionTabs: Ff(t.msg.id, t.msgReactions),
            };
          }
          constructor(t, e) {
            super(t, e),
              (this.UK = (t) => {
                this.state.isTopSelectable &&
                  this.setState({ isTopSelected: t });
              }),
              (this.UJ = (t) => {
                var e, i, r, n;
                this.UI =
                  ((e = this.props.chat.jid),
                  (i = this.props.msg),
                  (r = t),
                  (n = this.UL),
                  (0, b.b)(
                    (0, s.b)(2, Nf, {
                      chatJid: e,
                      msg: i,
                      reactions: r,
                      onClose: n,
                    })
                  ));
              }),
              (this.UL = () => {
                this.UI = void 0;
              });
            var i = Gf(t.msg);
            this.state = {
              infos: Af(t),
              forwardingScore: Uf(t.msg),
              isTopSelectable: i,
              isTopSelected: i,
            };
          }
          componentWillUnmount() {
            this.props.backend.dispatch({ type: "STOP_ANY_MEDIA" }),
              super.componentWillUnmount();
          }
          componentDidUpdate(t, e) {
            null != this.UI &&
              this.state.reactionTabs &&
              e.reactionTabs !== this.state.reactionTabs &&
              this.UJ(this.state.reactionTabs),
              super.componentDidUpdate(t, e);
          }
          addSoftKeys(t, e) {
            t.setLeftAsBack();
            var i = this.props.msg;
            i.reactions &&
              i.reactions.count > 0 &&
              t.setRightLabel(714, () => {
                var t = this.state.reactionTabs;
                if (t) return this.UJ(t);
                var r = (0, b.i)({
                  left: 864,
                  onSoftLeft: "CLOSE",
                  close: () => {
                    (0, b.a)(), this.UL();
                  },
                });
                (this.UI = r), (0, gr.b)(e, i.id);
              });
          }
          UM() {
            var t = this.props,
              e = t.msg,
              i = t.chat,
              r = t.isDarkBackground,
              n = t.ephemeralInfo;
            return (function (t, e) {
              var i = [],
                r = null;
              return (
                (0, Sr.e)(
                  t,
                  0,
                  function (t) {
                    __LOG__(
                      3
                    )`You should no be able to open this screen for a MsgListItem, only for MsgListItemMsgPart. ${t.key}`;
                  },
                  function (t) {
                    null == r
                      ? (t.grouping |= e)
                      : ((r.grouping |= yr.h.JOINED_WITH_NEXT),
                        (t.grouping |= yr.h.JOINED_WITH_PREV)),
                      i.push(t),
                      (r = t);
                  }
                ),
                i
              );
            })(e, "GROUP" === i.type ? yr.h.SHOW_AUTHOR : 0).map((t) => {
              var e = this.state.isTopSelected && !0 === Pf[t.type];
              return (0, s.b)(
                2,
                Al,
                {
                  part: t,
                  selected: e,
                  darkBackground: r,
                  playGif: !0,
                  truncated: !1,
                  ephemeralInfo: n,
                },
                t.key
              );
            });
          }
          UN() {
            var t,
              e = this.props,
              i = e.msg,
              r = e.chat,
              n = e.frequentlyForwardedMessages,
              a = e.ephemeralInfo,
              l = this.state.forwardingScore;
            if (!i.meta.fromMe || "revoked" === i.content.type)
              return (
                (t =
                  "ONE_TO_ONE" === r.type
                    ? $f(i, this.props.contacts)
                    : Yf(i, this.props.contacts)),
                (0, s.c)([Jf(i, r.jid), Hf(i, a), t, Zf(i)], 0)
              );
            if (null == this.state.infos) return null;
            switch (this.state.infos.type) {
              case "ONE_TO_ONE":
                var o = this.state.infos;
                return (0, s.c)(
                  [
                    Jf(i, r.jid),
                    (0, yr.C)(i) &&
                      (0, s.c)(
                        [
                          (0, s.b)(2, jf, { title: 579 }),
                          (0, s.b)(2, Wf, {
                            at: o.played,
                            ack: yr.a.PLAYED,
                            altIcon: (0, s.b)(2, us.a, { className: "Tp" }),
                          }),
                        ],
                        4
                      ),
                    (0, yr.D)(i) &&
                      null != i.content.viewOnceState &&
                      (0, s.c)(
                        [
                          (0, s.b)(2, jf, { title: 582 }),
                          (0, s.b)(2, Wf, {
                            at: o.played,
                            ack: yr.a.PLAYED,
                            altIcon: (0, en.c)(i.content.viewOnceState, "Tq"),
                          }),
                        ],
                        4
                      ),
                    $f(i, this.props.contacts),
                    (0, s.b)(2, jf, { title: (0, yr.D)(i) ? 1090 : 580 }),
                    (0, s.b)(2, Wf, { at: o.read, ack: yr.a.READ }),
                    (0, s.b)(2, jf, { title: 577 }),
                    (0, s.b)(2, Wf, { at: o.delivered, ack: yr.a.RECEIVED }),
                    Zf(i),
                    n && (0, s.b)(2, Bf, { value: l }),
                  ],
                  0
                );
              case "GROUP":
                var u = this.state.infos;
                return (0, s.c)(
                  [
                    (0, yr.D)(i) && Qf(582, u.played, !1),
                    (0, yr.C)(i) && Qf(579, u.played, !1),
                    Yf(i, this.props.contacts),
                    Qf(580, u.read, !0),
                    Qf(577, u.delivered, !1),
                    Zf(i),
                    (0, s.b)(2, Bf, { value: l }),
                  ],
                  0
                );
              default:
                return (0, m.a)(this.state.infos.type);
            }
          }
          render() {
            var t = Rh(this.props.chatBackground);
            return (0, s.b)(2, xf, {
              msg: this.props.msg,
              contacts: this.props.contacts,
              topSelectedCallback: this.state.isTopSelectable ? this.UK : null,
              children: [
                (0, s.f)(1, "div", "Th", this.UM(), 0, { style: n.h(t) }),
                (0, s.f)(1, "div", "Ti", this.UN(), 0),
              ],
            });
          }
        },
        zf = (0, l.c)((0, d.e)(Df), (t, e, i) => {
          var r = t.contacts,
            s = t.user,
            n = t.chatlist,
            a = t.serverProps,
            l = n.chats[i.msg.chatId];
          if (!l)
            return __LOG__(3)`MsgInfos no chat found ${i.msg.chatId}`, null;
          var o = Ph(
              l.chatBackgroundSettings,
              t.settings.chatBackgroundSettings
            ),
            u = o.chatBackground,
            h = o.isDarkBackground;
          return {
            msg: i.msg,
            chat: l,
            msgInfo: i.msgInfo,
            msgReactions: i.msgReactions,
            contacts: r,
            user: s,
            player: t.player,
            backend: e,
            receivedGroupInviteRevokes: t.receivedGroupInviteRevokes,
            sentGroupInviteRevokes: t.sentGroupInviteRevokes,
            ephemeralInfo: (0, Ae.c)(l, r),
            chatBackground: u,
            isDarkBackground: h,
            frequentlyForwardedMessages: a.frequentlyForwardedMessages,
          };
        }),
        Vf = (0, s.f)(1, "div", "Tu", u.a, 0);
      function Kf(t) {
        return (0, s.f)(1, "div", "Tj", t.node, 0);
      }
      function jf(t) {
        return (0, s.b)(2, Kf, { node: (0, s.b)(2, o.b, { l10n: t.title }) });
      }
      function Bf(t) {
        var e = t.value;
        return null == e
          ? null
          : (0, s.c)(
              [
                (0, s.f)(1, "div", "Tk Tj"),
                (0, s.f)(1, "div", wf, (0, s.b)(2, o.b, { l10n: [e, 188] }), 2),
              ],
              4
            );
      }
      function Wf(t) {
        var e = t.at,
          i = t.ack,
          r = t.altIcon,
          n = null;
        return (
          null != r
            ? (n = r)
            : void 0 !== i && (n = (0, s.b)(2, gs.a, { ack: i })),
          (0, s.f)(
            1,
            "div",
            "Tm Tl",
            [
              (0, s.f)(
                1,
                "div",
                "Tn FY FU",
                null != e ? (0, s.b)(2, o.a, { unix: e }) : Vf,
                0
              ),
              (0, s.f)(1, "div", "To", n, 0),
            ],
            4
          )
        );
      }
      function Hf(t, e) {
        if (t.meta.fromMe || null == e) return null;
        var i = e.expiration,
          r = t.expiration || _e.k;
        return i > _e.k && r === _e.k
          ? (0, s.f)(1, "div", wf, (0, s.b)(2, o.b, { l10n: 286 }), 2)
          : (i === _e.k && r > _e.k) || (i > _e.k && r !== i)
          ? (0, s.f)(
              1,
              "div",
              wf,
              (0, s.b)(2, o.b, { l10n: [(0, s.b)(2, We.a, { value: r }), 84] }),
              2
            )
          : null;
      }
      function Jf(t, e) {
        return t.bizConflict && (0, et.q)(e)
          ? ((i =
              t.bizInfo && t.bizInfo.bsp
                ? (0, we.k)(t.bizInfo.bsp, {
                    SO: () => (0, s.b)(2, o.b, { l10n: 59 }),
                    SF: () => (0, s.b)(2, o.b, { l10n: 60 }),
                    BF: () => (0, s.b)(2, o.b, { l10n: 60 }),
                    BO: () => (0, s.b)(2, o.b, { l10n: 58 }),
                  })
                : (0, s.b)(2, o.b, { l10n: 59 })),
            (0, s.f)(1, "div", wf, i, 0))
          : null;
        var i;
      }
      function $f(t, e) {
        if (!(0, Je.l)()) return null;
        var i = t.keptInfo;
        if (null != (null == i ? void 0 : i.kept) && null != i.keptAt) {
          var r = (0, Ae.b)(e, i.author);
          return (0, s.c)(
            [
              (0, s.b)(2, Kf, { node: r }),
              (0, s.b)(2, Wf, {
                at: i.keptAt,
                altIcon: (0, s.b)(2, $r, { className: "Tr" }),
              }),
            ],
            4
          );
        }
      }
      function Yf(t, e) {
        if (!(0, Je.l)()) return null;
        var i = t.keptInfo;
        if (null != (null == i ? void 0 : i.kept) && null != i.keptAt) {
          var r = i.author,
            n = i.keptAt,
            a = "@me" === r ? Nd.b : (0, c.c)(r, e);
          return (0, s.c)([(0, s.b)(2, jf, { title: 578 }), qf(a, n)], 0);
        }
      }
      function qf(t, e) {
        return (0, s.b)(
          2,
          y.f,
          {
            contact: t,
            selected: !1,
            rawSubtitle: (0, s.b)(2, o.a, { unix: e }),
          },
          t.jid
        );
      }
      function Xf(t) {
        return qf(t.contact, t.at);
      }
      function Qf(t, e, i) {
        var r = (function (t, e) {
          return 0 === t
            ? null
            : (0, s.f)(
                1,
                "div",
                "Ts " + (e ? "Tt" : ""),
                (0, s.b)(2, o.b, { l10n: [t, 189] }),
                2
              );
        })(e.remaining, e.contacts.length > 0);
        return null == r && 0 === e.contacts.length
          ? i
            ? (0, s.f)(1, "div", wf, Vf, 0)
            : null
          : (0, s.c)([(0, s.b)(2, jf, { title: t }), e.contacts.map(Xf), r], 0);
      }
      function Zf(t) {
        return (0, s.c)(
          [(0, s.b)(2, jf, { title: 581 }), (0, s.b)(2, Wf, { at: t.ts })],
          4
        );
      }
      var tm = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.filter = (t, e) => {
                var i = (0, B.g)(t);
                return e.filter((t) =>
                  (0, B.a)((0, c.c)(t, this.props.contacts), i)
                );
              }),
              (this.Tz = (t, e) => {
                var i = this.props,
                  r = i.contacts,
                  n = i.blocked,
                  a = i.isVoipAvailable;
                return (0, s.b)(2, em, {
                  contact: (0, c.c)(t, r),
                  isBlocked: Boolean(n[t]),
                  selected: e,
                  isVoipAvailable: a,
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.blocked !== t.blocked ||
                i.contacts !== t.contacts ||
                i.isVoipAvailable !== t.isVoipAvailable ||
                i.items !== t.items)
            );
          }
          addSoftKeys(t, e) {
            t.addCancel(),
              t.setRightOptions(() => {
                var t = new K.a();
                t.add(602, () => (0, je.b)(e)),
                  t.add(603, e.syncAllContacts, "interactive"),
                  (0, b.j)(t);
              });
          }
          render() {
            var t = this.props.items,
              e =
                0 === t.length
                  ? void 0
                  : { filter: this.filter, emptyLabel: 598 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 898 }),
              children: (0, s.b)(2, g.c, {
                items: t,
                keyOf: rm,
                search: e,
                estimatedItemHeight: D.c,
                emptyLabel: 597,
                renderItem: this.Tz,
              }),
            });
          }
        },
        em = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contact !== t.contact ||
                i.isBlocked !== t.isBlocked ||
                i.selected !== t.selected ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contact,
              n = i.isVoipAvailable,
              a = i.isBlocked;
            if (n) {
              var l = () => (0, It.a)(r, e, a, "newCall");
              t.setCenterIcon((0, s.b)(2, Lt, { className: "Ss r q" }), l),
                t.setOnCall(l);
            }
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.contact;
            return (0, s.b)(2, y.f, { contact: i, selected: e });
          }
        },
        im = (0, l.f)(
          (0, d.e)(tm),
          (t) => ({
            blocked: t.blocked,
            contacts: t.contacts,
            isVoipAvailable: t.isVoipAvailable,
          }),
          (t) => {
            var e = t.blocked,
              i = t.contacts;
            return {
              blocked: e,
              contacts: i,
              isVoipAvailable: t.isVoipAvailable,
              items: (0, j.j)(i).map((t) => t.jid),
            };
          }
        );
      function rm(t) {
        return t;
      }
      var sm = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M15.313 15.672c2.401 0 4.237-1.835 4.237-4.235S17.713 7.2 15.313 7.2s-4.235 1.836-4.235 4.237 1.834 4.235 4.235 4.235zm9.349-.64c1.571 0 2.773-1.201 2.773-2.772 0-1.571-1.202-2.773-2.773-2.773s-2.772 1.202-2.772 2.773c0 1.571 1.201 2.772 2.772 2.772zm-1.724 5.841a7.856 7.856 0 00-.889-1.107 8.074 8.074 0 00-1.825-1.413 9.05 9.05 0 00-.675-.346l-.021-.009c-1.107-.502-2.5-.851-4.232-.851-1.732 0-3.124.349-4.232.851l-.112.054a9.247 9.247 0 00-.705.374 8.137 8.137 0 00-1.705 1.341 7.991 7.991 0 00-.656.773 8.584 8.584 0 00-.233.334c-.063.095-.116.184-.164.263l-.012.02a4.495 4.495 0 00-.213.408v2.276h16.061v-2.276s-.07-.164-.225-.427a4.257 4.257 0 00-.162-.265zm1.724-4.357c-1.333 0-2.376.3-3.179.713a9.409 9.409 0 011.733 1.218c1.402 1.25 1.959 2.503 2.017 2.641l.021.049h4.954v-1.571s-1.294-3.05-5.546-3.05zM9.41 13.78H6.261v-3.152H4.344v3.152H1.2v1.918h3.144v3.145h1.917v-3.145H9.41V13.78z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        nm = i(448),
        am = { type: "ADD_CONTACT" },
        lm = { type: "NEW_GROUP" },
        om = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.UG = (t, e) => {
                var i = (0, B.g)(t),
                  r = e.filter((t) => {
                    switch (t.type) {
                      case "ADD_CONTACT":
                      case "NEW_GROUP":
                      case "CONTACTS_HELP":
                        return !1;
                      default:
                        return (0, B.a)(
                          (0, c.c)(t.jid, this.props.contacts),
                          i
                        );
                    }
                  });
                return r.push({ type: "CONTACTS_HELP" }), r;
              }),
              (this.UH = (t, e, i, r) => {
                var n,
                  a,
                  l = 0 === i || r[i - 1].type !== t.type;
                switch (t.type) {
                  case "ADD_CONTACT":
                    n = (0, s.b)(2, hm, { selected: e });
                    break;
                  case "NEW_GROUP":
                    n = (0, s.b)(2, um, { selected: e });
                    break;
                  case "CONTACTS_HELP":
                    n = (0, s.b)(2, nm.a, { selected: e });
                    break;
                  case "CONTACT":
                    var o = this.props,
                      u = o.blocked,
                      h = o.contacts,
                      d = o.isVoipAvailable;
                    n = (0, s.b)(2, cm, {
                      contact: (0, c.c)(t.jid, h),
                      selected: e,
                      isBlocked: Boolean(u[t.jid]),
                      isVoipAvailable: d,
                    });
                    break;
                  case "NON_WA":
                    var v = this.props.contacts;
                    l && (a = (0, s.b)(2, y.g, { text: 500 })),
                      (n = (0, s.b)(2, dm, {
                        contact: (0, c.c)(t.jid, v),
                        selected: e,
                      }));
                    break;
                  default:
                    return (0, m.a)(t.type);
                }
                return a ? (0, s.c)([a, n], 0) : n;
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.items !== t.items ||
                i.contacts !== t.contacts ||
                i.numContacts !== t.numContacts ||
                i.blocked !== t.blocked ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            t.addCancel(),
              t.setRightOptions(() => {
                var t = new K.a();
                t.add(602, () => (0, je.b)(e)),
                  t.add(603, e.syncAllContacts, "interactive"),
                  (0, b.j)(t);
              });
          }
          render() {
            var t = this.props,
              e = t.items,
              i = t.numContacts,
              r =
                0 === e.length ? void 0 : { filter: this.UG, emptyLabel: 601 };
            return (0, s.b)(2, S.a, {
              title: fm(i),
              children: (0, s.b)(2, g.c, {
                items: e,
                keyOf: pm,
                search: r,
                estimatedItemHeight: D.c,
                emptyLabel: 600,
                renderItem: this.UH,
              }),
            });
          }
        },
        um = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("NEW_GROUP_INITIAL", {});
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: 604,
              icon: (0, s.b)(2, sm),
            });
          }
        },
        hm = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              (0, je.b)(e);
            });
          }
          render() {
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: 602,
              icon: (0, s.b)(2, Ln.a),
            });
          }
        },
        cm = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.contact !== t.contact ||
                i.isBlocked !== t.isBlocked ||
                i.isVoipAvailable !== t.isVoipAvailable)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contact,
              s = i.isVoipAvailable,
              n = i.isBlocked;
            t.setCenterLabel(903, () => {
              (0, Et.a)(e, r.jid, "unread");
            }),
              s && t.setOnCall(() => (0, It.a)(r, e, n, "newChat"));
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.contact;
            return (0, s.b)(2, y.f, { contact: i, selected: e });
          }
        },
        dm = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.selected !== t.selected || i.contact !== t.contact)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.contact.phonebookPhone;
            i &&
              t.setCenterLabel(886, () => {
                (0, U.l)(e, i, (0, le.k)(499));
              });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.contact;
            return (0, s.b)(2, y.f, { contact: i, selected: e });
          }
        },
        vm = (0, l.c)((0, d.e)(om), (t) => {
          var e = (0, j.j)(t.contacts),
            i = (0, j.h)(t.contacts),
            r = [];
          return (
            e.length > 0 && r.push(lm),
            e.forEach((t) => {
              r.push({ type: "CONTACT", jid: t.jid });
            }),
            i.forEach((t) => {
              r.push({ type: "NON_WA", jid: t.jid });
            }),
            r.push(am),
            {
              items: r,
              contacts: t.contacts,
              numContacts: e.length,
              blocked: t.blocked,
              isVoipAvailable: t.isVoipAvailable,
            }
          );
        });
      function pm(t) {
        switch (t.type) {
          case "CONTACT":
          case "NON_WA":
            return t.jid;
          default:
            return t.type;
        }
      }
      function fm(t) {
        return (0, s.f)(
          1,
          "span",
          null,
          (0, s.b)(2, o.b, { l10n: [t, 190] }),
          2
        );
      }
      var mm = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.UC = !1),
              (this.UD = (t, e) => {
                switch (t) {
                  case "subject":
                    var i = this.props,
                      r = i.maxSubject,
                      n = i.groupSubject;
                    return (0, s.b)(2, Sm, {
                      selected: e,
                      maxSubject: r,
                      initialSubject: n || "",
                      onChange: (t) => this.setState({ groupSubject: t }),
                      subject: this.state.groupSubject,
                    });
                  case "image":
                    var a = this.state.image;
                    return (0, s.b)(2, ym, {
                      selected: e,
                      initialImage: a,
                      onChange: (t) => this.setState({ image: t }),
                    });
                  case "disappearing-mode":
                    return (0, s.b)(2, xm, {
                      selected: e,
                      expiration: this.state.expiration,
                      onExpirationSelected: this.UE,
                    });
                  default:
                    var l = this.props,
                      o = l.selectedContacts,
                      u = l.contacts,
                      h = (0, s.b)(2, _m, { contacts: u, jid: t, selected: e });
                    return t === o[0]
                      ? (0, s.c)(
                          [(0, s.b)(2, y.g, { text: [o.length, 191] }), h],
                          0
                        )
                      : h;
                }
              }),
              (this.UE = (t) => {
                this.UC && this.setState({ expiration: t });
              }),
              (this.state = {
                groupSubject: t.groupSubject || "",
                image: t.image,
                expiration: t.expiration,
              });
          }
          componentDidMount() {
            (this.UC = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UC = !1), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.selectedContacts,
              s = i.maxSubject,
              n = i.fromScreenId,
              a = this.state,
              l = a.groupSubject,
              o = a.image,
              u = a.expiration,
              h = () => {
                e.updateScreen(n, {
                  type: "NEW_GROUP_INITIAL",
                  props: { selectedContacts: r, groupSubject: l, image: o },
                }),
                  e.goBack();
              };
            t.setLeftLabel(864, h), t.setBack(h);
            var c = l.trim();
            "" !== c &&
              t.setCenterLabel(875, () => {
                (0, Qh.a)(c) > s
                  ? (0, b.e)({ title: 243, text: 458 })
                  : (e.closeAllScreens(),
                    e.createGroup(c, r, o, (0, Ie.D)(), u));
              });
          }
          render() {
            var t = this.props,
              e = t.selectedContacts,
              i = t.items;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: [e.length, 192] }),
              children: (0, s.b)(2, g.c, {
                items: i,
                keyOf: wm,
                estimatedItemHeight: D.c,
                renderItem: this.UD,
                deps: [this.state.groupSubject, this.state.image],
              }),
            });
          }
        },
        gm = (0, l.c)((0, d.e)(mm), (t, e, i) => {
          var r = i.selectedContacts,
            s = i.groupSubject,
            n = i.image,
            a = i.fromScreenId,
            l = [];
          return (
            l.push("subject"),
            (0, qn.a)("disappearing_mode") && l.push("disappearing-mode"),
            l.push("image"),
            l.push(...r),
            {
              fromScreenId: a,
              items: l,
              selectedContacts: r,
              groupSubject: s,
              image: n,
              expiration: t.settings.disappearingMsgsDefaultTimer || _e.k,
              maxSubject: t.serverProps.maxSubject,
              contacts: t.contacts,
              backend: e,
            }
          );
        }),
        Sm = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.UF = n.e()), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.initialSubject !== t.initialSubject ||
                i.maxSubject !== t.maxSubject ||
                i.onChange !== t.onChange ||
                i.subject !== t.subject)
            );
          }
          addSoftKeys(t, e) {
            t.setRightIcon(gu, () => {
              mu(e, (t) => {
                var e = this.UF.current;
                e && e.pasteText(t);
              });
            });
          }
          render() {
            var t = this.props;
            return (0, s.b)(2, bv, {
              label: 605,
              value: t.subject,
              selected: t.selected,
              maxLength: t.maxSubject,
              children: (e) =>
                (0, s.b)(
                  2,
                  Su.a,
                  {
                    type: "text",
                    hasFocusPriority: t.selected,
                    placeholder: 606,
                    defaultValue: t.initialSubject,
                    onChange: t.onChange,
                    invalid: e,
                  },
                  null,
                  this.UF
                ),
            });
          }
        },
        ym = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.UC = !1), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.initialImage !== t.initialImage ||
                i.onChange !== t.onChange)
            );
          }
          openPicker(t) {
            t.openScreen("MEDIA_EDITOR", {
              fit: "cover",
              tools: { hasCircleCrop: !0, hasRotation: !0 },
              onComplete: (t) => {
                this.UC &&
                  t &&
                  Cd(t).then((t) => {
                    this.UC && t && this.props.onChange(t);
                  });
              },
            });
          }
          addSoftKeys(t, e) {
            var i = () => {
              this.openPicker(e);
            };
            this.props.initialImage
              ? t.setCenterLabel(896, () => {
                  var t = new K.a();
                  t.add(408, () => {
                    this.UC && this.props.onChange(null);
                  }),
                    t.add(393, i),
                    (0, b.j)(t);
                })
              : t.setCenterLabel(930, i);
          }
          componentDidMount() {
            (this.UC = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UC = !1), super.componentWillUnmount();
          }
          render() {
            var t = this.props.selected,
              e = this.props.initialImage,
              i =
                null != e
                  ? (0, s.b)(2, it.b, { blob: e, className: "TD Fa" })
                  : (0, s.b)(2, as.a, {
                      className: (0, Mt.a)(t && "TF", "TE"),
                    });
            return (0, s.b)(2, y.k, {
              selected: t,
              children: (0, s.f)(
                1,
                "div",
                "TC",
                [i, (0, s.b)(2, o.b, { l10n: 607, className: "TG" })],
                0
              ),
            });
          }
        };
      function _m(t) {
        var e = t.contacts,
          i = t.jid,
          r = t.selected;
        return (0, s.b)(2, y.f, { contact: (0, c.c)(i, e), selected: r });
      }
      var bm = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(865, () => {
              var t = new K.a();
              (0, Ae.d)(this.props.allowedExpirations).forEach((e) => {
                var i = (0, s.b)(2, We.b, { value: e });
                t.add(
                  () => i,
                  () => this.props.onExpirationSelected(e)
                );
              }),
                (0, b.j)(t);
            });
          }
          render() {
            var t = this.props,
              e = t.expiration,
              i = t.selected;
            return (0, We.e)({ expiration: e, selected: i, status: null });
          }
        },
        xm = (0, l.c)(bm, (t, e, i) => {
          var r = t.serverProps;
          return {
            selected: i.selected,
            expiration: i.expiration,
            onExpirationSelected: i.onExpirationSelected,
            allowedExpirations: r.ephemeralMessagesAllowedValues,
          };
        });
      function wm(t) {
        return t;
      }
      var Om = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.UA = (t) => {
                var e = this.props,
                  i = e.groupSubject,
                  r = e.image;
                this.props.backend.openScreen("NEW_GROUP_EDIT", {
                  fromScreenId: this.props.screenId,
                  selectedContacts: t,
                  groupSubject: i,
                  image: r,
                });
              }),
              (this.UB = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 193] })
                  : (0, s.b)(2, o.b, { l10n: 604 })),
              t
            );
          }
          render() {
            var t = this.props.selectedContacts;
            return (0, s.b)(2, J, {
              defaultSelectedContacts: t ? new Set(t) : void 0,
              renderTitle: this.UB,
              done: 899,
              onDone: this.UA,
              allowUnchanged: !0,
            });
          }
        },
        km = (0, l.j)(Om),
        Cm = ["description", "all", "older_than_1_week"],
        Nm = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t) {}
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Sp", this.props.selected && "Sq"),
              (0, s.b)(2, o.b, { l10n: 645 }),
              2
            );
          }
        },
        Im = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(646, () => {
              e.deleteAllMediaAndReload();
            });
          }
          render() {
            return (0, s.b)(2, y.k, {
              selected: this.props.selected,
              children: (0, s.b)(2, o.b, { l10n: 647 }),
            });
          }
        },
        Em = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(646, () => {
              e.deleteAllMediaAndReload((0, Ie.w)(Ie.f));
            });
          }
          render() {
            return (0, s.b)(2, y.k, {
              selected: this.props.selected,
              children: (0, s.b)(2, o.b, { l10n: 648 }),
            });
          }
        },
        Tm = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ty = (t, e) => {
                switch (t) {
                  case "description":
                    return (0, s.b)(2, Nm, { selected: e });
                  case "all":
                    return (0, s.b)(2, Im, { selected: e });
                  case "older_than_1_week":
                    return (0, s.b)(2, Em, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            return !1;
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 649 }),
              children: (0, s.b)(2, g.a, {
                items: Cm,
                className: "So",
                keyOf: Lm,
                renderItem: this.Ty,
              }),
            });
          }
        },
        Mm = (0, d.e)(Tm);
      function Lm(t) {
        return t;
      }
      var Am = "Tv CC";
      function Um(t) {
        switch (t) {
          case "contacts":
            return 806;
          case "none":
            return 810;
          case "match_last_seen":
            return 809;
          case "contact_blacklist":
            return 801;
          default:
            return 808;
        }
      }
      function Rm(t, e, i, r, s) {
        function n(n) {
          var a = {};
          (a[e] = n),
            "groupAdd" !== e || "none" !== r
              ? t
                  .updateGeneralSettings(a)
                  .then((t) => ("ok" === t.status && s ? s() : void 0))
              : (0, b.f)({
                  text: 811,
                  onCancel: () => {
                    Rm(t, e, i, r);
                  },
                  onConfirm: () => {
                    t.updateGeneralSettings(a).then((t) =>
                      "ok" === t.status && s ? s() : void 0
                    );
                  },
                });
        }
        (function (t, e, i, r) {
          var s = new K.a(e),
            n = r.onAllSelect,
            a = r.onContactsSelect,
            l = r.onContactsBlacklistSelect,
            o = r.onContactsNobodySelect;
          s.addRadioEntry(Um("all"), "all" === i, n, "all" === i),
            s.addRadioEntry(
              Um("contacts"),
              "contacts" === i,
              a,
              "contacts" === i
            ),
            ("groupAdd" === t || (0, qn.a)("privacy_allow_contacts_except")) &&
              s.addRadioEntry(
                Um("contact_blacklist"),
                "contact_blacklist" === i,
                l,
                "contact_blacklist" === i
              ),
            null != o
              ? s.addRadioEntry(Um("none"), "none" === i, o, "none" === i)
              : "none" === i &&
                s.addRadioEntry(Um("none"), !0, () => {}, !0, !0),
            (0, b.j)(s);
        })(e, i, r, {
          onAllSelect: () => {
            n("all");
          },
          onContactsSelect: () => {
            n("contacts");
          },
          onContactsBlacklistSelect: () => {
            t.openPrivacyAddBlacklistScreen(e);
          },
          onContactsNobodySelect:
            "groupAdd" !== e
              ? () => {
                  n("none");
                }
              : void 0,
        });
      }
      var Pm = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.selected !== t.selected ||
              i.title !== t.title ||
              i.subtitle !== t.subtitle ||
              i.loading !== t.loading ||
              i.error !== t.error ||
              i.privacyMenu !== t.privacyMenu)
          );
        }
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.privacyMenu,
            s = i.loading,
            n = i.error;
          s
            ? t.setFull(894)
            : n
            ? t.setCenterLabel(885, () => {
                Fm();
              })
            : t.setCenterLabel(930, () => {
                r();
              });
        }
        render() {
          var t,
            e = this.props,
            i = e.selected,
            r = e.title,
            n = e.subtitle,
            a = e.loading,
            l = e.error;
          return (
            (t =
              a || l
                ? u.b
                : "function" == typeof n
                ? n()
                : (0, s.b)(2, o.b, { l10n: n })),
            (0, s.b)(2, y.a, {
              title: r,
              rawSubtitle: t,
              rightComponent: Gm({ selected: i, loading: a, error: l }),
              selected: i,
              borderBottom: !0,
            })
          );
        }
      };
      function Gm(t) {
        var e = t.selected,
          i = t.loading;
        return t.error
          ? null
          : i
          ? (0, s.b)(2, ss.a, { className: (0, Mt.a)("Tw", e && "Tx") })
          : (0, s.b)(2, w.a, { className: (0, Mt.a)(Am, e && "Tx") });
      }
      function Fm(t) {
        (0, b.e)({ text: 816 });
      }
      var Dm = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.VP = (t, e) => {
                var i = new K.a(1015);
                i.addNamed("contacts", 992, () => {
                  "contacts" !== e.type &&
                    t.setStatusSettings({ type: "contacts" });
                }),
                  i.addNamed("blacklist", 990, () => {
                    t.openScreen("STATUS_BLOCKLIST", { settings: e });
                  }),
                  i.addNamed("whitelist", 995, () => {
                    t.openScreen("STATUS_WHITELIST", { settings: e });
                  }),
                  i.setDefault(e.type),
                  (0, b.j)(i);
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.title !== t.title ||
                i.settings !== t.settings)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.settings;
            i &&
              t.setCenterLabel(930, () => {
                this.VP(e, i);
              });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.title,
              r = t.settings;
            return (0, s.b)(2, y.a, {
              title: i,
              rawSubtitle: r ? (0, s.b)(2, o.b, { l10n: (0, Zh.h)(r) }) : u.b,
              rightComponent: r && (0, s.b)(2, w.a, { className: Am }),
              selected: e,
              borderBottom: !0,
            });
          }
        },
        zm = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.To = !1),
              (this.state = { loading: !0, error: !1 }),
              (this.Tp = () => {
                var t = this.props,
                  e = t.lastSeen;
                Rm(t.backend, "lastSeen", 820, e);
              }),
              (this.Tq = () => {
                var t = this.props,
                  e = t.profilePhoto;
                Rm(t.backend, "profilePhoto", 823, e);
              }),
              (this.Tr = () => {
                var t = this.props,
                  e = t.about;
                Rm(t.backend, "about", 814, e);
              }),
              (this.Ts = () => {
                var t = this.props,
                  e = t.groupAdd;
                Rm(t.backend, "groupAdd", 819, e);
              }),
              (this.Tt = (t) => {
                this.props.backend.updateGeneralSettings({ readReceipts: t });
              }),
              (this.Tu = () => {
                var t = this.state,
                  e = t.error,
                  i = t.loading;
                this.props.backend.openScreen(
                  "DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS",
                  { offline: e || i, entryPoint: "account-settings" }
                );
              }),
              (this.Tv = () => {
                var t = this.state,
                  e = t.error,
                  i = t.loading;
                this.props.backend.openScreen("BLOCKED_CONTACTS", {
                  offline: e || i,
                });
              }),
              (this.Tw = () => {
                var t, e, i;
                (t = this.props.backend),
                  (e = this.props.online),
                  (i = new K.a(823)),
                  ["all", "match_last_seen"].forEach((r) => {
                    var s = e === r;
                    i.addRadioEntry(
                      Um(r),
                      s,
                      () => {
                        var e = { online: r };
                        t.updateGeneralSettings(e).then((t) => {
                          t.status;
                        });
                      },
                      s
                    );
                  }),
                  (0, b.j)(i);
              }),
              (this.Tx = (t, e) => {
                var i = this.props,
                  r = i.blocked,
                  n = i.lastSeen,
                  a = i.lastSeenBlacklistCount,
                  l = i.online,
                  o = i.profilePhoto,
                  u = i.profilePhotoBlacklistCount,
                  h = i.about,
                  c = i.aboutBlacklistCount,
                  d = i.groupAdd,
                  v = i.groupAddBlacklistCount,
                  p = i.readReceipts,
                  f = i.status,
                  g = this.state,
                  S = g.loading,
                  _ = g.error;
                switch (t) {
                  case "lastSeen":
                    return (0, s.c)(
                      [
                        (0, s.b)(2, Pm, {
                          selected: e,
                          title: 820,
                          loading: S,
                          error: _,
                          subtitle: jm(n, a),
                          privacyMenu: this.Tp,
                        }),
                        (0, s.b)(2, y.n, { text: 821 }),
                      ],
                      4
                    );
                  case "online":
                    var b;
                    return (
                      (b = "all" === l ? Um("all") : jm(n, a)),
                      (0, s.b)(2, Pm, {
                        selected: e,
                        title: 822,
                        loading: S,
                        error: _,
                        subtitle: b,
                        privacyMenu: this.Tw,
                      })
                    );
                  case "profilePhoto":
                    return (0, s.b)(2, Pm, {
                      selected: e,
                      title: 823,
                      loading: S,
                      error: _,
                      subtitle: jm(o, u),
                      privacyMenu: this.Tq,
                    });
                  case "about":
                    return (0, s.b)(2, Pm, {
                      selected: e,
                      title: 814,
                      loading: S,
                      error: _,
                      subtitle: jm(h, c),
                      privacyMenu: this.Tr,
                    });
                  case "groupAdd":
                    return (0, s.c)(
                      [
                        (0, s.b)(2, Pm, {
                          selected: e,
                          title: 817,
                          loading: S,
                          error: _,
                          subtitle: jm(d, v),
                          privacyMenu: this.Ts,
                        }),
                        (0, s.b)(2, y.n, { text: 818 }),
                      ],
                      4
                    );
                  case "status":
                    return (0, s.c)(
                      [
                        (0, s.b)(2, Dm, {
                          selected: e,
                          title: 994,
                          settings: f,
                        }),
                        (0, s.b)(2, y.n, { text: 993 }),
                      ],
                      4
                    );
                  case "blocked":
                    return (0, s.b)(2, Pm, {
                      selected: e,
                      title: 803,
                      subtitle: r > 0 ? [r, 246] : 812,
                      privacyMenu: this.Tv,
                      loading: !1,
                      error: !1,
                    });
                  case "readReceipts":
                    return (0, s.b)(2, Bm, {
                      selected: e,
                      loading: S,
                      error: _,
                      readReceipts: p,
                      setReadReceipts: this.Tt,
                    });
                  case "disappearingMode":
                    return (0, s.c)(
                      [
                        (0, s.b)(2, y.g, { text: 245 }),
                        (0, s.b)(2, Pm, {
                          selected: e,
                          title: 249,
                          loading: S,
                          error: _,
                          subtitle: () =>
                            (0, s.b)(2, We.b, {
                              value: this.props.disappearingMode,
                            }),
                          privacyMenu: this.Tu,
                        }),
                        (0, s.b)(2, y.n, { text: 250 }),
                        (0, s.b)(2, y.g),
                      ],
                      4
                    );
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          componentDidMount() {
            (this.To = !0),
              this.props.backend.getPrivacySettings().then((t) => {
                var e = "network_error" === t.status;
                this.To &&
                  (this.setState({ loading: !1, error: e }),
                  e && Fm(this.props.backend));
              }),
              this.props.status ||
                this.props.backend.loadStatusPrivacySettings();
          }
          componentWillUnmount() {
            this.To = !1;
          }
          renderTitle() {
            return (0, s.b)(2, o.b, { l10n: 686 });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: this.renderTitle(),
              children: (0, s.b)(2, g.a, {
                items: this.props.items,
                keyOf: Km,
                start: this.props.start,
                renderItem: this.Tx,
              }),
            });
          }
        },
        Vm = (0, l.f)(
          (0, d.e)(zm),
          (t, e) => {
            var i = e.start,
              r = t.settings;
            return r
              ? {
                  start: i ? { item: i, scrollFromTop: "start" } : void 0,
                  serverProps: t.serverProps,
                  blocked: Object.keys(t.blocked).length,
                  contacts: t.contacts,
                  settings: r,
                  status: t.status.settings,
                }
              : null;
          },
          (t, e) => {
            var i,
              r,
              s,
              n,
              a = t.start,
              l = t.serverProps,
              o = t.settings,
              u = t.blocked,
              h = t.status,
              c = [];
            return (
              c.push("lastSeen"),
              (0, qn.a)("trusted_contacts_op") && c.push("online"),
              c.push("profilePhoto"),
              c.push("about"),
              0 !== l.groupJoinPermissions && c.push("groupAdd"),
              c.push("status"),
              c.push("readReceipts"),
              (0, qn.a)("disappearing_mode") && c.push("disappearingMode"),
              c.push("blocked"),
              {
                items: c,
                start: a,
                backend: e,
                blocked: u,
                groupAddBlacklistCount:
                  (null == (i = o.groupAddBlacklist) ? void 0 : i.length) || 0,
                groupAdd: o.groupAdd,
                lastSeen: o.lastSeen,
                lastSeenBlacklistCount:
                  (null == (r = o.lastSeenBlacklist) ? void 0 : r.length) || 0,
                about: o.about,
                aboutBlacklistCount:
                  (null == (s = o.aboutBlacklist) ? void 0 : s.length) || 0,
                online: o.online,
                profilePhoto: o.profilePhoto,
                profilePhotoBlacklistCount:
                  (null == (n = o.profilePhotoBlacklist) ? void 0 : n.length) ||
                  0,
                status: h,
                readReceipts: "all" === o.readReceipts,
                disappearingMode: o.disappearingMsgsDefaultTimer || _e.k,
              }
            );
          }
        );
      function Km(t) {
        return t;
      }
      function jm(t, e) {
        return "contact_blacklist" === t ? (0 === e ? 806 : [e, 245]) : Um(t);
      }
      var Bm = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.loading !== t.loading ||
                i.error !== t.error ||
                i.readReceipts !== t.readReceipts ||
                i.setReadReceipts !== t.setReadReceipts)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.loading,
              s = i.error,
              n = i.readReceipts,
              a = i.setReadReceipts;
            r
              ? t.setFull(894)
              : s
              ? t.setCenterLabel(885, () => {
                  Fm();
                })
              : n
              ? t.setCenterLabel(874, () => {
                  a("none");
                })
              : t.setCenterLabel(878, () => {
                  a("all");
                });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.loading,
              r = t.error,
              n = t.readReceipts,
              a =
                i || r
                  ? (0, s.b)(2, y.a, {
                      title: 826,
                      rightComponent: u.b,
                      selected: e,
                    })
                  : (0, s.b)(2, y.d, { title: 826, selected: e, checked: n });
            return (0, s.c)([a, (0, s.b)(2, y.n, { text: 827 })], 0);
          }
        },
        Wm = i(556),
        Hm = i(581),
        Jm = i(200),
        $m = i(270),
        Ym = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.TT = () => {
                var t = this.props.modal;
                WAM.log("regular", 2472, void 0, [
                  1,
                  0,
                  t.id,
                  2,
                  0,
                  t.version,
                  3,
                  0,
                  5,
                ]);
              }),
              (this.TS = (t) => {
                (0, Jm.d)(t), t.goBack();
                var e = this.props.modal;
                WAM.log("regular", 2472, void 0, [
                  1,
                  0,
                  e.id,
                  2,
                  0,
                  e.version,
                  3,
                  0,
                  4,
                ]);
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.modal !== t.modal;
          }
          componentDidMount() {
            var t = this.props,
              e = t.backend,
              i = t.modal;
            (0, $m.b)(e, i), super.componentDidMount();
          }
          addSoftKeys(t) {
            var e = this.props.modal;
            t.setBack(this.TS),
              t.setLeftLabel(861, this.TS),
              t.dangerouslySetCenterRawString(e.content.acceptLabel, (t) => {
                (0, Jm.d)(t),
                  t.goBack(),
                  (0, Jm.c)(t, e.id, e.version, "deep-link-modal");
              });
          }
          render() {
            var t = this.props.modal,
              e = t.content,
              i = t.direction;
            return (0, s.b)(2, Hm.a, {
              content: e,
              direction: i,
              onLinkOpen: this.TT,
            });
          }
        },
        qm = (0, l.j)((0, d.e)(Ym)),
        Xm = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, { d: "M17 3h-3v3h3V3z" }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M13 0a2 2 0 00-2 2v5a2 2 0 002 2h5a2 2 0 002-2V2a2 2 0 00-2-2h-5zm0 2v5h5V2h-5z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, { d: "M6 14H3v3h3v-3z" }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M0 13a2 2 0 012-2h5a2 2 0 012 2v5a2 2 0 01-2 2H2a2 2 0 01-2-2v-5zm2 0v5h5v-5H2z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, { d: "M3 3h3v3H3V3z" }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M2 0a2 2 0 00-2 2v5a2 2 0 002 2h5a2 2 0 002-2V2a2 2 0 00-2-2H2zm0 7V2h5v5H2z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M12 11a1 1 0 100 2h7a1 1 0 100-2h-7zm3 3a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1v-1a1 1 0 00-1-1h-1zm2 4a1 1 0 011-1h1a1 1 0 011 1v1a1 1 0 01-1 1h-1a1 1 0 01-1-1v-1zm-5-1a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1v-1a1 1 0 00-1-1h-1z",
              }),
            ],
            4,
            { viewBox: "0 0 20 20" }
          );
        },
        Qm = "TQ",
        Zm = "TS Fa",
        tg = "TU FY FU",
        eg = "TV";
      function ig(t, e, i, r) {
        var s;
        (s =
          e.includes("name") && e.includes("about")
            ? 687
            : e.includes("name")
            ? 689
            : 688),
          (0, b.g)({
            title: 690,
            text: s,
            left: 876,
            onSoftLeft: i,
            right: 928,
            onSoftRight: r,
          });
      }
      function rg(t, e, i) {
        var r = (0, Qh.a)(e);
        r > _e.x
          ? (0, b.e)({ title: 243, text: 1 })
          : 0 === r
          ? (0, b.e)({ title: 243, text: 0 })
          : (t.setAbout(e), i());
      }
      var sg = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.selected !== t.selected ||
                  i.softKeyData !== t.softKeyData ||
                  i.setAboutJob !== t.setAboutJob ||
                  i.about !== t.about)) ||
              (r !== e && (r.editing !== e.editing || r.about !== e.about))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.TU = n.e()),
              (this.TV = (t, e) => {
                var i,
                  r = t.error.reason;
                switch (r) {
                  case "bad-request":
                  case "server-error":
                  case "unknown":
                    i = 799;
                    break;
                  default:
                    return (0, m.a)(r);
                }
                (0, b.f)({
                  title: 243,
                  text: i,
                  confirm: 902,
                  onConfirm: () => {
                    (0, Md.b)(e, this.props.setAboutJob);
                  },
                });
              }),
              (this.TX = (t) => {
                var e = this.TZ();
                e === this.props.about
                  ? (this.TY(null), this.setState({ editing: !1 }))
                  : rg(t, e, () => {
                      this.TY(null), this.setState({ editing: !1 });
                    });
              }),
              (this.TW = (t) => {
                this.Ta() !== this.TZ()
                  ? ig(
                      0,
                      ["about"],
                      () => {
                        this.TY(null),
                          this.setState({
                            about: this.props.about,
                            editing: !1,
                          });
                      },
                      () => this.TX(t)
                    )
                  : this.setState({ about: this.props.about, editing: !1 });
              }),
              (this.Tb = (t) => {
                this.TY(t), this.setState((e) => ({ about: t }));
              }),
              (this.Ta = () => this.props.about || (0, le.k)(157)),
              (this.TZ = () => this.state.about.trim()),
              (this.state = { about: t.about, editing: !1 });
          }
          addSoftKeys(t, e) {
            var i = this.props.setAboutJob;
            if (i) {
              var r = (0, ve.d)(i);
              if (null != r)
                return void t.setCenterLabel(885, () => {
                  this.TV(r, e);
                });
              if ((0, ve.f)(i)) return;
            }
            this.state.editing
              ? (t.setLeftLabel(864, () => {
                  this.TW(e);
                }),
                t.setCenterLabel(928, this.TX),
                t.setRightIcon(gu, () => {
                  mu(e, (t) => {
                    var e = this.TU.current;
                    e && e.pasteText(t);
                  });
                }))
              : t.setCenterLabel(877, () => this.setState({ editing: !0 }));
          }
          TY(t) {
            if (null == t)
              this.props.softKeyData.setData("aboutIsDirty", !1),
                this.props.softKeyData.setData("about", void 0);
            else {
              var e = t.trim() !== this.props.about;
              this.props.softKeyData.setData("aboutIsDirty", e),
                this.props.softKeyData.setData("about", t);
            }
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.setAboutJob;
            if (this.state.editing)
              return (0, s.b)(2, bv, {
                label: 691,
                value: this.TZ(),
                maxLength: _e.x,
                selected: e,
                children: (t) =>
                  (0, s.b)(
                    2,
                    Su.a,
                    {
                      type: "text",
                      hasFocusPriority: e,
                      placeholder: 691,
                      defaultValue: this.Ta(),
                      onChange: this.Tb,
                      invalid: t,
                    },
                    null,
                    this.TU
                  ),
              });
            var r,
              n = i ? i.jobIn.content : this.TZ();
            if (i) {
              var a = (0, ve.f)(i),
                l = null != (0, ve.d)(i);
              a
                ? (r = (0, s.b)(2, ss.a, { className: eg }))
                : l && (r = (0, s.b)(2, vl.a, { className: "TW" }));
            }
            var o = i ? i.jobIn.content : this.Ta();
            return (0, s.b)(2, bv, {
              label: 691,
              value: n,
              maxLength: _e.x,
              selected: e,
              showCounterThreshold: -1,
              children: (t) =>
                (0, s.c)([(0, s.f)(1, "span", tg, (0, h.b)(o), 0), r], 0),
            });
          }
        },
        ng = (0, l.c)(sg, (t, e, i) => {
          var r = i.selected,
            s = i.softKeyData,
            n = (0, ve.h)(t, "setAbout", Oe.g.setAbout());
          return {
            selected: r,
            softKeyData: s,
            about: t.user.about || "",
            setAboutJob: n,
          };
        }),
        ag = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t) {
            t.setCenterLabel(195, () => {
              Fe((0, ye.d)(Zu.t.get()));
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.i, {
              label: 693,
              selected: t,
              children: (0, s.f)(
                1,
                "div",
                (0, Mt.a)("TT FV FS FY FU", t && Qm),
                (0, s.b)(2, xe.a, { jid: Zu.t.get() }),
                2
              ),
            });
          }
        };
      function lg(t, e, i) {
        var r = (0, Qh.a)(e);
        0 === r
          ? (0, b.e)({ title: 243, text: 696 })
          : r > _e.D
          ? (0, b.e)({ title: 243, text: 697 })
          : (t.setProfileName(e), i());
      }
      var og = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.selected !== t.selected ||
                  i.softKeyData !== t.softKeyData ||
                  i.defaultName !== t.defaultName ||
                  i.setProfileNameJob !== t.setProfileNameJob)) ||
              (r !== e && (r.editing !== e.editing || r.name !== e.name))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.TU = n.e()),
              (this.Td = (t) => {
                this.Tc(t), this.setState({ name: t });
              }),
              (this.TX = (t) => {
                var e = this.state.name.trim();
                e === this.props.defaultName
                  ? (this.Tc(null), this.setState({ editing: !1 }))
                  : lg(t, e, () => {
                      this.Tc(null), this.setState({ editing: !1 });
                    });
              }),
              (this.TW = (t) => {
                this.props.defaultName !== this.state.name.trim()
                  ? ig(
                      0,
                      ["name"],
                      () => {
                        this.Tc(null),
                          this.setState({
                            editing: !1,
                            name: this.props.defaultName,
                          });
                      },
                      () => this.TX(t)
                    )
                  : this.setState({ editing: !1 });
              }),
              (this.state = { name: t.defaultName, editing: !1 });
          }
          Tc(t) {
            if (null == t)
              this.props.softKeyData.setData("pushnameIsDirty", !1),
                this.props.softKeyData.setData("pushname", void 0);
            else {
              var e = t.trim() !== this.props.defaultName;
              this.props.softKeyData.setData("pushnameIsDirty", e),
                this.props.softKeyData.setData("pushname", t);
            }
          }
          addSoftKeys(t, e) {
            if (!(0, ve.f)(this.props.setProfileNameJob))
              if (this.state.editing) {
                var i = this.state.name.trim();
                t.setLeftLabel(864, () => this.TW(e)),
                  "" !== i && t.setCenterLabel(928, this.TX),
                  t.setRightIcon(gu, () => {
                    mu(e, (t) => {
                      var e = this.TU.current;
                      e && e.pasteText(t);
                    });
                  });
              } else
                t.setCenterLabel(877, () => this.setState({ editing: !0 }));
          }
          render() {
            var t,
              e = this.props,
              i = e.defaultName,
              r = e.selected,
              n = e.setProfileNameJob;
            return this.state.editing
              ? (0, s.b)(2, bv, {
                  label: 692,
                  value: this.state.name,
                  maxLength: _e.D,
                  selected: r,
                  children: (t) =>
                    (0, s.b)(
                      2,
                      Su.a,
                      {
                        type: "text",
                        hasFocusPriority: r,
                        placeholder: 692,
                        defaultValue: i,
                        onChange: this.Td,
                        invalid: t,
                      },
                      null,
                      this.TU
                    ),
                })
              : ((0, ve.f)(n) && (t = (0, s.b)(2, ss.a, { className: eg })),
                (0, s.b)(2, bv, {
                  label: 692,
                  value: this.state.name,
                  maxLength: _e.D,
                  selected: r,
                  showCounterThreshold: -1,
                  children: (e) =>
                    (0, s.c)([(0, s.f)(1, "span", tg, (0, h.b)(i), 0), t], 0),
                }));
          }
        },
        ug = (0, l.c)(og, (t, e, i) => {
          var r = i.selected,
            s = i.softKeyData,
            n = (0, ve.h)(t, "setProfileName", Oe.g.setProfileName());
          return {
            defaultName: t.user.pushname,
            softKeyData: s,
            selected: r,
            setProfileNameJob: n,
          };
        }),
        hg = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Te = !1),
              (this.state = { picture: void 0 }),
              (this.Tf = (t) => {
                var e = this.props.setProfilePictureJob,
                  i = (0, ve.d)(e);
                if (e && i) {
                  var r,
                    s = i.error.reason;
                  switch (s) {
                    case "bad-size-or-format":
                      r = 700;
                      break;
                    case "disconnected":
                      r = 701;
                      break;
                    case "bad-request":
                    case "not-yourself":
                    case "server-error":
                    case "unknown":
                      r = 702;
                      break;
                    default:
                      return (0, m.a)(s);
                  }
                  (0, b.f)({
                    text: r,
                    confirm: 902,
                    onConfirm: () => {
                      (0, Md.b)(t, e);
                    },
                  });
                } else
                  __LOG__(
                    3
                  )`showPictureErrorDialog was called without a job result`;
              }),
              (this.Tg = (t) => {
                (0, b.e)({ title: 243, text: 824 });
              }),
              (this.Th = (t) => {
                this.props.connected ? t.removeProfilePicture() : this.Tg(t);
              }),
              (this.Ti = (t, e) => {
                var i = new K.a(896);
                i.addEntry(945, () => {
                  this.Tj(t, e);
                }),
                  i.addEntry(877, () => {
                    this.Tk(t);
                  }),
                  i.addEntry(905, () => {
                    this.setState({ picture: "removed" }, () => {
                      this.Th(t);
                    });
                  }),
                  (0, b.j)(i);
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.selected !== t.selected ||
                  i.onPhotoSelected !== t.onPhotoSelected ||
                  i.selfJid !== t.selfJid ||
                  i.hasProfilePicture !== t.hasProfilePicture ||
                  i.setProfilePictureJob !== t.setProfilePictureJob ||
                  i.connected !== t.connected)) ||
              (r !== e && r.picture !== e.picture)
            );
          }
          componentDidMount() {
            (this.Te = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Te = !1), super.componentWillUnmount();
          }
          Tk(t) {
            this.props.connected
              ? t.openScreen("MEDIA_EDITOR", {
                  fit: "cover",
                  tools: { hasCircleCrop: !0, hasRotation: !0 },
                  onComplete: (e) => {
                    this.Te &&
                      e &&
                      Cd(e).then((e) => {
                        this.Te &&
                          e &&
                          this.setState({ picture: e }, () => {
                            t.setProfilePicture(e).then((t) => {
                              var e, i;
                              this.Te &&
                                null == (null == t ? void 0 : t.error) &&
                                (null ==
                                  (e = (i = this.props).onPhotoSelected) ||
                                  e.call(i));
                            });
                          });
                      });
                  },
                })
              : this.Tg(t);
          }
          Tj(t, e) {
            "avatar" === e
              ? t.openAvatarView(this.props.selfJid)
              : t.openScreen("IMAGE_VIEW", { src: { blob: e } });
          }
          addSoftKeys(t, e) {
            var i = this.props.setProfilePictureJob,
              r = (0, ve.f)(i),
              s = null != (0, ve.d)(i);
            if (r || s)
              s &&
                t.setCenterLabel(885, () => {
                  this.Tf(e);
                });
            else {
              var n = this.state.picture,
                a = this.props.hasProfilePicture ? "avatar" : null,
                l = n || a || "removed";
              "removed" !== l
                ? t.setCenterLabel(896, () => {
                    this.Ti(e, l);
                  })
                : t.setCenterLabel(857, () => {
                    this.Tk(e);
                  });
            }
          }
          render() {
            var t,
              e,
              i = this.props,
              r = i.setProfilePictureJob,
              n = i.selected;
            if (r) {
              var a = (0, ve.f)(r),
                l = null != (0, ve.d)(r);
              (a || l) &&
                ((t =
                  null == r.jobIn.picture
                    ? (0, s.b)(2, vt.c, {
                        jid: this.props.selfJid,
                        className: Zm,
                      })
                    : (0, s.b)(2, it.b, {
                        blob: r.jobIn.picture,
                        className: Zm,
                      })),
                a
                  ? (e = (0, s.b)(2, ss.a, { className: eg }))
                  : l && (e = (0, s.b)(2, vl.a, { className: "TW" })));
            }
            if (!t) {
              var u = this.state.picture;
              t =
                null != u && "removed" !== u
                  ? (0, s.b)(2, it.b, { blob: u, className: Zm })
                  : (0, s.b)(2, vt.c, {
                      jid: this.props.selfJid,
                      className: Zm,
                    });
            }
            return (0, s.b)(2, y.l, {
              selected: n,
              className: (0, Mt.a)("TP", n && Qm),
              children: [
                t,
                (0, s.b)(2, o.b, { l10n: 694, className: "TR" }),
                e,
              ],
            });
          }
        },
        cg = (0, l.c)(hg, (t, e, i) => {
          var r = i.selected,
            s = i.onPhotoSelected,
            n = (0, ve.h)(t, "setProfilePicture", Oe.g.setProfilePicture()),
            a = t.user.jid;
          return {
            selected: r,
            onPhotoSelected: s,
            hasProfilePicture: (0, rt.i)(a, t.avatars),
            selfJid: a,
            setProfilePictureJob: n,
            connected: t.connected,
          };
        }),
        dg = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(589, () => {
              e.openScreen("MY_QR_CODE");
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.l, {
              selected: t,
              className: (0, Mt.a)("TP", t && Qm),
              children: [
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("TY", t && Qm),
                  (0, s.b)(2, Xm, { className: (0, Mt.a)("TX", t && Qm) }),
                  2
                ),
                (0, s.b)(2, o.b, { l10n: 588 }),
              ],
            });
          }
        },
        vg = ["picture", "name", "number", "about", "qr"],
        pg = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Tm = () => (0, s.b)(2, o.b, { l10n: 704 })),
              (this.Tn = (t, e) => {
                switch (t) {
                  case "picture":
                    return (0, s.b)(2, cg, { selected: e });
                  case "name":
                    return (0, s.b)(2, ug, {
                      selected: e,
                      softKeyData: this.Tl,
                    });
                  case "number":
                    return (0, s.b)(2, ag, { selected: e });
                  case "about":
                    return (0, s.b)(2, ng, {
                      selected: e,
                      softKeyData: this.Tl,
                    });
                  case "qr":
                    return (0, s.b)(2, dg, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              (this.Tl = new d.d({}));
          }
          addSoftKeys(t, e) {
            t.addData(this.Tl, (i) => {
              if (i.aboutIsDirty || i.pushnameIsDirty) {
                var r = [];
                i.aboutIsDirty && r.push("about"),
                  i.pushnameIsDirty && r.push("name"),
                  t.setBack(() => {
                    ig(
                      0,
                      r,
                      () => {
                        e.goBack();
                      },
                      () => {
                        i.aboutIsDirty &&
                          null != i.about &&
                          rg(e, i.about, () => {
                            e.goBack();
                          }),
                          i.pushnameIsDirty &&
                            null != i.pushname &&
                            lg(e, i.pushname, () => {
                              e.goBack();
                            });
                      }
                    );
                  });
              }
            });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: this.Tm(),
              children: (0, s.b)(2, g.a, {
                items: vg,
                keyOf: mg,
                renderItem: this.Tn,
              }),
            });
          }
        },
        fg = (0, d.e)(pg);
      function mg(t) {
        return t;
      }
      var gg = [
          "262",
          "30",
          "31",
          "32",
          "33",
          "34",
          "351",
          "352",
          "353",
          "354",
          "356",
          "357",
          "358",
          "359",
          "36",
          "370",
          "371",
          "372",
          "376",
          "377",
          "378",
          "379",
          "385",
          "386",
          "39",
          "40",
          "41",
          "420",
          "421",
          "423",
          "43",
          "44",
          "45",
          "46",
          "47",
          "48",
          "49",
          "590",
          "594",
          "596",
        ],
        Sg = ["name"],
        yg = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.TO = (t) => {
                this.setState({ name: t.trim() });
              }),
              (this.TP = (t) => {
                var e = this.state.name.trim();
                (0, Qh.a)(e) > _e.D
                  ? (0, b.e)({ title: 243, text: 697 })
                  : t.setProfileName(e);
              }),
              (this.renderItem = (t, e) => {
                switch (t) {
                  case "name":
                    return (0, s.b)(2, xg, {
                      selected: e,
                      name: this.state.name,
                      onNameChange: this.TO,
                    });
                  case "picture":
                    return (0, s.b)(2, cg, { selected: e });
                  case "over16":
                    return (0, s.b)(2, wg, { selected: e });
                  case "whatsappIreland":
                    return (0, s.b)(2, Og, { selected: e });
                  default:
                    return (0, m.a)(t);
                }
              }),
              (this.state = { name: "", orderedItemIds: this.TN() });
          }
          TN() {
            var t,
              e = [...Sg];
            return (
              (t = this.props.jid),
              gg.includes((0, ye.g)(t)) &&
                (e.push("over16"), e.push("whatsappIreland")),
              e
            );
          }
          addSoftKeys(t, e) {
            this.state.name.length > 0 && t.setCenterLabel(928, this.TP);
          }
          TQ() {
            return (0, s.b)(2, o.b, { l10n: 704 });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: this.TQ(),
              children: (0, s.b)(2, g.a, {
                items: this.state.orderedItemIds,
                keyOf: bg,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        _g = (0, l.c)((0, d.e)(yg), (t, e) => ({
          backend: e,
          jid: t.user.jid,
        }));
      function bg(t) {
        return t;
      }
      var xg = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.TR = n.e()), t;
          }
          addSoftKeys(t, e) {
            t.setRightIcon(gu, () => {
              mu(e, (t) => {
                var e = this.TR.current;
                e && e.pasteText(t);
              });
            });
          }
          render() {
            var t = this.props,
              e = t.name,
              i = t.selected,
              r = t.onNameChange;
            return (0, s.b)(2, bv, {
              label: 692,
              value: e,
              maxLength: _e.D,
              selected: i,
              children: (t) =>
                (0, s.b)(
                  2,
                  Su.a,
                  {
                    type: "text",
                    hasFocusPriority: !0,
                    placeholder: 692,
                    onChange: r,
                    invalid: t,
                  },
                  null,
                  this.TR
                ),
            });
          }
        },
        wg = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setRightLabel(891, () => (0, _.E)(e, _.s));
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.o, { text: 330, selected: t });
          }
        },
        Og = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setRightLabel(891, () => (0, _.E)(e, _.t));
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.o, { text: 350, selected: t });
          }
        },
        kg = ["description", "picture", "picturePrivacy"],
        Cg = ["picture", "all", "contacts", "none"],
        Ng = { item: "picture", scrollFromTop: "start" },
        Ig = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = {
                screenType: "photo",
                title: 694,
                privacyWasChanged: !1,
              }),
              (this.TJ = () => {
                this.TI &&
                  (this.state.privacyWasChanged &&
                    this.props.backend.dispatch({
                      type: "PROFILE_PHOTO_SCREEN_CHANGED",
                      profilePhotoScreenState: "inactive",
                    }),
                  this.setState({ screenType: "privacy", title: 699 }));
              }),
              (this.TK = () => {
                this.TI && this.setState({ privacyWasChanged: !0 });
              }),
              (this.TL = (t, e) => {
                switch (t) {
                  case "description":
                    return (0, s.b)(2, Ug, { selected: e });
                  case "picture":
                    return (0, s.b)(2, cg, {
                      selected: e,
                      onPhotoSelected: this.TJ,
                    });
                  case "picturePrivacy":
                    return (0, s.b)(2, Lg, {
                      selected: e,
                      onPrivacySettingChange: this.TK,
                    });
                  default:
                    return (0, s.b)(2, Ag, { selected: e, value: t });
                }
              }),
              t
            );
          }
          componentDidMount() {
            (this.TI = !0),
              Zu.f.set("passed"),
              this.props.backend.dispatch({
                type: "PROFILE_PHOTO_SCREEN_CHANGED",
                profilePhotoScreenState: "active",
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.TI = !1), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            t.setLeftLabel(703, () => {
              e.dispatch({
                type: "PROFILE_PHOTO_SCREEN_CHANGED",
                profilePhotoScreenState: "inactive",
              });
            }),
              t.setBack(() => {
                "privacy" === this.state.screenType
                  ? this.setState({ screenType: "photo", title: 694 })
                  : e.dispatch({
                      type: "PROFILE_PHOTO_SCREEN_CHANGED",
                      profilePhotoScreenState: "inactive",
                    });
              });
          }
          render() {
            var t = "photo" === this.state.screenType ? kg : Cg;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: this.state.title }),
              children: (0, s.b)(2, g.a, {
                start: Ng,
                items: t,
                keyOf: Tg,
                renderItem: this.TL,
              }),
            });
          }
        },
        Eg = (0, l.j)((0, d.e)(Ig));
      function Tg(t) {
        return t;
      }
      var Mg = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.TM = () => {
                var t = this.props;
                Rm(
                  t.backend,
                  "profilePhoto",
                  823,
                  t.profilePhoto,
                  t.onPrivacySettingChange
                );
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.profilePhoto !== t.profilePhoto ||
                i.onPrivacySettingChange !== t.onPrivacySettingChange)
            );
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.profilePhoto;
            return (0, s.b)(2, Pm, {
              selected: e,
              title: 825,
              loading: !1,
              error: !1,
              subtitle: Um(i),
              privacyMenu: this.TM,
            });
          }
        },
        Lg = (0, l.c)(Mg, (t, e, i) => {
          var r = t.settings;
          return {
            selected: i.selected,
            onPrivacySettingChange: i.onPrivacySettingChange,
            profilePhoto: r.profilePhoto,
            backend: e,
          };
        }),
        Ag = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.value !== t.value || i.selected !== t.selected)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.updateGeneralSettings({ profilePhoto: this.props.value }),
                e.dispatch({
                  type: "PROFILE_PHOTO_SCREEN_CHANGED",
                  profilePhotoScreenState: "inactive",
                });
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.value;
            return (0, s.b)(2, y.k, {
              className: "Sr",
              selected: e,
              children: (0, s.b)(2, o.b, { l10n: Um(i) }),
            });
          }
        };
      function Ug(t) {
        var e = t.selected;
        return (0, s.b)(2, y.n, { text: 698, selected: e });
      }
      var Rg = i(311),
        Pg = "Ue",
        Gg = "Uh",
        Fg = class extends d.c {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.selected !== t.selected ||
                  i.gifProvider !== t.gifProvider ||
                  i.content !== t.content ||
                  i.onReachStart !== t.onReachStart ||
                  i.onReachPreviousSide !== t.onReachPreviousSide ||
                  i.onReachNextSide !== t.onReachNextSide ||
                  i.loadGifs !== t.loadGifs ||
                  i.sendGif !== t.sendGif ||
                  i.hideVideos !== t.hideVideos)) ||
              (r !== e &&
                (r.selection !== e.selection || r.direction !== e.direction))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.Um = n.e()),
              (this.Ur = () => {
                var t = this.state.selection;
                "bottomContent" === t.type
                  ? this.Us()
                  : (t.type, this.Ut(this.Ul.previousRow(t.index)));
              }),
              (this.Uu = () => {
                if ("gifs" === this.props.content.type) {
                  var t,
                    e = this.state.selection;
                  "grid" === e.type && (t = this.Ul.nextRow(e.index)),
                    this.Ut(t);
                }
              }),
              (this.Up = () => {
                var t = this.state.selection;
                if ("grid" === t.type) {
                  var e = this.Ul.defaultLeft(t.index);
                  this.Ut(e);
                }
              }),
              (this.Uv = () => {
                var t = this.state.selection;
                if ("grid" === t.type) {
                  var e = this.Ul.defaultRight(t.index);
                  this.Ut(e);
                }
              }),
              (this.Uq = (t) => {
                if (null != t) {
                  var e,
                    i = this.state.direction;
                  (e =
                    "previousRow" === i || "previous" === i ? "start" : "end"),
                    requestAnimationFrame(() => {
                      requestAnimationFrame(() => {
                        (0, de.e)(t, { block: e, behavior: "smooth" });
                      });
                    });
                }
              }),
              (this.Ux = () => {
                var t = this.props.content;
                if ("gifs" === t.type) {
                  var e = t.loadingState;
                  if (null != e && "error" === e.type) {
                    this.Us();
                    var i = Xg(t);
                    null != i && this.props.loadGifs(i, e.fetchPosForError);
                  }
                }
              });
            var i = { length: 0, horizontalRowNavigation: !1 };
            (i.rowLength = ue()),
              (i.onReachEnd = () => {
                this.Un();
              }),
              t.onReachStart && (i.onReachStart = t.onReachStart),
              t.onReachPreviousSide &&
                (i.onReachPreviousSide = t.onReachPreviousSide),
              t.onReachNextSide && (i.onReachNextSide = t.onReachNextSide),
              (this.Ul = new oe(i)),
              (this.state = {
                selection: { type: "grid", index: 0 },
                direction: "nextRow",
              });
          }
          componentDidUpdate(t, e) {
            var i = this.props.content;
            if ("gifs" === i.type) {
              var r = i.gifs.length;
              this.Ul.update({ length: i.gifs.length });
              var s = Xg(i);
              if (null != s && "recents" !== i.source) {
                var n = i.nextFetchPosition,
                  a = i.loadingState;
                null != n &&
                  null == a &&
                  this.Uo() &&
                  (__LOG__(2)`GifGrid: is close to bottom`,
                  this.props.loadGifs(s, n));
              }
              var l = this.state.selection;
              "grid" === l.type &&
                l.index > 0 &&
                r === l.index &&
                (__LOG__(2)`GifGrid: moving to new end`, this.Up());
            } else this.Ul.update({ length: 0 });
            super.componentDidUpdate(t, e);
          }
          Un() {
            var t = this.props.content;
            if ("gifs" === t.type) {
              var e,
                i = this.Um.current;
              i &&
                (this.Uq(i),
                "error" === (null == (e = t.loadingState) ? void 0 : e.type) &&
                  this.setState({ selection: { type: "bottomContent" } }));
            }
          }
          Us() {
            var t = this.props.content;
            if ("gifs" === t.type && t.gifs.length > 0) {
              var e = { index: t.gifs.length - 1, direction: "previousRow" };
              this.Ut(e);
            }
          }
          Ut(t) {
            var e = this.props.content;
            "gifs" === e.type &&
              null != t &&
              t.index < e.gifs.length &&
              this.setState({
                selection: { type: "grid", index: t.index },
                direction: t.direction,
              });
          }
          Uw(t) {
            var e = this.props.content,
              i = this.state.selection,
              r = 0;
            return (
              "grid" === i.type
                ? (r = i.index)
                : "gifs" === e.type &&
                  "bottomContent" === i.type &&
                  (r = e.gifs.length - 1),
              Math.abs(r - t) > 2 * _e.F
            );
          }
          Uo() {
            var t = this.state.selection;
            return (
              "grid" === t.type &&
              this.Ul.indexToRow(t.index) > this.Ul.getNumberOfRows() - 4
            );
          }
          addSoftKeys(t) {
            t.setUpDownArrows(this.Ur, this.Uu),
              "grid" === this.state.selection.type &&
                t.setLeftRightArrows(this.Up, this.Uv);
          }
          Uy(t) {
            return null == t
              ? null
              : "loading" === t.type
              ? (0, s.f)(
                  1,
                  "div",
                  "Ui",
                  (0, s.b)(2, ss.a),
                  2,
                  null,
                  null,
                  this.Um
                )
              : "error" === t.type
              ? (0, s.b)(2, jg, {
                  selected:
                    this.props.selected &&
                    "bottomContent" === this.state.selection.type,
                  retryFunc: this.Ux,
                  innerRef: this.Um,
                })
              : void 0;
          }
          Uz() {
            var t = this.props.content;
            switch (t.type) {
              case "loading":
                return (0, s.f)(1, "div", Gg, (0, s.b)(2, ss.a), 2);
              case "error":
                return (0, s.f)(
                  1,
                  "div",
                  Gg,
                  (0, s.b)(2, o.b, { l10n: 359 }),
                  2
                );
              case "gifs":
                if (0 === t.gifs.length)
                  return (0, s.f)(
                    1,
                    "div",
                    Gg,
                    "favorites" === t.source
                      ? (0, s.b)(2, o.b, { l10n: 357 })
                      : (0, s.b)(2, o.b, { l10n: 258 }),
                    0
                  );
                var e,
                  i = this.props,
                  r = i.selected,
                  n = i.sendGif,
                  a = i.gifProvider,
                  l = this.state.selection,
                  u = (t) => r && "grid" === l.type && t === l.index;
                "remote" === t.source
                  ? (e = t.gifs.map((t, e) => {
                      var i = u(e),
                        r = t.id + t.fetchPosition;
                      return (0, s.f)(
                        1,
                        "div",
                        null,
                        (0, s.b)(2, Dg, {
                          gifProvider: a,
                          gif: t,
                          index: e,
                          selected: i,
                          sendGif: n,
                          isFarAway: this.Uw(e),
                        }),
                        2,
                        null,
                        r,
                        i ? this.Uq : null
                      );
                    }))
                  : (t.source,
                    (e = t.gifs.map((e, i) => {
                      var r = u(i);
                      return (0, s.f)(
                        1,
                        "div",
                        null,
                        (0, s.b)(2, Vg, {
                          source: t.source,
                          gif: e,
                          index: i,
                          selected: r,
                          sendGif: n,
                          hideVideos: this.props.hideVideos,
                          isFarAway: this.Uw(i),
                        }),
                        2,
                        null,
                        e.plaintextHash,
                        r ? this.Uq : null
                      );
                    })));
                var h = this.Uy(t.loadingState);
                return null != h ? (0, s.c)([e, h], 0) : e;
              default:
                return t.type, null;
            }
          }
          render() {
            var t = (0, Mt.a)("Ug", ce(this.Ul.options.rowLength));
            return (0, s.f)(1, "div", t, this.Uz(), 0);
          }
        },
        Dg = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { status: null }),
              (this.onError = () => {
                this.setState({ status: "error" });
              }),
              (this.onLoad = () => {
                this.setState({ status: "loaded" });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.gifProvider !== t.gifProvider ||
                  i.index !== t.index ||
                  i.gif !== t.gif ||
                  i.selected !== t.selected ||
                  i.isFarAway !== t.isFarAway ||
                  i.sendGif !== t.sendGif)) ||
              (r !== e && r.status !== e.status)
            );
          }
          addSoftKeys(t, e) {
            var i = this.state.status;
            if ("error" === i)
              return (
                t.setRightLabel(885, () => {
                  (0, b.e)({ title: 243, text: 958 });
                }),
                void t.setCenterLabel(920, () => {
                  this.setState({ status: null });
                })
              );
            if ("loaded" === i) {
              var r = this.props,
                s = r.gif,
                n = r.sendGif,
                a = r.index;
              t.setCenterLabel(930, () => {
                n(e, { type: "remote", value: s, index: a });
              });
            }
          }
          render() {
            var t,
              e = this.props,
              i = e.selected,
              r = e.gif;
            return (
              (t = e.isFarAway
                ? null
                : "error" === this.state.status
                ? (0, s.b)(2, Wg)
                : (0, s.f)(1, "img", Pg, null, 1, {
                    src: r.gifPreviewUrl,
                    onError: this.onError,
                    onLoad: this.onLoad,
                  })),
              (0, s.b)(2, Bg, { selected: i, children: t })
            );
          }
        },
        zg = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.VA = !1),
              (this.VB = !1),
              (this.state = {
                previewUri: null,
                preview: "loading",
                video: null,
              }),
              (this.VC = new Gi.a((t) => {
                var e = this.props,
                  i = e.gif,
                  r = e.selected;
                this.setState({
                  video: { type: "loading", showSpinner: "showSpinner" === t },
                }),
                  r &&
                    (0, Un.i)(i.contentPath).then((t) => {
                      null != t ||
                        this.VB ||
                        ((this.VB = !0),
                        this.props.backend.markGifContentAsDeleted(
                          this.props.source,
                          i.plaintextHash
                        )),
                        r &&
                          this.VA &&
                          (null != t
                            ? this.setState({
                                video: {
                                  type: "loaded",
                                  blob: t,
                                  uri: (0, zi.a)(t),
                                },
                              })
                            : this.setState({ video: { type: "error" } }));
                    });
              })),
              (this.onPreviewError = () => {
                this.setState({ preview: "error" });
              }),
              (this.onPreviewLoad = () => {
                this.setState({ preview: "loaded" });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.source !== t.source ||
                  i.selected !== t.selected ||
                  i.isFarAway !== t.isFarAway ||
                  i.gif !== t.gif ||
                  i.index !== t.index ||
                  i.hideVideos !== t.hideVideos ||
                  i.sendGif !== t.sendGif)) ||
              (r !== e &&
                (r.previewUri !== e.previewUri ||
                  r.preview !== e.preview ||
                  r.video !== e.video))
            );
          }
          componentDidMount() {
            (this.VA = !0),
              this.setState({
                previewUri: (0, zi.a)(this.props.gif.info.highResPreview),
              }),
              this.props.selected && this.VC.debounce(ir),
              super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            var i = this.props.selected;
            if (i !== t.selected) {
              var r = this.state.video;
              i && null == r && this.VC.debounce(ir),
                i ||
                  (this.VC.cancel(),
                  null != r && "loaded" === r.type && this.VD(r.uri));
            }
            super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            this.VA = !1;
            var t = this.state,
              e = t.previewUri,
              i = t.video;
            e && (0, zi.b)(e),
              null != i && "loaded" === i.type && (0, zi.b)(i.uri),
              super.componentWillUnmount();
          }
          VD(t) {
            (0, zi.b)(t), this.setState({ video: null });
          }
          addSoftKeys(t, e) {
            var i = this.state.video;
            if (
              null != i &&
              ("error" === i.type &&
                (t.setLeftLabel(885, () => {
                  (0, b.e)({ title: 243, text: 360 });
                }),
                t.setCenterLabel(920, () => {
                  this.VC.forceRunNow("showSpinner");
                })),
              "loaded" === i.type)
            ) {
              var r = this.props,
                s = r.sendGif,
                n = r.gif,
                a = i.blob;
              t.setCenterLabel(930, () => {
                var t = n.info,
                  i = n.plaintextHash;
                s(e, {
                  type: "local",
                  plaintext: a,
                  plaintextHash: i,
                  info: t,
                });
              });
            }
          }
          render() {
            var t,
              e = this.props,
              i = e.selected,
              r = e.isFarAway,
              a = e.hideVideos,
              l = this.state,
              o = l.preview,
              u = l.previewUri,
              h = l.video;
            if ("error" === o) t = (0, s.b)(2, Kg);
            else if (i && !a && null != h)
              switch (h.type) {
                case "loading":
                  h.showSpinner &&
                    (t = (0, s.f)(1, "div", "Um", (0, s.b)(2, ss.a), 2));
                  break;
                case "error":
                  t = (0, s.b)(2, Kg);
                  break;
                default:
                  h.type,
                    (t = (0, s.f)(1, "video", Pg, null, 1, {
                      loop: !0,
                      muted: !0,
                      autoPlay: !0,
                      src: h.uri,
                      style: n.h({ backgroundImage: u ? `url(${u})` : "" }),
                    }));
              }
            return (
              r
                ? (t = null)
                : null == t &&
                  (t = (0, s.f)(1, "img", Pg, null, 1, {
                    src: u,
                    onError: this.onPreviewError,
                    onLoad: this.onPreviewLoad,
                  })),
              (0, s.b)(2, Bg, { selected: i, children: t })
            );
          }
        },
        Vg = (0, l.j)(zg);
      function Kg() {
        return (0, s.f)(
          1,
          "div",
          "Uk",
          (0, s.b)(2, vl.a, { className: "Ul" }),
          2
        );
      }
      var jg = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.selected !== t.selected ||
              i.retryFunc !== t.retryFunc ||
              i.innerRef !== t.innerRef)
          );
        }
        addSoftKeys(t) {
          t.setCenterLabel(920, this.props.retryFunc);
        }
        render() {
          var t = this.props,
            e = t.selected,
            i = t.innerRef,
            r = (0, Mt.a)("Ui", e && "Uj");
          return (0, s.f)(
            1,
            "div",
            r,
            (0, s.b)(2, o.b, { l10n: 358 }),
            2,
            null,
            null,
            i
          );
        }
      };
      function Bg(t) {
        var e = t.selected,
          i = t.children;
        return (0, s.f)(1, "div", "Ud", [i, e && (0, s.f)(1, "div", "Uf")], 0);
      }
      function Wg() {
        return (0, s.f)(
          1,
          "div",
          "Uk",
          (0, s.b)(2, vl.a, { className: "Ul" }),
          2
        );
      }
      function Hg(t) {
        switch (t.type) {
          case "gifs":
            var e = t.loadingState;
            return e && "loading" === e.type ? e.promiseId : void 0;
          case "loading":
            return t.promiseId;
          default:
            return void t.type;
        }
      }
      function Jg(t, e) {
        var i = Hg(t);
        return null == i
          ? (__LOG__(
              4
            )`We tried to stop loading promise id ${e} while not loading, current state is ${t.type}`,
            SEND_LOGS("gifGrid-checkPromiseId"),
            !1)
          : i === e ||
              (__LOG__(
                4
              )`We tried to stop loading the wrong promise id ${e}, content id is ${i}`,
              SEND_LOGS("gifGrid-checkPromiseId"),
              !1);
      }
      function $g(t) {
        var e = t.promiseId,
          i = t.content,
          r = Hg(i);
        if (null == r)
          return "gifs" === i.type
            ? "remote" === i.source
              ? {
                  type: "gifs",
                  source: "remote",
                  query: i.query,
                  gifs: i.gifs,
                  nextFetchPosition: i.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: e },
                }
              : "recents" === i.source
              ? {
                  type: "gifs",
                  source: "recents",
                  gifs: i.gifs,
                  loadingState: { type: "loading", promiseId: e },
                }
              : (i.source,
                {
                  type: "gifs",
                  source: "favorites",
                  gifs: i.gifs,
                  nextFetchPosition: i.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: e },
                })
            : (i.type, { type: "loading", promiseId: e });
        r === e
          ? __LOG__(
              4
            )`We tried show a loading spinner for a content already displaying it, promise id ${e}`
          : __LOG__(
              4
            )`We tried to show a loading spinner for another promise id ${e}, content id ${r}`;
      }
      function Yg(t) {
        var e = t.query,
          i = t.rowLength,
          r = t.content,
          s = t.result,
          n = t.promiseId;
        if (Jg(r, n)) {
          if ("gifs" === r.type)
            return "remote" === r.source && "remote" === s.type
              ? (function (t, e, i, r) {
                  var s = r.gifs,
                    n = s.length,
                    a = null;
                  if (n > 0) {
                    a = r.nextFetchPosition;
                    var l = n % e;
                    0 !== l && (s = s.slice(0, -l));
                  }
                  return {
                    type: "gifs",
                    source: "remote",
                    query: t,
                    gifs: (s = n > 0 ? i.gifs.concat(s) : i.gifs),
                    nextFetchPosition: a,
                  };
                })(e, i, r, s)
              : "favorites" === r.source && "favorites" === s.type
              ? (function (t, e) {
                  var i = e.gifs;
                  return {
                    type: "gifs",
                    source: "favorites",
                    gifs: i.length > 0 ? t.gifs.concat(i) : t.gifs,
                    nextFetchPosition: e.nextFetchPosition,
                  };
                })(r, s)
              : "recents" === r.source && "recents" === s.type
              ? (function (t, e) {
                  var i = e.gifs;
                  return {
                    type: "gifs",
                    source: "recents",
                    gifs: i.length > 0 ? t.gifs.concat(i) : t.gifs,
                  };
                })(r, s)
              : (__LOG__(
                  4
                )`Trying to merge ${s.type} GIFs into a grid showing ${r.source} GIFs from promise ${n}`,
                SEND_LOGS("gifGrid-merge-source-mismatch"),
                { type: "error", query: e });
          switch (s.type) {
            case "recents":
              return { type: "gifs", source: "recents", gifs: s.gifs };
            case "favorites":
              return {
                type: "gifs",
                source: "favorites",
                gifs: s.gifs,
                nextFetchPosition: s.nextFetchPosition,
              };
            case "remote":
              return {
                type: "gifs",
                source: "remote",
                query: e,
                gifs: s.gifs,
                nextFetchPosition: s.nextFetchPosition,
              };
            default:
              return s.type, { type: "error", query: e };
          }
        }
      }
      function qg(t) {
        var e = t.content,
          i = t.fetchPosition,
          r = t.query,
          s = t.promiseId;
        if (Jg(e, s))
          return "gifs" === e.type
            ? "remote" === e.source
              ? {
                  type: "gifs",
                  source: "remote",
                  query: r,
                  gifs: e.gifs,
                  nextFetchPosition: null,
                  loadingState: { type: "error", fetchPosForError: i },
                }
              : "recents" === e.source
              ? {
                  type: "gifs",
                  source: "recents",
                  gifs: e.gifs,
                  loadingState: { type: "loading", promiseId: s },
                }
              : (e.source,
                {
                  type: "gifs",
                  source: "favorites",
                  gifs: e.gifs,
                  nextFetchPosition: e.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: s },
                })
            : (e.type, { type: "error", query: r });
      }
      function Xg(t) {
        switch (t.source) {
          case "remote":
            return t.query;
          case "favorites":
            return "favorites";
          default:
            return void t.source;
        }
      }
      function Qg(t) {
        var e = t.map((t) => t.id);
        return e.length > 0 ? "" + e[e.length - 1] : null;
      }
      var Zg = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d: "M9.07 8.674a.4.4 0 01-.381.277H3.672a.4.4 0 00-.236.723l4.06 2.95a.4.4 0 01.145.446l-1.55 4.772a.4.4 0 00.615.447l4.059-2.949a.4.4 0 01.47 0l4.06 2.95a.4.4 0 00.615-.448l-1.55-4.772a.4.4 0 01.145-.447l4.059-2.949a.4.4 0 00-.236-.723h-5.017a.4.4 0 01-.38-.277l-1.55-4.771a.4.4 0 00-.761 0L9.07 8.674zm4.968-1.123L12.712 3.47c-.539-1.658-2.885-1.658-3.424 0L7.962 7.55h-4.29c-1.744 0-2.47 2.232-1.058 3.257l3.47 2.522-1.325 4.08c-.539 1.659 1.36 3.038 2.77 2.013L11 16.9l3.471 2.522c1.41 1.025 3.309-.354 2.77-2.013l-1.326-4.08 3.471-2.522c1.411-1.025.686-3.256-1.058-3.256h-4.29z",
              "clip-rule": "evenodd",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        tS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M14.34 5.8a.776.776 0 00-.772.778c0 .43.346.778.772.778h2.712l-4.775 5.067-3.113-3.138-.001-.001a.772.772 0 00-1.094 0h-.001l-5.55 5.59-.002.002a.773.773 0 00-.216.558.74.74 0 00.218.54.772.772 0 001.094 0l.001-.001 5.003-5.04 3.117 3.141v.001a.772.772 0 001.094 0L18.154 8.5v2.692c0 .425.346.778.773.778a.776.776 0 00.773-.778V6.576a.782.782 0 00-.777-.776H14.34z",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        eS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M3.4 11a7.6 7.6 0 1015.2 0 7.6 7.6 0 00-15.2 0zM11 2a9 9 0 100 18 9 9 0 000-18z",
                "clip-rule": "evenodd",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                d: "M8.7 8.75c0 .932-.492 1.688-1.1 1.688-.608 0-1.1-.756-1.1-1.688 0-.932.492-1.688 1.1-1.688.608 0 1.1.756 1.1 1.688zm6.6 0c0 .932-.493 1.688-1.1 1.688-.607 0-1.1-.756-1.1-1.688 0-.932.492-1.688 1.1-1.688.607 0 1.1.756 1.1 1.688z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M6.472 11.47a.764.764 0 00-.687.856c.05.4.124.881.215 1.249.573 2.308 2.93 3 5 3s4.427-.692 5-3c.091-.368.164-.849.215-1.25a.764.764 0 00-.687-.855 44.725 44.725 0 00-9.056 0zm.919 1.865c-.475.023-.849.475-.636.9.486.973 2.488 1.828 4.245 1.828 1.757 0 3.759-.855 4.245-1.828.213-.425-.161-.877-.636-.9a76.225 76.225 0 00-7.218 0z",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        iS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                d: "M5.675 9.516c-.079-.422.267-.743.556-.426l.134.153c.316.366.692.803 1.462.803s1.146-.437 1.462-.803l.133-.153c.29-.317.635.004.557.426l-.03.142C9.706 10.691 8.705 11 7.827 11c-.879 0-1.88-.31-2.123-1.342a3.07 3.07 0 01-.03-.142zm3.328 5.276c-.036.4.28.68.507.347.076-.112.151-.242.23-.378.316-.55.692-1.204 1.462-1.204s1.146.654 1.462 1.204c.078.136.153.266.23.378.225.333.542.053.506-.347-.02-.223-.046-.462-.076-.654-.243-1.549-1.244-2.013-2.122-2.013-.879 0-1.88.464-2.123 2.013-.03.192-.056.43-.076.654zm3.978-5.702c-.289-.317-.635.004-.556.426.009.05.019.098.029.142.243 1.033 1.244 1.342 2.123 1.342.878 0 1.88-.31 2.122-1.342l.03-.142c.078-.422-.268-.743-.557-.426a7.64 7.64 0 00-.133.153c-.316.366-.693.803-1.462.803-.77 0-1.146-.437-1.462-.803l-.134-.153z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d: "M2.694 14.472C2.258 15.68 2 16.919 2 17.667 2 19.507 3.567 21 5.5 21a3.551 3.551 0 002.849-1.397 9 9 0 10-5.655-5.131zm4.615 4.184-.08.107a2.152 2.152 0 01-1.73.837 2.18 2.18 0 01-1.32-.43 1.919 1.919 0 01-.657-1.437c0-.626.284-1.931.785-3.096.247-.574.52-1.05.79-1.367a1.45 1.45 0 01.328-.301.404.404 0 01.086-.042c.016-.005.024-.005.026-.005.001 0 .009 0 .025.005a.404.404 0 01.086.042c.084.05.196.144.329.3.269.318.542.794.79 1.368.5 1.165.784 2.47.784 3.096 0 .331-.087.647-.242.923zm-3.482-5.138C4.308 12.642 4.899 12 5.537 12c1.621 0 2.936 4.15 2.936 5.733 0 .148-.011.292-.033.433l.32.1A7.6 7.6 0 103.4 11c0 .883.15 1.73.427 2.517z",
                "clip-rule": "evenodd",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        rS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d: "M4.825 7.102 3.58 6.096C4.567 4.876 5.907 4.103 7.347 4c1.361-.1 2.678.412 3.653 1.467C11.975 4.411 13.292 3.9 14.653 4c1.44.104 2.78.876 3.767 2.097 1.896 2.346 2.195 6.044.303 8.386-.573.709-1.752 2.087-3.076 3.267-.66.587-1.403 1.17-2.164 1.592-.664.369-1.543.73-2.483.665-.94.065-1.819-.296-2.483-.665-.761-.422-1.505-1.005-2.164-1.592-1.324-1.18-2.503-2.558-3.076-3.267l1.245-1.006c1.096 1.356 4.466 5.212 6.478 4.922 2.012.29 5.382-3.566 6.478-4.922 1.34-1.657 1.203-4.51-.303-6.374-1.506-1.864-3.812-2.031-5.151-.375l-.073.093c-.293.385-.625.956-.951 1.631-.326-.675-.658-1.246-.951-1.631a3.973 3.973 0 00-.073-.093c-1.339-1.656-3.645-1.489-5.151.375zm0 0L3.58 6.096c-1.896 2.346-2.195 6.044-.303 8.386l1.245-1.006c-1.34-1.657-1.203-4.51.303-6.374z",
              "clip-rule": "evenodd",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        sS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "m9.627 2.969 1.02-.288c1.017-.287 2.054-.156 2.825.609.658.653.89 1.558.979 2.277.105.852.052 1.808-.068 2.686h2.115c1.964 0 3.402 3.156 3.402 4.916 0 2.081-1.889 6.79-4.231 6.79h-4.72a8.4 8.4 0 01-2.853-.538l-.083-.031a1.89 1.89 0 01-1.263.48H4a1.9 1.9 0 01-1.9-1.9v-6.03c0-1.05.85-1.9 1.9-1.9h2.75c.435 0 .835.145 1.155.39l.02-.041L9.317 7.24a3.6 3.6 0 00.309-1.458V2.969zm-.979 8.895a4.344 4.344 0 01-.112.133v6.094l.053.02.054.02a7 7 0 002.383.428h4.643a1.17 1.17 0 001.042-.637c.789-1.538 1.789-2.95 1.789-4.753 0-.95-.791-3.516-2.002-3.516h-3.81c.104-.411.204-.893.28-1.4.234-1.553.245-3.338-.541-4.024a1.135 1.135 0 00-.327-.2c-.282-.114-.636-.124-1.073 0v1.754a5 5 0 01-.428 2.025l-1.395 3.148a4.036 4.036 0 01-.556.908zm-1.512-.243a.5.5 0 00-.386-.182H4a.5.5 0 00-.5.5v6.032a.5.5 0 00.5.5h2.75a.5.5 0 00.5-.5v-6.032a.498.498 0 00-.114-.318z",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        nS = i(401),
        aS = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Sn = !1),
              (this.So = 0),
              (this.Sp = new Map()),
              (this.Sq = ue()),
              (this.Sr = [
                { key: "recents", icon: $o },
                { key: "favorites", icon: Zg },
                { key: "trending", icon: tS },
                { key: "haha", icon: eS },
                { key: "sad", icon: iS },
                { key: "love", icon: rS },
                { key: "thumbs up", icon: sS },
              ]),
              (this.Ss = (t, e) => {
                if (!this.Sp.has(t)) {
                  var i = this.Sr.findIndex((e) =>
                    "" === t ? "trending" === e.key : e.key === t
                  );
                  if (i < 0)
                    return (
                      __LOG__(4)`Failed to find the category index for query`,
                      void SEND_LOGS("sendGif-loadGifs-categoryNotFound")
                    );
                  var r,
                    s = ++this.So;
                  switch ((this.Sp.set(t, s), t)) {
                    case "recents":
                      r = Gu(this.props.backend);
                      break;
                    case "favorites":
                      var n = (function (t) {
                        var e = null;
                        if (t && ((e = parseInt(t, 10)), Number.isNaN(e)))
                          throw new Error(
                            `getFavoriteFromId: Incorrect fetch position, should always be a number but was [${t}]`
                          );
                        return e;
                      })(e);
                      r = (function (t, e) {
                        return t
                          .sendAndReceive("backend", "getFavoriteGifs", {
                            fromId: e,
                            limit: yu,
                          })
                          .then((t) => {
                            var e;
                            return (
                              t.length > 0 && (e = t[t.length - 1].id),
                              {
                                type: "favorites",
                                gifs: t,
                                nextFetchPosition: null != e ? "" + e : null,
                              }
                            );
                          });
                      })(this.props.backend, n);
                      break;
                    default:
                      r = (function (t, e, i) {
                        return "" !== e
                          ? xu(t, e, i)
                          : (function (t, e) {
                              switch (t) {
                                case "GIPHY":
                                  return (function () {
                                    var t =
                                      arguments.length > 0 &&
                                      void 0 !== arguments[0]
                                        ? arguments[0]
                                        : "";
                                    return wu(
                                      (0, fa.c)(Cu, "/v1/gifs/trending", {
                                        api_key: ku,
                                        limit: yu,
                                        rating: "pg-13",
                                        offset: t,
                                      }),
                                      t,
                                      Nu,
                                      Eu,
                                      Iu
                                    );
                                  })(e);
                                case "TENOR":
                                  return (function () {
                                    var t =
                                        arguments.length > 0 &&
                                        void 0 !== arguments[0]
                                          ? arguments[0]
                                          : "",
                                      e = (0, le.d)().lg;
                                    return wu(
                                      (0, fa.c)(Lu, "/v1/trending", {
                                        key: Mu,
                                        limit: yu,
                                        contentfilter: "low",
                                        media_filter: "basic",
                                        locale: e,
                                        pos: t,
                                      }),
                                      t,
                                      Au,
                                      Ru,
                                      Uu
                                    );
                                  })(e);
                                default:
                                  return (0, m.a)(t);
                              }
                            })(t, i);
                      })(this.props.gifProvider, t, e);
                  }
                  r.then(
                    (r) => {
                      this.Sn &&
                        this.Sw(t, s) &&
                        (null == r
                          ? this.TA({
                              categoryIndex: i,
                              promiseId: s,
                              query: t,
                              fetchPosition: e,
                            })
                          : this.Sz({
                              categoryIndex: i,
                              promiseId: s,
                              query: t,
                              result: r,
                            }));
                    },
                    (r) => {
                      this.Sn &&
                        (this.Sw(t, s) &&
                          this.TA({
                            categoryIndex: i,
                            promiseId: s,
                            query: t,
                            fetchPosition: e,
                          }),
                        __LOG__(4)`Failed to fetch with ${r}`,
                        SEND_LOGS("sendGif-loadGifs-failedFetch"));
                    }
                  ),
                    this.Sy({ categoryIndex: i, promiseId: s, query: t });
                }
              }),
              (this.TC = () => {
                this.TB(this.state.selectedCategoryIndex - 1);
              }),
              (this.TD = () => {
                this.TB(this.state.selectedCategoryIndex + 1);
              }),
              (this.TE = () => {
                this.setState({ selection: "category" });
              }),
              (this.TF = () => {
                var t = this.state.contents[this.state.selectedCategoryIndex];
                ("gifs" === t.type && 0 === t.gifs.length) ||
                  this.setState({ selection: "grid" });
              }),
              (this.TG = (t) => {
                var e,
                  i,
                  r = this.props,
                  s = r.chatJid,
                  n = r.defaultCaption,
                  a = r.quote,
                  l = r.gifProvider,
                  o = r.actionAfterSending,
                  u = r.from;
                return (
                  "remote" === t.type
                    ? (e = {
                        type: "gif",
                        source: "remote",
                        mp4Url: t.value.mp4Url,
                        gifId: t.value.id,
                        gifAttribution: ((i = l), yr.g[i]),
                      })
                    : (t.type,
                      (e = {
                        type: "gif",
                        source: "local",
                        plaintext: t.plaintext,
                        plaintextHash: t.plaintextHash,
                        info: t.info,
                      })),
                  {
                    from: u,
                    jid: s,
                    media: e,
                    defaultCaption: n,
                    quote: a,
                    actionAfterSending: o,
                  }
                );
              }),
              (this.TH = (t, e) => {
                t.openScreen("SEND_MEDIA", this.TG(e));
              }),
              (this.state = {
                selectedCategoryIndex: 2,
                selection: "category",
                contents: this.Sr.map((t) => ({
                  type: "initial",
                  query: t.key,
                })),
              });
          }
          componentDidMount() {
            (this.Sn = !0),
              this.Ss("", ""),
              (0, Rg.f)(),
              WAM.log("regular", 1852, void 0, []),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Sn = !1), (0, Rg.e)(), super.componentWillUnmount();
          }
          componentDidUpdate(t, e) {
            var i = this.props,
              r = i.refreshRecentGif,
              s = i.lastAddedFavoriteGifs,
              n = i.lastRemovedFavoriteGif;
            r && r !== t.refreshRecentGif && this.St(),
              s && s !== t.lastAddedFavoriteGifs && this.Su(s),
              n && n !== t.lastRemovedFavoriteGif && this.Sv(n),
              super.componentDidUpdate(t, e);
          }
          St() {
            if (!this.Sp.has("recents")) {
              __LOG__(2)`SendGif: refreshing recents`;
              var t = ++this.So;
              this.Sp.set("recents", t),
                Gu(this.props.backend).then((e) => {
                  if (this.Sn && this.Sw("recents", t)) {
                    __LOG__(2)`SendGif: updating recents`;
                    var i = e.gifs;
                    this.Sx(0, (t) =>
                      (function (t, e) {
                        return { type: "gifs", source: "recents", gifs: e };
                      })(0, i)
                    );
                  }
                });
            }
          }
          Su(t) {
            "initial" !== this.state.contents[1].type
              ? (__LOG__(2)`SendGif: Prepending new favorites`,
                this.Sx(1, (e) =>
                  (function (t, e) {
                    var i = [],
                      r = null;
                    if ("gifs" === t.type && "favorites" === t.source) {
                      var s = new Set();
                      e.forEach((t) => {
                        i.push(t), s.add(t.plaintextHash);
                      }),
                        t.gifs.forEach((t) => {
                          s.has(t.plaintextHash) || i.push(t);
                        }),
                        (r = Qg(i));
                    }
                    return {
                      type: "gifs",
                      source: "favorites",
                      gifs: i.length > 0 ? i : e,
                      nextFetchPosition: r,
                    };
                  })(e, t)
                ))
              : __LOG__(2)`SendGif: dropping favorite, hasn't initialized yet`;
          }
          Sv(t) {
            __LOG__(2)`SendGif: Removing favorite`,
              this.Sx(1, (e) =>
                (function (t, e) {
                  if ("gifs" === t.type && "favorites" === t.source) {
                    var i = t.gifs.filter((t) => t.plaintextHash !== e);
                    return {
                      type: "gifs",
                      source: "favorites",
                      gifs: i,
                      nextFetchPosition: Qg(i),
                    };
                  }
                  return t;
                })(e, t)
              );
          }
          Sx(t, e) {
            this.setState((i) => {
              var r = i.contents[t],
                s = e(r);
              if (null == s) return null;
              var n = i.selection;
              return (
                "gifs" === s.type &&
                  0 === s.gifs.length &&
                  (__LOG__(
                    2
                  )`_updateContent: empty gifs, moving back to category`,
                  (n = "category")),
                {
                  contents: i.contents.map((e, i) => (i === t ? s : e)),
                  selection: n,
                }
              );
            });
          }
          Sy(t) {
            var e = t.categoryIndex,
              i = t.promiseId;
            t.query, this.Sx(e, (t) => $g({ promiseId: i, content: t }));
          }
          Sz(t) {
            var e = t.categoryIndex,
              i = t.promiseId,
              r = t.query,
              s = t.result,
              n = s.gifs;
            __LOG__(2)`Successfully loaded ${n.length} GIFs with query`,
              this.Sx(e, (t) =>
                Yg({
                  query: r,
                  promiseId: i,
                  rowLength: this.Sq,
                  content: t,
                  result: s,
                })
              );
          }
          TA(t) {
            var e = t.categoryIndex,
              i = t.promiseId,
              r = t.query,
              s = t.fetchPosition;
            this.Sx(e, (t) =>
              qg({ query: r, promiseId: i, fetchPosition: s, content: t })
            );
          }
          Sw(t, e) {
            var i = this.Sp.get(t);
            return i !== e
              ? (__LOG__(
                  4
                )`Only one promise per query should be pending, id ${e} has completed while id ${i} is the pending one`,
                SEND_LOGS("sendGifs-loadGifs-multiplePromisesPerQuery"),
                !1)
              : (this.Sp.delete(t), !0);
          }
          TB(t) {
            var e = t;
            if (
              (e < 0
                ? (e = this.Sr.length - 1)
                : e >= this.Sr.length && (e = 0),
              "initial" === this.state.contents[e].type)
            ) {
              var i = this.Sr[e].key;
              switch (i) {
                case "recents":
                  this.Ss("recents", "");
                  break;
                case "favorites":
                  this.Ss("favorites", "");
                  break;
                default:
                  var r = "trending" !== i ? i : "";
                  this.Ss(r, "");
              }
            }
            this.setState({ selectedCategoryIndex: e, selection: "category" });
          }
          addSoftKeys(t, e) {
            t.addCancel();
            var i = this.state,
              r = i.contents,
              n = i.selection,
              a = r[i.selectedCategoryIndex];
            t.setRightIcon((0, s.b)(2, nS.a, { className: "Sn q" }), () => {
              e.openScreen("GIF_SEARCH", {
                gifProvider: this.props.gifProvider,
                makeSendMediaProps: this.TG,
              });
            }),
              oS(n, a) &&
                ((0, le.g)()
                  ? t.setLeftRightArrows(this.TD, this.TC)
                  : t.setLeftRightArrows(this.TC, this.TD),
                t.setDownArrow(this.TF),
                "error" === a.type &&
                  t.setCenterLabel(920, () => {
                    this.Ss(a.query, "");
                  }));
          }
          render() {
            var t = this.props,
              e = t.gifProvider,
              i = t.isActiveScreen,
              r = this.state,
              n = r.selection,
              a = r.selectedCategoryIndex,
              l = r.contents[a],
              o = oS(n, l);
            return (0, s.c)(
              [
                (0, s.b)(2, Jo.a, {
                  items: this.Sr,
                  selectedIndex: o ? a : null,
                  activeIndex: a,
                }),
                (0, s.b)(
                  2,
                  Fg,
                  {
                    selected: !o,
                    gifProvider: e,
                    content: l,
                    hideVideos: !i,
                    onReachStart: this.TE,
                    onReachPreviousSide: this.TC,
                    onReachNextSide: this.TD,
                    loadGifs: this.Ss,
                    sendGif: this.TH,
                  },
                  a
                ),
              ],
              8
            );
          }
        },
        lS = (0, l.j)((0, d.e)(aS));
      function oS(t, e) {
        return "category" === t || "gifs" !== e.type;
      }
      var uS = i(262),
        hS = { type: "search" },
        cS = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.SX = n.e()),
              (this.SY = n.e()),
              (this.SZ = !1),
              (this.Sa = null),
              (this.Sb = new Map()),
              (this.Sc = new Gi.a((t) => {
                this.Sd(t);
              })),
              (this.Se = { totalSearchesPerformed: 0, totalCacheHits: 0 }),
              (this.state = { query: "", content: "initial", selection: hS }),
              (this.Si = (t) => {
                this.setState({ selection: hS }), this.Sc.debounce(300, t);
              }),
              (this.Sj = (t) => {
                var e = t.target.value;
                this.Sc.debounce(300, e);
              }),
              (this.Sg = (t) => {
                var e = this.SY.current;
                if (null != e) {
                  var i = this.state.selection,
                    r = "search" === i.type ? "start" : i.direction;
                  (0, de.e)(e, { block: r, behavior: t || "smooth" });
                }
              }),
              (this.Sf = () => {
                this.Sg("instant");
              }),
              (this.Sl = () => {
                var t = this.state,
                  e = t.selection,
                  i = t.content;
                vS(i) ||
                  ("term" === e.type &&
                    (0 === e.index
                      ? this.setState({ selection: hS })
                      : this.Sk(i, e.index - 1, "start")));
              }),
              (this.Sm = () => {
                var t = this.state,
                  e = t.selection,
                  i = t.content;
                vS(i) ||
                  ("term" === e.type
                    ? this.Sk(i, e.index + 1, "end")
                    : (e.type, this.Sk(i, 0, "end")));
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.gifProvider !== t.gifProvider ||
                  i.makeSendMediaProps !== t.makeSendMediaProps)) ||
              (r !== e &&
                (r.query !== e.query ||
                  r.content !== e.content ||
                  r.selection !== e.selection))
            );
          }
          componentDidMount() {
            var t;
            (this.SZ = !0),
              document.addEventListener("focus_input", this.Sf),
              (t = this.props.gifProvider),
              WAM.log("regular", 1134, void 0, [1, 0, bu(t)]),
              super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            this.state.selection !== e.selection && this.Sg(),
              super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            var t, e;
            (this.SZ = !1),
              this.Sc.cancel(),
              (t = this.Se.totalSearchesPerformed),
              (e = this.Se.totalCacheHits),
              WAM.log("regular", 2042, void 0, [
                1,
                0,
                t,
                3,
                0,
                e,
                2,
                0,
                null,
                4,
                0,
                null,
              ]),
              document.removeEventListener("focus_input", this.Sf),
              super.componentWillUnmount();
          }
          Sh(t, e) {
            t === this.Sa &&
              this.setState((i) => {
                if (i.content === e) return null;
                var r = i.selection;
                return (
                  vS(e) && "search" !== r.type && (r = hS),
                  { query: t, content: e, selection: r }
                );
              });
          }
          Sd(t) {
            if (((this.Sa = t), "" !== t)) {
              var e = this.Sb.get(t);
              if (null != e)
                return this.Se.totalCacheHits++, void this.Sh(t, e);
              this.Sb.set(t, "loading"),
                this.Sh(t, "loading"),
                (function (t, e, i) {
                  switch (t) {
                    case "GIPHY":
                      return (function (t) {
                        return Ou(
                          (0, fa.c)(Cu, "/v1/gifs/search/tags", {
                            api_key: ku,
                            limit: 5,
                            q: t,
                          }),
                          Nu,
                          Tu
                        );
                      })(e);
                    case "TENOR":
                      return (function (t) {
                        var e = (0, le.d)().lg;
                        return Ou(
                          (0, fa.c)(Lu, "/v1/autocomplete", {
                            key: Mu,
                            limit: 5,
                            locale: e,
                            q: t,
                            type: "trending",
                          }),
                          Au,
                          Pu
                        );
                      })(e);
                    default:
                      return (0, m.a)(t);
                  }
                })(this.props.gifProvider, t)
                  .then((e) => {
                    if (this.SZ) {
                      if ("loading" !== this.Sb.get(t))
                        return (
                          __LOG__(
                            4
                          )`Query was not in a loading state when completed`,
                          void SEND_LOGS(
                            "gifSearch-autocomplete-queryWasNotLoading"
                          )
                        );
                      "ok" === e.type
                        ? (this.Sb.set(t, e.terms), this.Sh(t, e.terms))
                        : (e.type,
                          this.Sb.delete(t),
                          this.Sh(t, "error"),
                          __LOG__(
                            4
                          )`Failed to perform autocomplete: ${e.reason}`);
                    }
                  })
                  .catch((e) => {
                    this.SZ &&
                      (this.Sb.delete(t),
                      this.Sh(t, "error"),
                      __LOG__(4)`Failed to perform autocomplete: ${e}`,
                      SEND_LOGS("gifSearch-autocomplete-failed"));
                  });
            } else this.Sh(t, "initial");
          }
          Sk(t, e, i) {
            var r = t[e];
            r &&
              this.setState({
                selection: { type: "term", value: r, index: e, direction: i },
              });
          }
          addSoftKeys(t, e) {
            var i = () => {
              (function (t) {
                WAM.log("regular", 1126, void 0, [1, 0, bu(t)]);
              })(this.props.gifProvider),
                e.goBack();
            };
            t.setLeftLabel(864, i),
              t.setBack(i),
              t.setUpDownArrows(this.Sl, this.Sm);
            var r = this.props,
              s = r.gifProvider,
              n = r.makeSendMediaProps,
              a = this.state,
              l = a.query,
              o = a.selection;
            if (
              ("search" === o.type
                ? l &&
                  t.setCenterLabel(929, () => {
                    this.Se.totalSearchesPerformed++,
                      e.openScreen("GIF_RESULTS", {
                        query: l,
                        gifProvider: s,
                        makeSendMediaProps: n,
                      });
                  })
                : (o.type,
                  t.setCenterLabel(929, () => {
                    this.Se.totalSearchesPerformed++,
                      e.openScreen("GIF_RESULTS", {
                        query: o.value,
                        gifProvider: s,
                        makeSendMediaProps: n,
                      });
                  })),
              l)
            ) {
              var u = this.SX.current;
              u &&
                t.setRightLabel(866, () => {
                  u.setValue("");
                });
            }
          }
          render() {
            var t = this.state,
              e = t.query,
              i = t.content,
              r = t.selection,
              n = "term" === r.type ? r.value : null,
              a = null;
            switch (i) {
              case "initial":
                break;
              case "loading":
                a = (0, s.f)(1, "div", "Sl", (0, s.b)(2, ss.a), 2);
                break;
              case "error":
                a = (0, s.f)(
                  1,
                  "div",
                  "Sk",
                  (0, s.b)(2, o.b, { l10n: 359 }),
                  2
                );
                break;
              default:
                a =
                  Array.isArray(i) && i.length > 0
                    ? i.map((t) => {
                        var i = t === n;
                        return (0, s.f)(
                          1,
                          "div",
                          (0, Mt.a)("Sg", i && "Sm"),
                          [
                            (0, s.b)(2, nS.a, { className: "Sh" }),
                            (0, s.f)(
                              1,
                              "div",
                              "Si",
                              (0, s.b)(2, pS, { value: t, query: e }),
                              2
                            ),
                          ],
                          4,
                          null,
                          t,
                          i ? this.SY : null
                        );
                      })
                    : (0, s.f)(
                        1,
                        "div",
                        "Sk",
                        (0, s.b)(2, o.b, { l10n: 258 }),
                        2
                      );
            }
            var l = "search" === r.type;
            return (0, s.b)(2, S.a, {
              children: [
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("Sf", l && "Sm"),
                  (0, s.b)(2, uS.a, {
                    hasFocusPriority: l,
                    placeholder: 362,
                    onChange: this.Si,
                    onKeyDown: this.Sj,
                    forwardedRef: this.SX,
                  }),
                  2,
                  null,
                  null,
                  l ? this.SY : null
                ),
                a,
              ],
            });
          }
        },
        dS = (0, d.e)(cS);
      function vS(t) {
        return "string" == typeof t;
      }
      var pS = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && (i.value !== t.value || i.query !== t.query);
          }
          render() {
            var t = this.props,
              e = t.value,
              i = t.query;
            return i && e.toLowerCase().startsWith(i.toLowerCase())
              ? [
                  e.substr(0, i.length),
                  (0, s.f)(
                    1,
                    "span",
                    "Sj",
                    e.substring(i.length),
                    0,
                    null,
                    "after"
                  ),
                ]
              : e;
          }
        },
        fS = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.SP = !1),
              (this.SQ = null),
              (this.SR = ue()),
              (this.SS = 0),
              (this.ST = null),
              (this.SU = (t, e) => {
                if (null == this.SQ) {
                  var i = ++this.SS;
                  this.SQ = e;
                  var r = Date.now(),
                    s = this.props.gifProvider;
                  xu(s, t, e)
                    .then((n) => {
                      this.SP &&
                        this.SV(e) &&
                        ((this.SQ = null),
                        null == n
                          ? this.setState((r) => {
                              var s = r.content,
                                n = qg({
                                  promiseId: i,
                                  query: t,
                                  fetchPosition: e,
                                  content: s,
                                });
                              return n ? { content: n } : null;
                            })
                          : (__LOG__(
                              2
                            )`Successfully loaded ${n.gifs.length} GIFs`,
                            null == this.ST &&
                              ((this.ST = Date.now() - r),
                              0 === n.gifs.length &&
                                (function (t, e) {
                                  var i = (0, le.d)();
                                  WAM.log("regular", 1128, void 0, [
                                    1,
                                    0,
                                    bu(t),
                                    2,
                                    2,
                                    i.lg,
                                    3,
                                    2,
                                    i.lg,
                                  ]);
                                })(s)),
                            this.setState((e) => {
                              var r = e.content,
                                s = Yg({
                                  promiseId: i,
                                  query: t,
                                  rowLength: this.SR,
                                  content: r,
                                  result: n,
                                });
                              return s ? { content: s } : null;
                            })));
                    })
                    .catch(() => {
                      this.SP &&
                        this.SV(e) &&
                        ((this.SQ = null),
                        __LOG__(2)`Crashed while loading GIFs with query`,
                        this.setState((r) => {
                          var s = r.content,
                            n = qg({
                              promiseId: i,
                              query: t,
                              fetchPosition: e,
                              content: s,
                            });
                          return n ? { content: n } : null;
                        }));
                    }),
                    __LOG__(2)`Start loading GIFs for query`,
                    this.setState((t) => {
                      var e = t.content,
                        r = $g({ promiseId: i, content: e });
                      return r ? { content: r } : null;
                    });
                }
              }),
              (this.SW = (t, e) => {
                var i, r;
                "remote" === e.type &&
                  ((i = this.props.gifProvider),
                  (r = e.index),
                  WAM.log("regular", 1122, void 0, [1, 0, bu(i), 2, 0, r])),
                  t.openScreen("SEND_MEDIA", this.props.makeSendMediaProps(e));
              }),
              (this.state = { content: { type: "initial", query: t.query } });
          }
          componentDidMount() {
            (this.SP = !0),
              this.SU(this.props.query, ""),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.SP = !1), super.componentWillUnmount();
          }
          SV(t) {
            var e = this.SQ;
            return null == e
              ? (__LOG__(
                  4
                )`We tried to stop loading at ${t} while not loading, current state is ${this.state.content.type}`,
                SEND_LOGS("gifResults-checkLoading"),
                !1)
              : e === t ||
                  (__LOG__(
                    4
                  )`We tried to stop loading the wrong promise at ${t}, current one is ${e}`,
                  SEND_LOGS("gifResults-checkLoading"),
                  !1);
          }
          addSoftKeys(t, e) {
            t.setLeftLabel(861, e.goBack);
            var i = this.state.content;
            "error" === i.type &&
              t.setCenterLabel(920, () => {
                this.SU(i.query, "");
              });
          }
          render() {
            var t = this.props,
              e = t.gifProvider,
              i = t.query;
            return (0, s.b)(2, S.a, {
              title: i,
              children: (0, s.b)(2, Fg, {
                selected: !0,
                gifProvider: e,
                content: this.state.content,
                loadGifs: this.SU,
                onReachStart: null,
                onReachPreviousSide: null,
                onReachNextSide: null,
                sendGif: this.SW,
                hideVideos: !1,
              }),
            });
          }
        },
        mS = (0, d.e)(fS),
        gS = [6e3, 1e4, 2e4, 33e4];
      function SS(t) {
        __LOG__(
          2
        )`getCurrentLocationWithRetries(), enableHighAccuracy = ${t}: start`;
        for (
          var e = yS({ timeout: gS[0], enableHighAccuracy: t }),
            i = function (i) {
              e = e.then((e) => {
                if ("error" === e.type && 1 !== e.errCode) {
                  var r = gS[i];
                  return (
                    __LOG__(
                      2
                    )`getCurrentLocationWithRetries(), enableHighAccuracy = ${t}, attempting to retrieve location with timeout ${r}`,
                    yS({ timeout: r, enableHighAccuracy: t })
                  );
                }
                return (
                  __LOG__(
                    2
                  )`getCurrentLocationWithRetries(), enableHighAccuracy = ${t}, returning result ${e}`,
                  e
                );
              });
            },
            r = 1;
          r < gS.length;
          ++r
        )
          i(r);
        return e;
      }
      function yS(t) {
        return (
          __LOG__(2)`Retrieving current location of user device`,
          new Promise((e, i) =>
            navigator.geolocation.getCurrentPosition(
              (i) => {
                var r = i.coords,
                  s = r.latitude,
                  n = r.longitude;
                __LOG__(2)`Successfully retrieved location, Options=${t}`,
                  e({ type: "success", location: { lat: s, lng: n } });
              },
              (t) => {
                var i;
                switch (
                  (__LOG__(
                    4
                  )`Error retrieving current location (${t.code}): ${t.message}`,
                  t.code)
                ) {
                  case 1:
                    i = 543;
                    break;
                  case 2:
                    i = 547;
                    break;
                  case 3:
                    i = 546;
                    break;
                  default:
                    i = 242;
                }
                e({
                  type: "error",
                  errText: i,
                  errMsg: t.message,
                  errCode: t.code,
                });
              },
              t
            )
          )
        );
      }
      var _S = i(141),
        bS = 3e-4,
        xS = { success: 0, error: 1, cancel: 2 },
        wS = { success: 0, error: 1, cancel: 2 },
        OS = { success: 1, error: 6, cancel: 2 },
        kS = class extends d.a {
          constructor(t, e) {
            super(t, e),
              CS.call(this),
              (this.Rs = !1),
              (this.Rt = !1),
              (this.Ru = !1),
              (this.Rv = !1),
              (this.Rw = null),
              (this.Rx = null),
              (this.Ry = null),
              (this.SB = null),
              (this.SC = !1),
              (this.state = {
                lowAccuracyLocation: {
                  mapImgUrl: null,
                  lat: null,
                  lng: null,
                  preview: null,
                },
                highAccuracyLocation: {
                  mapImgUrl: null,
                  lat: null,
                  lng: null,
                  preview: null,
                },
                zoom: 14,
                address: "…",
              });
          }
          componentDidMount() {
            (this.Rs = !0),
              (this.Rw = Date.now()),
              SS(!0).then((t) => {
                if (this.Rs)
                  if ("success" === t.type) {
                    if (
                      (this.SD({ result: "success", isHighAccuracy: !0 }),
                      this.Rv)
                    )
                      return;
                    this.Ru = !0;
                    var e = t.location,
                      i = e.lat,
                      r = e.lng;
                    this.setState((t) => ({
                      highAccuracyLocation: Object.assign(
                        {},
                        t.highAccuracyLocation,
                        { lat: i, lng: r }
                      ),
                    })),
                      this.SE(i, r, !0),
                      this.SA(i, r);
                  } else {
                    var s = t.errText,
                      n = t.errMsg;
                    this.SD({ result: "error", isHighAccuracy: !0, errMsg: n }),
                      __LOG__(3)`High accuracy geolocation fails: ${s}`;
                  }
              }),
              SS(!1).then((t) => {
                if (this.Rs)
                  if ("success" === t.type) {
                    if (
                      (this.SD({ result: "success", isHighAccuracy: !1 }),
                      this.Ru)
                    )
                      return;
                    var e = t.location,
                      i = e.lat,
                      r = e.lng;
                    this.setState((t) => ({
                      lowAccuracyLocation: Object.assign(
                        {},
                        t.lowAccuracyLocation,
                        { lat: i, lng: r }
                      ),
                    })),
                      this.SE(i, r, !1),
                      this.SF(i, r);
                  } else {
                    var s = t.errText,
                      n = t.errMsg,
                      a = t.errCode;
                    if (
                      (this.SD({
                        result: "error",
                        isHighAccuracy: !1,
                        errMsg: n,
                      }),
                      this.Ru)
                    )
                      return;
                    this.Rv = !0;
                    var l = this.props.backend;
                    1 === a
                      ? (0, b.g)({
                          title: 243,
                          text: s,
                          onBack: () => {
                            (0, ot.a)(l);
                          },
                          left: 861,
                          onSoftLeft: () => {
                            (0, ot.a)(l);
                          },
                          center: 853,
                          onSoftCenter: () => {
                            (0, ot.a)(l),
                              (function (t) {
                                var e = Promise.all([
                                  (0, _S.g)(),
                                  (0, _S.b)(),
                                ]).then((e) => {
                                  var i = ms()(e, 2),
                                    r = i[0],
                                    s = i[1];
                                  return () => {
                                    t.openScreen("GEOLOCATION_SETTINGS", {
                                      locationEnabled: r,
                                      whatsappLocationEnabled: "allow" === s,
                                    });
                                  };
                                });
                                t.spinUntilReady(e, 850);
                              })(l);
                          },
                        })
                      : (0, b.e)({
                          title: 243,
                          text: s,
                          onClose: () => {
                            (0, ot.a)(l);
                          },
                        });
                  }
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.SC || this.SG({ result: "success" }),
              (this.Rs = !1),
              this.state.lowAccuracyLocation.mapImgUrl &&
                URL.revokeObjectURL(this.state.lowAccuracyLocation.mapImgUrl),
              this.state.highAccuracyLocation.mapImgUrl &&
                URL.revokeObjectURL(this.state.highAccuracyLocation.mapImgUrl),
              this.Rz.cancel(),
              super.componentWillUnmount();
          }
          SH(t) {
            if (!this.Rs) throw new kd.d();
            if ((!t && this.Ru) || this.Rv) throw new kd.b();
          }
          SE(t, e, i, r) {
            var s = self.innerWidth,
              n = self.innerHeight,
              a = Math.max(n, s);
            i ? (this.Ry = Date.now()) : (this.Rx = Date.now()),
              this.SB ? this.SB++ : (this.SB = 1),
              hr(t, e, a, a, r)
                .then((t) => (this.SH(i), (0, fa.k)(t)))
                .then((t) => {
                  if ((this.SH(i), !t.ok))
                    throw new Error("fetch blob failed: status " + t.status);
                  return t.blob();
                })
                .then(
                  (t) => (
                    this.SH(i),
                    Promise.all([(0, Fi.cropAndResizeSquareBlob)(t, 100), t])
                  )
                )
                .then((t) => {
                  var e = ms()(t, 2),
                    r = e[0],
                    s = e[1];
                  this.SH(i),
                    i
                      ? this.setState((t) => ({
                          highAccuracyLocation: Object.assign(
                            {},
                            t.highAccuracyLocation,
                            { mapImgUrl: URL.createObjectURL(s), preview: r }
                          ),
                        }))
                      : this.setState((t) => ({
                          lowAccuracyLocation: Object.assign(
                            {},
                            t.lowAccuracyLocation,
                            { mapImgUrl: URL.createObjectURL(s), preview: r }
                          ),
                        })),
                    this.SI({ result: "success", isHighAccuracy: i });
                })
                .catch((0, Od.a)(kd.d, () => {}))
                .catch((0, Od.a)(kd.b, () => {}))
                .catch((t) => {
                  if (this.Rs && !this.Rv) {
                    this.SI({
                      result: "error",
                      isHighAccuracy: i,
                      errMsg: String(t),
                    }),
                      this.SG({ result: "error" }),
                      (this.SC = !0),
                      __LOG__(4)`Unable to fetch location preview: ${t}`;
                    var e = this.props.backend;
                    (0, b.e)({
                      title: 243,
                      text: 546,
                      onClose: () => {
                        (0, ot.a)(e);
                      },
                    });
                  }
                });
          }
          SF(t, e) {
            this.setState({ address: null }, () => {
              this.Rz.debounce(1500, { lat: t, lng: e });
            });
          }
          SA(t, e) {
            (function (t, e) {
              return Pi(
                Ri("https://maps.googleapis.com/maps/api/geocode/json", {
                  latlng: `${t},${e}`,
                  result_type: "street_address",
                  location_type: "ROOFTOP",
                  language: (0, le.d)().lg,
                  client: Ui,
                })
              );
            })(t, e)
              .then(fa.k)
              .then((t) => {
                if (!t.ok)
                  throw new Error("fetch address failed: status " + t.status);
                return t.json();
              })
              .then((t) => {
                if (this.Rs) {
                  var e = t.results,
                    i = t.status;
                  if ("OK" !== i)
                    throw new Error(
                      "fetch reverse geocode reponse failed: status " + i
                    );
                  if (e && e.length) {
                    var r = e[0].formatted_address;
                    this.setState({ address: null !== r ? r : "" });
                  }
                }
              })
              .catch((t) => {
                __LOG__(4)`${t}`;
              });
          }
          SD(t) {
            var e = t.result,
              i = t.isHighAccuracy,
              r = t.errMsg,
              s = Date.now();
            this.Rw &&
              WAM.log("regular", 1758, void 0, [
                1,
                0,
                xS[e],
                2,
                0,
                Math.floor(s - this.Rw),
                4,
                0,
                i ? 1 : 0,
                3,
                2,
                r || null,
              ]);
          }
          SI(t) {
            var e = t.result,
              i = t.isHighAccuracy,
              r = t.errMsg,
              s = Date.now(),
              n = i && this.Ry ? s - this.Ry : this.Rx ? s - this.Rx : null;
            WAM.log("regular", 1760, void 0, [
              1,
              0,
              wS[e],
              2,
              0,
              n,
              4,
              0,
              i ? 1 : 0,
              3,
              2,
              r || null,
            ]);
          }
          SG(t) {
            var e = t.result,
              i = Date.now();
            this.Rw &&
              WAM.log("regular", 482, void 0, [
                4,
                0,
                OS[e],
                13,
                0,
                1,
                12,
                0,
                Math.floor(i - this.Rw),
                9,
                3,
                this.SB,
              ]);
          }
          SL() {
            var t = this.state,
              e = t.lowAccuracyLocation,
              i = t.highAccuracyLocation,
              r = null !== i.lat ? i : e;
            return { lat: r.lat, lng: r.lng };
          }
          addSoftKeys(t) {
            var e = this.state,
              i = e.lowAccuracyLocation,
              r = e.highAccuracyLocation;
            if (!i.mapImgUrl && !r.mapImgUrl)
              return t.setBack(this.SJ), void t.setFull(764);
            var s = this.props,
              n = s.jid,
              a = s.actionAfterSending;
            t.addCancel();
            var l = null != r.lat ? r : i,
              o = l.lat,
              u = l.lng,
              h = r.preview || i.preview;
            o &&
              u &&
              h &&
              (t.setCenterLabel(935, (t) => {
                this.Rt ||
                  (t.sendLocationMsg(
                    { jid: n, lat: o, lng: u, preview: h },
                    this.props.quote
                  ),
                  (0, Sr.a)(t, a, "location"),
                  (this.Rt = !0));
              }),
              t.setUpDownArrows(
                () => this.SK("UP"),
                () => this.SK("DOWN")
              ),
              t.setLeftRightArrows(
                () => this.SK("LEFT"),
                () => this.SK("RIGHT")
              ));
          }
          SO() {
            var t = this.state,
              e = t.lowAccuracyLocation,
              i = t.highAccuracyLocation,
              r = t.address,
              n = i.mapImgUrl || e.mapImgUrl;
            return n
              ? (0, s.f)(
                  1,
                  "div",
                  "Sa",
                  [
                    null != r
                      ? (0, s.f)(
                          1,
                          "div",
                          "Sd",
                          (0, s.f)(1, "div", "Se", [(0, s.e)(" "), r], 0),
                          2
                        )
                      : null,
                    (0, s.f)(1, "img", "Sb", null, 1, { src: n }),
                    (0, s.b)(2, Su.a, { className: "Sc", onKeyDown: this.SN }),
                  ],
                  0
                )
              : (0, s.b)(2, _i.a);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 794 }),
              children: this.SO(),
            });
          }
        },
        CS = function () {
          (this.Rz = new Gi.a((t) => {
            this.SA(t.lat, t.lng);
          })),
            (this.SJ = () => {
              var t = this.state,
                e = t.lowAccuracyLocation,
                i = t.highAccuracyLocation;
              e.lat && e.lng
                ? e.mapImgUrl ||
                  (this.SI({ result: "cancel", isHighAccuracy: !1 }),
                  this.SG({ result: "cancel" }))
                : this.SD({ result: "cancel", isHighAccuracy: !1 }),
                i.lat && i.lng
                  ? i.mapImgUrl ||
                    (this.SI({ result: "cancel", isHighAccuracy: !0 }),
                    this.SG({ result: "cancel" }))
                  : this.SD({ result: "cancel", isHighAccuracy: !0 }),
                (0, ot.a)(this.props.backend);
            }),
            (this.SK = (t) => {
              var e = this.SL(),
                i = e.lat,
                r = e.lng;
              if (i && r)
                switch (t) {
                  case "UP":
                    this.SM(i + bS, r);
                    break;
                  case "DOWN":
                    this.SM(i - bS, r);
                    break;
                  case "LEFT":
                    this.SM(i, r - bS);
                    break;
                  case "RIGHT":
                    this.SM(i, r + bS);
                }
            }),
            (this.SM = (t, e) => {
              var i = this.state,
                r = i.highAccuracyLocation,
                s = i.zoom;
              null !== r.lat
                ? this.setState(
                    (i) => ({
                      highAccuracyLocation: Object.assign(
                        {},
                        i.highAccuracyLocation,
                        { lat: t, lng: e }
                      ),
                    }),
                    (() => {
                      this.SE(t, e, !0, s), this.SF(t, e);
                    })()
                  )
                : this.setState(
                    (i) => ({
                      lowAccuracyLocation: Object.assign(
                        {},
                        i.lowAccuracyLocation,
                        { lat: t, lng: e }
                      ),
                    }),
                    (() => {
                      this.SE(t, e, !0, s), this.SF(t, e);
                    })()
                  );
            }),
            (this.SN = (t) => {
              var e = this.SL(),
                i = e.lat,
                r = e.lng,
                s = this.state.zoom;
              if (i && r) {
                switch (t.key) {
                  case "1":
                    s = 13;
                    break;
                  case "2":
                    s = 14;
                    break;
                  case "3":
                    s = 15;
                    break;
                  default:
                    return;
                }
                this.setState({ zoom: s }, () => {
                  this.SE(i, r, !0, s);
                });
              }
            });
        },
        NS = (0, l.j)((0, d.e)(kS)),
        IS = new Map([
          [
            0,
            new Uint8Array([
              0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0,
            ]),
          ],
          [
            90,
            new Uint8Array([
              0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0,
            ]),
          ],
          [
            180,
            new Uint8Array([
              255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0,
            ]),
          ],
          [
            270,
            new Uint8Array([
              0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0,
            ]),
          ],
        ]);
      Array.from(IS.keys());
      var ES = i(85),
        TS = new Uint8Array([79, 112, 117, 115, 72, 101, 97, 100]);
      function MS() {
        return (MS = za()(function* (t) {
          var e = t.slice(26, 27);
          if (1 !== e.size) return !1;
          var i = yield (0, F.h)(e),
            r = 26 + new DataView(i).getUint8(0) + 1,
            s = t.slice(r, r + TS.byteLength);
          if (s.size !== TS.byteLength) return !1;
          for (
            var n = yield (0, F.h)(s), a = new Uint8Array(n), l = !0, o = 0;
            o < a.length;
            ++o
          )
            if (a[o] !== TS[o]) {
              l = !1;
              break;
            }
          return l;
        })).apply(this, arguments);
      }
      var LS = i(434),
        AS = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.RR = !1),
              (this.RS = !1),
              (this.RT = !1),
              (this.RU = n.e()),
              (this.RV = !1),
              (this.RW = null),
              (this.RX = !1),
              (this.RY = !1),
              (this.Rm = (t) => {
                this.setState({ caption: t });
              }),
              (this.Rn = () => {
                var t;
                switch (this.state.imageRotation) {
                  case 0:
                    t = 90;
                    break;
                  case 90:
                    t = 180;
                    break;
                  case 180:
                    t = 270;
                    break;
                  default:
                    t = 0;
                }
                this.setState({ imageRotation: t });
              }),
              (this.Ro = () => {
                var t = this.props,
                  e = t.media,
                  i = t.backend;
                "image" === e.type || "video" === e.type
                  ? this.setState(
                      (t) => ({ viewOnceEnabled: !t.viewOnceEnabled }),
                      () => {
                        if ((0, kr.h)()) {
                          this.RT = !0;
                          var t = this.props.jid;
                          i.openScreen("VIEW_ONCE_NUX", {
                            chatJid: t,
                            nuxType: "sender",
                            msgType: e.type,
                          });
                        } else
                          this.RT ||
                            !0 !== this.state.viewOnceEnabled ||
                            ((this.RT = !0),
                            (0, pt.a)("image" === e.type ? 1082 : 1083));
                      }
                    )
                  : __LOG__(3)`Invalid media type for view once`;
              }),
              (this.Rp = (t) => {
                var e = this.props,
                  i = e.media,
                  r = e.chat,
                  s = e.contacts,
                  n = new K.a();
                if (
                  (this.RZ ||
                    "image" !== i.type ||
                    n.addEntry(
                      927,
                      this.Rn,
                      void 0,
                      this.state.rotationError || null == this.state.upload
                    ),
                  "gif" === i.type)
                ) {
                  var a = this.state.favoriteGif,
                    l =
                      "unknown" === a ||
                      "removingFromFavorites" === a ||
                      "addingToFavorites" === a,
                    o = "isFavorite" === a || "removingFromFavorites" === a;
                  n.addEntry(
                    o ? 204 : 202,
                    () => {
                      l || this.Rr(t, !o);
                    },
                    void 0,
                    l
                  );
                }
                if (
                  ((0, kr.d)(i) &&
                    r &&
                    !(0, c.h)(r, s) &&
                    n.addCheckboxEntry(
                      1086,
                      this.state.viewOnceEnabled,
                      this.Ro
                    ),
                  this.RZ && this.state.blob)
                ) {
                  var u = this.state.blob;
                  n.addEntry(556, () => {
                    t.openScreen("MEDIA_EDITOR", {
                      fit: "contain",
                      tools: {
                        hasRotation: !0,
                        hasEmoji: !0,
                        hasFilter: !0,
                        hasCrop: !0,
                      },
                      media: u,
                      onComplete: (t, e) => {
                        this.RR &&
                          ("changed" === e && (this.RX = !0),
                          this.Rb(t)
                            ? __LOG__(3)`Passed blob is too large: ${t}`
                            : (this.setState({ blob: t }), this.Rc(t)));
                      },
                    });
                  });
                }
                n.addEntry(864, () => {
                  t.goBack();
                }),
                  (this.RW = (0, b.j)(n));
              }),
              (this.Rq = (t) => {
                mu(t, (t) => {
                  var e = this.RU.current;
                  e && e.pasteText(t);
                });
              }),
              (this.Rr = (t, e) => {
                var i = this.props.media,
                  r = this.state.upload;
                if ("gif" === i.type && null != r && "gif" === r.type)
                  if (e)
                    __LOG__(2)`SendMedia: Adding to favorite GIFs`,
                      this.setFavoriteGif("addingToFavorites"),
                      t
                        .addFavoriteGif(
                          r,
                          "local" === i.source ? i.plaintextHash : null
                        )
                        .then(() => {
                          this.RR && this.setFavoriteGif("isFavorite");
                        });
                  else {
                    var s;
                    if (
                      (__LOG__(2)`SendMedia: Removing from favorite GIFs`,
                      this.setFavoriteGif("removingFromFavorites"),
                      "local" === i.source)
                    ) {
                      var n = r.plaintext;
                      s = (0, F.h)(n).then((e) => {
                        if (this.RR && "gif" === r.type) {
                          var s = Object.assign({}, r, {
                            plaintext: new Blob([new Uint8Array(e)]),
                          });
                          return (
                            this.setState({ upload: s }),
                            t.removeFavoriteGif(i.plaintextHash)
                          );
                        }
                      });
                    } else
                      s = t.removeFavoriteGifFromId(i.gifId, i.gifAttribution);
                    s.then(() => {
                      this.RR && this.setFavoriteGif("isNotFavorite");
                    });
                  }
              }),
              (this.setFavoriteGif = (t) => {
                this.setState({ favoriteGif: t });
                var e = this.props.overlayId;
                null != e &&
                  e === this.RW &&
                  (("isNotFavorite" !== t && "isFavorite" !== t) ||
                    this.Rp(this.props.backend));
              }),
              (this.state = {
                caption: t.defaultCaption,
                blob: null,
                previewUrl: null,
                upload: null,
                imageRotation: 0,
                rotationError: !1,
                viewOnceEnabled: !1,
                favoriteGif: "unknown",
              }),
              (this.RZ = (0, qn.a)("send_media_editor"));
          }
          componentDidMount() {
            this.RR = !0;
            var t = this.props,
              e = t.media,
              i = t.backend,
              r = t.settings;
            switch (e.type) {
              case "image":
                if (e.blob) {
                  var s = e.blob;
                  if (this.Rb(s))
                    return void __LOG__(3)`Passed blob is too large: ${s}`;
                  this.setState({ blob: s }), this.Rc(s);
                } else this.Ra();
                break;
              case "video":
                if (((this.RV = !0), e.file)) {
                  var n = e.file;
                  if (this.Rb(n))
                    return void __LOG__(
                      3
                    )`Passed media blob is too large: ${n.size}`;
                  this.setState({ blob: n }), this.Re(n);
                } else this.Rd();
                break;
              case "audio":
                this.Rf();
                break;
              case "gif":
                (this.RV = !0), this.Rg();
                break;
              default:
                return (0, m.a)(e.type);
            }
            r || i.loadStatusPrivacySettings(),
              this.RV && (0, Rg.f)(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.RR = !1;
            var t = this.state,
              e = t.previewUrl,
              i = t.upload;
            this.RY ||
              null == i ||
              "image" !== i.type ||
              WAM.log("regular", 2892, void 0, [2, 1, this.RX, 1, 1, !1]),
              e && URL.revokeObjectURL(e),
              this.RV && (0, Rg.e)(),
              super.componentWillUnmount();
          }
          Rb(t) {
            var e = this.props.backend,
              i = (0, rt.g)();
            return (
              t.size > i * F.b &&
              ((0, b.e)({ title: 243, text: [i, 187], onClose: e.goBack }), !0)
            );
          }
          Rh() {
            var t = this.props.jid;
            return null == t ? "unknown" : t === ts.h ? "status" : "chat";
          }
          Rc(t) {
            var e = this.Rh();
            return (0, Fi.scaleImageAndConvertToJpg)(t, e).then((t) => {
              this.RR &&
                this.setState({
                  previewUrl: URL.createObjectURL(t.fullImage),
                  upload: {
                    type: "image",
                    plaintext: t.fullImage,
                    preview: t.preview,
                    width: t.fullImageWidth,
                    height: t.fullImageHeight,
                    bg: t.bg,
                    caption: null,
                  },
                });
            });
          }
          Ra() {
            var t = this.props.backend;
            (0, U.j)(t, "image/jpeg")
              .then((e) => {
                if (this.RR)
                  if (e) {
                    if (!this.Rb(e))
                      return this.setState({ blob: e }), this.Rc(e);
                  } else t.goBack();
              })
              .catch((e) => {
                throw (this.RR && t.goBack(), e);
              });
          }
          Rg() {
            var t = this.props,
              e = t.media,
              i = t.backend;
            if ("gif" === e.type) {
              var r = Fi.videoInfoAndPreview,
                s = (function (t, e) {
                  if ("remote" === e.source) {
                    var i = e.gifId,
                      r = e.gifAttribution;
                    __LOG__(2)`pickGif: Picking remote gif`;
                    var s = t.sendAndReceive("backend", "isFavoriteGifFromId", {
                      gifAttribution: r,
                      gifId: i,
                    });
                    return {
                      gifId: i,
                      gifAttribution: r,
                      blobPromise: (0, fa.k)(e.mp4Url).then((t) => {
                        if (t.ok) return t.blob();
                        throw new Error(t.statusText);
                      }),
                      isFavoritePromise: s,
                    };
                  }
                  e.source, __LOG__(2)`pickGif: Picking cached gif`;
                  var n = t.sendAndReceive("backend", "isFavoriteGif", {
                    plaintextHash: e.plaintextHash,
                  });
                  return {
                    gifId: e.info.gifId,
                    gifAttribution: e.info.gifAttribution,
                    blobPromise: Promise.resolve(e.plaintext),
                    isFavoritePromise: n,
                    videoWithPreview: () => Promise.resolve(e.info),
                  };
                })(i, e),
                n = s.gifId,
                a = s.gifAttribution,
                l = s.blobPromise,
                o = s.isFavoritePromise,
                u = s.videoWithPreview;
              null != u && (r = u),
                o.then((t) => {
                  this.RR &&
                    (__LOG__(2)`SendMedia: setting favourite gif ${t}`,
                    this.setFavoriteGif(t ? "isFavorite" : "isNotFavorite"));
                }),
                l.then((t) => {
                  if (this.RR && !this.Rb(t))
                    return (
                      this.setState({ blob: t }),
                      r(t)
                        .then((e) => {
                          var i = e.preview,
                            r = e.highResPreview,
                            s = e.width,
                            l = e.height,
                            o = e.duration,
                            u = e.bg,
                            h = e.rotation;
                          this.RR &&
                            this.setState({
                              previewUrl: URL.createObjectURL(r),
                              upload: {
                                type: "gif",
                                gifId: n,
                                gifAttribution: a,
                                plaintext: t,
                                preview: i,
                                frame: r,
                                width: s,
                                height: l,
                                duration: o,
                                bg: u,
                                rotation: h,
                                caption: null,
                              },
                            });
                        })
                        .catch((t) => {
                          if (this.RR) {
                            __LOG__(4)`Error when sending GIF: ${t}`;
                            var e = this.props.backend;
                            (0, b.e)({
                              title: 243,
                              text: 958,
                              onClose: e.goBack,
                            });
                          }
                        })
                    );
                });
            }
          }
          Re(t) {
            return (0, Fi.videoInfoAndPreview)(t)
              .then((e) => {
                var i = e.preview,
                  r = e.highResPreview,
                  s = e.width,
                  n = e.height,
                  a = e.duration,
                  l = e.rotation,
                  o = e.bg;
                if (this.RR) {
                  var u = this.props,
                    h = u.jid,
                    c = u.serverProps,
                    d = u.backend;
                  if (h && h === ts.h && a > c.statusVideoMaxDuration)
                    return (
                      __LOG__(
                        3
                      )`Passed video is too long: ${a}-${c.statusVideoMaxDuration}`,
                      void (0, b.e)({
                        title: 999,
                        text: [c.statusVideoMaxDuration, 274],
                        onClose: d.goBack,
                      })
                    );
                  this.setState({
                    previewUrl: URL.createObjectURL(r),
                    upload: {
                      type: "video",
                      plaintext: t,
                      filepath: t.name,
                      preview: i,
                      frame: r,
                      width: s,
                      height: n,
                      duration: a,
                      rotation: l,
                      bg: o,
                      caption: null,
                    },
                  });
                }
              })
              .catch((t) => {
                if ((__LOG__(4)`Error when processing video: ${t}`, this.RR)) {
                  var e = this.props.backend;
                  (0, b.e)({ title: 243, text: 242, onClose: e.goBack });
                }
              });
          }
          Rd() {
            var t = this.props.backend;
            (0, U.j)(t, "video/*")
              .then((e) => {
                if (this.RR)
                  if (e) {
                    if (!this.Rb(e))
                      return this.setState({ blob: e }), this.Re(e);
                  } else t.goBack();
              })
              .catch((e) => {
                throw (this.RR && t.goBack(), e);
              });
          }
          Rf() {
            var t = this.props.backend;
            (0, U.j)(t, "audio/*").then((t) => {
              if (this.RR)
                if (t) {
                  if (!this.Rb(t))
                    return (
                      this.setState({ blob: t }),
                      ((e = t),
                      (i = self.URL.createObjectURL(e)),
                      (r = document.createElement("audio")),
                      new Promise((t, e) => {
                        (r.src = i),
                          r.addEventListener("loadedmetadata", () => {
                            r.duration === 1 / 0
                              ? ((r.currentTime = Number.MAX_SAFE_INTEGER),
                                (r.ontimeupdate = () => {
                                  (r.ontimeupdate = null),
                                    t(r.duration),
                                    (r.currentTime = 0);
                                }))
                              : t(r.duration);
                          }),
                          (r.onerror = (t) => {
                            __LOG__(4)`loadAudio.onError: ${(0, ES.f)(t)}`,
                              e(new Error("loadAudio audio.onerror"));
                          }),
                          r.load();
                      })
                        .then((t) => {
                          var i = Math.ceil(t);
                          return "audio/ogg" !== e.type
                            ? { duration: i, mimetype: e.type }
                            : (function (t) {
                                return MS.apply(this, arguments);
                              })(e).then((t) => ({
                                duration: i,
                                mimetype: t
                                  ? "audio/ogg; codecs=opus"
                                  : "audio/ogg",
                              }));
                        })
                        .finally(() => {
                          __LOG__(2)`loadAudio closing`,
                            self.URL.revokeObjectURL(i),
                            r.removeAttribute("src"),
                            r.load();
                        })).then((e) => {
                        this.RR &&
                          this.setState(
                            {
                              previewUrl: null,
                              upload: {
                                type: "audio",
                                plaintext: t,
                                mimetype: e.mimetype,
                                filepath: t.name,
                                duration: e.duration,
                              },
                            },
                            () => {
                              var t = this.state.upload;
                              null != t && this.Ri(t);
                            }
                          );
                      })
                    );
                } else this.props.backend.goBack();
              var e, i, r;
            });
          }
          Ri(t) {
            var e = this.state,
              i = e.blob,
              r = e.imageRotation;
            "image" !== t.type ||
              this.RY ||
              ((this.RY = !0),
              WAM.log("regular", 2892, void 0, [2, 1, this.RX, 1, 1, !0])),
              0 !== r && null != i ? this.Rj(i, r, t) : this.Rk(t);
          }
          Rj(t, e, i) {
            var r = this.Rh();
            "image" === i.type &&
              (0, Fi.scaleImageAndConvertToJpg)(t, r, e).then((t) => {
                this.Rk({
                  type: "image",
                  plaintext: t.fullImage,
                  preview: t.preview,
                  width: t.fullImageWidth,
                  height: t.fullImageHeight,
                  bg: t.bg,
                  caption: null,
                });
              });
          }
          Rk(t) {
            if (!this.RS) {
              ("image" !== t.type && "video" !== t.type && "gif" !== t.type) ||
                (t.caption = this.state.caption);
              var e,
                i = this.props,
                r = i.backend;
              if (void 0 === i.jid)
                i.from,
                  r.openScreen("SEND_MEDIA_SELECT_CHAT_SCREEN", {
                    uploadRequest: t,
                    from: i.from,
                  });
              else {
                this.RS = !0;
                var s = i;
                if ("conversation" === s.from || "statusReply" === s.from) {
                  var n = s.jid,
                    a = s.quote,
                    l = s.actionAfterSending,
                    o = this.state.viewOnceEnabled ? (0, kr.f)(t) : t;
                  (function (t) {
                    var e;
                    "gif" === t.type &&
                      null != (e = _u(t.gifAttribution)) &&
                      WAM.log("regular", 1124, void 0, [1, 0, bu(e)]);
                  })(o),
                    r.sendMediaMsg(
                      n,
                      o,
                      a,
                      "cameraTab" === (e = s.from)
                        ? 2
                        : "externalShare" === e
                        ? 4
                        : 1
                    ),
                    (0, eh.a)(r, n),
                    (0, Sr.a)(r, l, this.Rl(t));
                } else {
                  s.from;
                  var u = s.actionAfterSending,
                    h = s.sessionId;
                  ("image" !== t.type && "video" !== t.type) ||
                    r.sendStatusMediaMsg(t, {
                      from: "statusTab",
                      sessionId: h,
                    }),
                    (0, Sr.a)(r, u, this.Rl(t));
                }
              }
            }
          }
          Rl(t) {
            var e = t.type;
            switch (e) {
              case "audio":
              case "voice":
                return "voice";
              case "document":
              case "gif":
              case "image":
              case "video":
                return e;
              default:
                return "vcard";
            }
          }
          onVideoRotationError() {
            this.setState({ imageRotation: 0, rotationError: !0 }),
              (0, b.e)({ title: 243, text: 796 });
          }
          addSoftKeys(t, e) {
            var i = this.state.upload,
              r = this.props,
              s = r.jid,
              n = r.media,
              a = r.settings,
              l = r.showDialogOnFirstSend;
            null != i &&
              "audio" !== n.type &&
              (s && s === ts.h
                ? a &&
                  t.setCenterLabel(935, () => {
                    xc(e, a, l, 935, () => {
                      this.Ri(i);
                    });
                  })
                : t.setCenterLabel(null == s ? 899 : 935, () => this.Ri(i))),
              t.setRightOptions(this.Rp),
              t.setLeftIcon(gu, () => this.Rq(e));
          }
          renderMedia() {
            var t = this.state,
              e = t.blob,
              i = t.previewUrl,
              r = t.imageRotation;
            if (!i) return (0, s.f)(1, "div", "SO", (0, s.b)(2, ss.a), 2);
            var n,
              a = 90 === r || 270 === r ? "SR" : "SQ",
              l = (function (t) {
                switch (t) {
                  case 90:
                    return "SX";
                  case 180:
                    return "SY";
                  case 270:
                    return "SZ";
                }
                return null;
              })(r);
            return (
              (n =
                "gif" === this.props.media.type
                  ? (0, s.b)(2, Hi, {
                      className: a,
                      blob: e,
                      autoPlay: !0,
                      muted: !0,
                      loop: !0,
                    })
                  : (0, s.f)(1, "img", (0, Mt.a)(a, l), null, 1, { src: i })),
              (0, s.f)(1, "div", "SP", n, 0)
            );
          }
          renderBottom() {
            var t = this.props,
              e = t.media,
              i = t.defaultCaption;
            return "audio" === e.type
              ? null
              : (0, s.f)(
                  1,
                  "div",
                  "SS",
                  [
                    (0, s.b)(
                      2,
                      Su.a,
                      {
                        className: "SV",
                        onChange: this.Rm,
                        hasFocusPriority: !0,
                        type: "text",
                        placeholder: 795,
                        defaultValue: i,
                      },
                      null,
                      this.RU
                    ),
                    this.state.viewOnceEnabled &&
                      (0, s.f)(
                        1,
                        "div",
                        "ST",
                        (0, s.b)(2, LS.a, { className: "SU" }),
                        2
                      ),
                  ],
                  0
                );
          }
          render() {
            return this.state.blob
              ? (0, s.c)([this.renderMedia(), this.renderBottom()], 0)
              : "gif" === this.props.media.type
              ? (0, s.f)(1, "div", "SO", (0, s.b)(2, ss.a), 2)
              : (0, s.f)(1, "div", "SW");
          }
        },
        US = (0, l.c)((0, d.e)(AS, { fullscreen: !0 }), function (t, e, i) {
          return Object.assign({}, i, {
            contacts: t.contacts,
            user: t.user,
            serverProps: t.serverProps,
            settings: t.status.settings,
            showDialogOnFirstSend: t.status.showDialogOnFirstSend,
            backend: e,
            overlayId: t.overlayId,
          });
        }),
        RS = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.done = (t, e) => {
                var i = this.props,
                  r = i.backend,
                  s = i.uploadRequest,
                  n = i.from,
                  a = t.map((t) => t.jid);
                if (
                  (a.forEach((t) => {
                    r.sendMediaMsg(t, s);
                  }),
                  e)
                )
                  if ("video" === s.type || "image" === s.type) {
                    var l =
                      "externalShare" === n
                        ? { from: "externalShare" }
                        : { from: "cameraTab" };
                    r.sendStatusMediaMsg(s, l);
                  } else
                    __LOG__(
                      3
                    )`SendMediaSelectChatScreen invalid upload request for status ${s.type}`,
                      SEND_LOGS("invalid-send-media-status");
                r.maybeRedirectAfterSharing(a, e);
              }),
              (this.renderTitle = (t) =>
                0 === t
                  ? (0, s.b)(2, o.b, { l10n: 954 })
                  : (0, s.b)(2, o.b, { l10n: [t, 249] })),
              t
            );
          }
          componentDidMount() {
            this.RQ();
          }
          componentDidUpdate() {
            this.RQ();
          }
          RQ() {
            var t = (0, rt.g)();
            this.props.uploadRequest.plaintext.size > t * F.b &&
              (0, b.e)({
                title: 243,
                text: [t, 187],
                onClose: this.props.backend.goBack,
              });
          }
          render() {
            var t = this.props,
              e = t.uploadRequest,
              i = t.statusVideoMaxDuration;
            return (0, s.b)(2, Nc, {
              renderTitle: this.renderTitle,
              done: 935,
              onDone: this.done,
              status: PS(e, i),
            });
          }
        };
      function PS(t, e) {
        return "image" === t.type
          ? { type: "allow" }
          : "gif" === t.type || "video" === t.type
          ? t.duration > e
            ? { type: "disable", subtitle: [e, 275] }
            : { type: "allow" }
          : (t.type, { type: "hide" });
      }
      var GS = (0, l.c)(RS, (t, e, i) => ({
          backend: e,
          uploadRequest: i.uploadRequest,
          from: i.from,
          statusVideoMaxDuration: t.serverProps.statusVideoMaxDuration,
        })),
        FS = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            [
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#25D366",
                d: "M359.5 309h37.1l63.1 114.2L522.8 309h36.3v187.6h-30.3V352.8l-55.3 99.6h-28.4l-55.3-99.6v143.8h-30.3V309zm297.3 190.9c-14 0-26.3-3.1-37-9.3-10.6-6.2-18.9-14.8-24.9-25.8S586 441.2 586 427c0-14.4 2.9-27.1 8.7-38.2s13.9-19.7 24.2-26c10.3-6.2 22.2-9.4 35.6-9.4 13.3 0 24.8 3.2 34.4 9.5s17 15.1 22.2 26.5 7.8 24.7 7.8 39.9v8.3H616.1c1.9 11.4 6.5 20.4 13.9 27 7.4 6.6 16.7 9.8 27.9 9.8 9 0 16.8-1.3 23.3-4s12.6-6.7 18.4-12.2l16.1 19.7c-16 14.7-35.6 22-58.9 22zM679 388.6c-6.3-6.5-14.7-9.7-24.9-9.7-10 0-18.4 3.3-25.1 9.9s-11 15.5-12.8 26.7h73.7c-1-11.4-4.6-20.4-10.9-26.9zm76.6-7h-27.9v-24.8h27.9v-41h29.2v41h42.4v24.8h-42.3v62.8c0 10.5 1.8 17.9 5.4 22.4 3.6 4.5 9.7 6.7 18.4 6.7 3.8 0 7.1-.2 9.8-.5 2.7-.3 5.6-.7 8.8-1.3v24.5c-3.3 1-7 1.8-11.2 2.4-4.2.6-8.5.9-13.1.9-31.5 0-47.3-17.2-47.3-51.7l-.1-66.2zm223.8 115h-28.7V477c-5.1 7.3-11.6 13-19.4 17-7.9 4-16.8 6-26.8 6-12.3 0-23.2-3.2-32.8-9.5s-17-15-22.4-26c-5.4-11-8.2-23.7-8.2-37.9 0-14.3 2.8-26.9 8.3-37.9 5.5-11 13.2-19.6 23-25.9s21-9.4 33.7-9.4c9.6 0 18.1 1.9 25.7 5.6 7.6 3.7 13.9 9 18.9 15.7v-18h28.7v139.9zm-29.2-90.9c-3.1-8-8.1-14.2-14.8-18.8-6.8-4.6-14.5-6.9-23.4-6.9-12.5 0-22.5 4.2-29.9 12.6-7.4 8.4-11.1 19.7-11.1 34 0 14.4 3.6 25.8 10.7 34.2 7.2 8.4 16.8 12.6 29.1 12.6 9 0 17.1-2.3 24.1-7 7.1-4.6 12.2-10.9 15.3-18.8v-41.9zM213.1 302.6c-24.4 0-43.4 18.3-60.6 41.6-23.7-30.2-43.5-41.6-67.2-41.6C37 302.6 0 365.5 0 432.1 0 473.7 20.1 500 53.9 500c24.3 0 41.8-11.5 72.8-65.7 0 0 13-22.9 21.9-38.6 3.1 5 6.4 10.5 9.9 16.3l14.6 24.5c28.4 47.5 44.2 63.6 72.8 63.6 32.9 0 51.2-26.6 51.2-69.2-.1-69.7-38-128.3-84-128.3zM103 419.5c-25.2 39.5-33.9 48.3-47.9 48.3-14.4 0-23-12.7-23-35.2 0-48.3 24.1-97.7 52.8-97.7 15.5 0 28.5 9 48.5 37.5-18.9 29-30.4 47.1-30.4 47.1zm95.1-4.9-17.4-29c-4.7-7.7-9.2-14.7-13.6-21.2 15.7-24.2 28.6-36.3 44-36.3 32 0 57.6 47.1 57.6 104.9 0 22-7.2 34.8-22.2 34.8-14.4.1-21.2-9.4-48.4-53.2z",
              }),
              (0, s.f)(32, "path", null, null, 1, {
                fill: "#67788A",
                d: "M308 142.6V60h-18V46.9h18v-12c0-11.4 2.9-20 8.7-25.9 5.8-5.9 13.8-8.9 24-8.9 6 0 11.3.7 15.9 2v13.6c-2.6-.7-5-1.2-7.3-1.4-2.2-.3-4.4-.4-6.5-.4-13 0-19.5 6.7-19.5 20V47h32.6v13h-32.6v82.6H308zm69.2 0V46.9h15.2v16.6c3-6 6.9-10.7 11.5-13.9 4.7-3.2 10.1-4.9 16.3-4.9 3 0 5.8.3 8.5.9v15.2c-1.5-.2-3.1-.4-4.8-.5s-3.3-.2-5-.2c-7 0-12.7 2.1-17 6.4-4.3 4.3-7.5 10-9.6 17.1v59h-15.1zm110.7 2.1c-9.6 0-17.8-2.1-24.8-6.5-7-4.3-12.4-10.2-16.2-17.7-3.8-7.5-5.7-16.1-5.7-25.8 0-9.8 1.9-18.4 5.7-25.9 3.8-7.5 9.2-13.4 16.2-17.7 7-4.3 15.3-6.4 24.8-6.4h1.9c9.6 0 17.8 2.1 24.8 6.4 7 4.3 12.4 10.2 16.2 17.7 3.8 7.5 5.7 16.1 5.7 25.9 0 9.7-1.9 18.3-5.7 25.8s-9.2 13.4-16.2 17.7c-7 4.3-15.3 6.5-24.8 6.5h-1.9zm.1-14h1.7c9.6 0 17.1-3.3 22.7-9.8 5.6-6.5 8.4-15.2 8.4-26.1 0-10.9-2.8-19.6-8.4-26.1-5.6-6.5-13.2-9.8-22.7-9.8H488c-9.6 0-17.1 3.3-22.7 9.8-5.6 6.5-8.4 15.2-8.4 26.1 0 10.8 2.8 19.5 8.4 26.1 5.6 6.5 13.2 9.8 22.7 9.8zm70.6 11.9V46.9h15.2v17.8c3.5-6.2 7.9-11 13.3-14.6s11.6-5.3 18.8-5.3h1.9c15.9 0 26.1 7.6 30.7 22.9 3.7-7.1 8.4-12.6 14.3-16.7s12.6-6.2 20.3-6.2h2c10.8 0 19 3.6 24.7 10.8s8.5 17.5 8.5 30.9v56.1h-15.2V88.7c0-19.9-7.3-29.8-21.8-29.8h-1.7c-6.9 0-12.8 2.3-17.7 6.8-4.9 4.6-8.5 10.3-10.8 17.3v59.6h-15.2V88.7c0-19.9-7.2-29.8-21.8-29.8h-1.8c-6.9 0-12.8 2.3-17.7 6.8-4.9 4.6-8.5 10.3-10.7 17.3v59.6h-15.3z",
              }),
            ],
            4,
            { viewBox: "0 0 979.4 500" }
          );
        },
        DS = [
          "profile",
          "allStarredMessages",
          "account",
          "chats",
          "notifications",
          "data",
          "storage",
          "help",
        ],
        zS = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.RL = !1),
              (this.RM = (t, e) => {
                switch (t) {
                  case "profile":
                    return (0, s.b)(2, jS, { selected: e });
                  case "allStarredMessages":
                    return (0, s.b)(2, BS, { selected: e });
                  case "account":
                    return (0, s.b)(2, WS, { selected: e });
                  case "linkedDevices":
                    return null;
                  case "chats":
                    return (0, s.b)(2, HS, { selected: e });
                  case "notifications":
                    return (0, s.b)(2, JS, { selected: e });
                  case "data":
                    return (0, s.b)(2, $S, { selected: e });
                  case "storage":
                    var i = this.props.currentStorageStats;
                    return (0, s.b)(2, YS, {
                      selected: e,
                      storageStats: null == i ? void 0 : i.storageStats,
                      totalMediaSize: null == i ? void 0 : i.totalMediaSize,
                    });
                  case "help":
                    return (0, s.b)(2, qS, { selected: e });
                  case "language":
                  case "internal":
                    return null;
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          componentDidMount() {
            var t = this.props.backend;
            (this.RL = !0),
              Promise.all([
                (0, Un.h)(),
                t.getStorageSettingTotalMediaSize(),
              ]).then((e) => {
                var i = ms()(e, 2),
                  r = i[0],
                  s = i[1],
                  n = s.totalMediaSize,
                  a = s.largeFilesTotalSize;
                this.RL &&
                  t.dispatch({
                    type: "UPDATE_STORAGE_STATS",
                    currentStorageStats: {
                      storageStats: r,
                      totalMediaSize: n,
                      largeFilesTotalSize: a,
                    },
                  });
              });
          }
          componentWillUnmount() {
            this.RL = !1;
          }
          render() {
            var t = DS;
            return (
              this.props.starredIndexMissing &&
                (t = t.filter((t) => "allStarredMessages" !== t)),
              (0, s.b)(2, S.a, {
                title: (0, s.b)(2, o.b, { l10n: 853 }),
                children: (0, s.b)(2, g.a, {
                  items: t,
                  keyOf: KS,
                  renderItem: this.RM,
                }),
              })
            );
          }
        },
        VS = (0, l.c)((0, d.e)(zS), (t, e) => {
          var i = t.starredIndexMissing,
            r = (t.screens, t.storageManager);
          return {
            starredIndexMissing: !!i,
            backend: e,
            currentStorageStats: null == r ? void 0 : r.currentStorageStats,
          };
        });
      function KS(t) {
        return t;
      }
      var jS = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_PROFILE");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 695,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        BS = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, (t) => {
              (function (t, e) {
                var i = qe(t, e, { limit: _e.R });
                t.openScreen("FEATURED_MESSAGES", {
                  chat: null,
                  items: [],
                  allLoaded: !1,
                  loading: { older: i },
                  featureType: e,
                });
              })(t, "star");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 960,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        WS = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_ACCOUNT");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 800,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        HS =
          (d.b,
          class extends d.b {
            addSoftKeys(t, e) {
              t.setCenterLabel(930, () => {
                e.openScreen("SETTINGS_CHATS");
              });
            }
            render() {
              return (0, s.b)(2, y.a, {
                title: 835,
                selected: this.props.selected,
                borderBottom: !0,
              });
            }
          }),
        JS = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_NOTIFICATIONS");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 851,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        $S = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_DATA");
            });
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 846,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        YS = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_STORAGE");
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.storageStats,
              r = t.totalMediaSize,
              n = null != i && i.externalStorageAvailSize < _e.X,
              a = e ? "SL" : n ? "SK" : "SJ";
            return (0, s.b)(2, y.a, {
              title: 852,
              selected: e,
              borderBottom: !0,
              rawSubtitle:
                r &&
                (0, s.b)(2, Nt.a, { size: r, highPrecision: !0, className: a }),
              rightComponent:
                n && (0, s.b)(2, aa, { className: (0, Mt.a)("SH", e && "SI") }),
            });
          }
        },
        qS = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(930, () => {
              e.openScreen("SETTINGS_HELP");
            });
          }
          render() {
            return (0, s.c)(
              [
                (0, s.b)(2, y.a, {
                  title: 849,
                  selected: this.props.selected,
                  borderBottom: !0,
                }),
                (0, s.f)(
                  1,
                  "div",
                  "SM",
                  (0, s.b)(2, FS, { className: "SN" }),
                  2
                ),
              ],
              4
            );
          }
        },
        XS =
          (d.b,
          d.b,
          ["autodownloadMobile", "autodownloadWifi", "autodownloadRoaming"]),
        QS = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.RN = (t, e) => {
                var i = this.props.settings[e],
                  r = yr.b.map((t) => ({
                    key: t,
                    label: ey(t),
                    checked: i.includes(t),
                  }));
                (0, b.k)({
                  title: t,
                  defaultItems: r,
                  onSave: (t) => {
                    this.RO(e, t);
                  },
                });
              }),
              (this.RP = (t, e) => {
                switch (t) {
                  case "autodownloadMobile":
                    return (0, s.c)(
                      [
                        (0, s.b)(2, y.g, { text: 223 }),
                        (0, s.b)(2, ry, {
                          selected: e,
                          settings: this.props.settings,
                          openSettingsMultiSelect: this.RN,
                        }),
                      ],
                      4
                    );
                  case "autodownloadWifi":
                    return (0, s.b)(2, sy, {
                      selected: e,
                      settings: this.props.settings,
                      openSettingsMultiSelect: this.RN,
                    });
                  case "autodownloadRoaming":
                    return (0, s.b)(2, ny, {
                      selected: e,
                      settings: this.props.settings,
                      openSettingsMultiSelect: this.RN,
                    });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.settings !== t.settings ||
                i.updateSettings !== t.updateSettings)
            );
          }
          RO(t, e) {
            var i = e.filter((t) => t.checked).map((t) => t.key);
            this.props.updateSettings({ [t]: (0, W.m)(i) });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 224 }),
              children: (0, s.b)(2, g.a, {
                items: XS,
                keyOf: ty,
                renderItem: this.RP,
              }),
            });
          }
        },
        ZS = (0, l.f)(
          (0, d.e)(QS),
          (t) => ({ settings: t.settings }),
          (t, e) => ({
            settings: t.settings,
            updateSettings: e.updateGeneralSettings,
          })
        );
      function ty(t) {
        return t;
      }
      function ey(t) {
        switch (t) {
          case "audio":
            return 34;
          case "photos":
            return 673;
          case "videos":
            return 1080;
          case "documents":
            return 256;
          default:
            return (0, m.a)(t);
        }
      }
      function iy(t) {
        switch (t.length) {
          case 0:
            return (0, s.b)(2, o.b, { l10n: 613 });
          case yr.b.length:
            return (0, s.b)(2, o.b, { l10n: 23 });
          default:
            return (0, le.h)(
              t.map((t) => (0, s.b)(2, o.b, { l10n: ey(t) }, t))
            );
        }
      }
      var ry = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.settings !== t.settings ||
                i.selected !== t.selected ||
                i.openSettingsMultiSelect !== t.openSettingsMultiSelect)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(877, () => {
              this.props.openSettingsMultiSelect(220, "autodownloadMobile");
            });
          }
          render() {
            return (0, s.b)(2, y.b, {
              title: 220,
              rawSubtitle: iy(this.props.settings.autodownloadMobile),
              selected: this.props.selected,
            });
          }
        },
        sy = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.settings !== t.settings ||
                i.selected !== t.selected ||
                i.openSettingsMultiSelect !== t.openSettingsMultiSelect)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(877, () => {
              this.props.openSettingsMultiSelect(222, "autodownloadWifi");
            });
          }
          render() {
            return (0, s.b)(2, y.b, {
              title: 222,
              rawSubtitle: iy(this.props.settings.autodownloadWifi),
              selected: this.props.selected,
            });
          }
        },
        ny = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.settings !== t.settings ||
                i.selected !== t.selected ||
                i.openSettingsMultiSelect !== t.openSettingsMultiSelect)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(877, () => {
              this.props.openSettingsMultiSelect(221, "autodownloadRoaming");
            });
          }
          render() {
            return (0, s.b)(2, y.b, {
              title: 221,
              rawSubtitle: iy(this.props.settings.autodownloadRoaming),
              selected: this.props.selected,
            });
          }
        },
        ay = ["stats", "largeFiles", "storageChats"],
        ly = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("SETTINGS_STORAGE_CHATS");
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.a, {
              title: 1002,
              selected: t,
              borderBottom: !0,
            });
          }
        },
        oy = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.largeFilesTotalSize !== t.largeFilesTotalSize)
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openStorageSettingMediaDrawer(null, { type: "largeFiles" });
            });
          }
          renderItemSubtitle() {
            var t = this.props.largeFilesTotalSize;
            return null == t
              ? (0, s.b)(2, o.b, { l10n: 1003 })
              : 0 === t
              ? (0, s.b)(2, o.b, { l10n: 617 })
              : (0, s.b)(2, Nt.a, { size: t, highPrecision: !0 });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.a, {
              title: [_e.w, 181],
              rawSubtitle: this.renderItemSubtitle(),
              selected: t,
              borderBottom: !0,
            });
          }
        };
      function uy(t) {
        var e = t.total,
          i = t.free,
          r = t.totalMediaSize,
          a = t.selected,
          l = (r / e) * 100 + "%",
          u = ((e - i - r) / e) * 100 + "%",
          h = (i / e) * 100 + "%",
          c = i < _e.X;
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("Rk", a && "Rl"),
          [
            (0, s.f)(
              1,
              "div",
              "Rm",
              [
                (0, s.f)(
                  1,
                  "div",
                  "Rq",
                  (0, s.b)(2, o.b, {
                    l10n: [
                      (0, s.b)(2, Nt.a, { size: r, highPrecision: !0 }),
                      277,
                    ],
                  }),
                  2
                ),
                (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)("Rn", c && "Rr"),
                  (0, s.b)(2, o.b, {
                    l10n: [
                      (0, s.b)(2, Nt.a, { size: i, highPrecision: !0 }),
                      276,
                    ],
                  }),
                  2
                ),
              ],
              4
            ),
            (0, s.f)(
              1,
              "div",
              "Rs",
              [
                (0, s.f)(1, "div", "Rt", null, 1, { style: n.h({ width: l }) }),
                (0, s.f)(1, "div", "Ru", null, 1, { style: n.h({ width: u }) }),
                (0, s.f)(1, "div", (0, Mt.a)("Rv", c && "Rw"), null, 1, {
                  style: n.h({ width: h }),
                }),
              ],
              4
            ),
            (0, s.f)(
              1,
              "div",
              "Rx",
              [
                (0, s.f)(
                  1,
                  "div",
                  "Rp Ry",
                  (0, s.b)(2, o.b, { l10n: 1005 }),
                  2
                ),
                (0, s.f)(
                  1,
                  "div",
                  "Ro Ry",
                  (0, s.b)(2, o.b, { l10n: 1004 }),
                  2
                ),
              ],
              4
            ),
          ],
          4
        );
      }
      var hy = class extends n.a {
          constructor(t, e) {
            var i;
            super(t, e),
              (i = this),
              (this.QV = !1),
              (this.QW = za()(function* () {
                var t = i.props.backend,
                  e = yield Promise.all([
                    (0, Un.h)(),
                    t.getStorageSettingTotalMediaSize(),
                  ]),
                  r = ms()(e, 2),
                  s = r[0],
                  n = r[1],
                  a = n.totalMediaSize,
                  l = n.largeFilesTotalSize;
                i.QV &&
                  t.dispatch({
                    type: "UPDATE_STORAGE_STATS",
                    currentStorageStats: {
                      storageStats: s,
                      totalMediaSize: a,
                      largeFilesTotalSize: l,
                    },
                  });
              })),
              (this.QX = (t, e) => {
                var i = this.props.currentStorageStats,
                  r = i.storageStats,
                  n = i.totalMediaSize,
                  a = i.largeFilesTotalSize,
                  l = null;
                if (null != r && null != n && null != a) {
                  var o = r.externalStorageTotalSize,
                    u = r.externalStorageAvailSize;
                  l = (0, s.b)(2, uy, {
                    total: o,
                    free: u,
                    totalMediaSize: n,
                    largeFilesTotalSize: a,
                    selected: e,
                  });
                } else l = (0, s.f)(1, "div", "Rz SG", (0, s.b)(2, ss.a), 2);
                switch (t) {
                  case "stats":
                    return l;
                  case "storageChats":
                    return (0, s.b)(2, ly, { selected: e });
                  default:
                    return (0, s.c)(
                      [
                        (0, s.b)(2, y.g, { text: 765 }),
                        (0, s.b)(2, oy, {
                          selected: e,
                          largeFilesTotalSize: a,
                        }),
                      ],
                      4
                    );
                }
              });
          }
          componentDidMount() {
            this.QV = !0;
            var t = this.props.currentStorageStats,
              e = t.storageStats,
              i = t.totalMediaSize,
              r = t.largeFilesTotalSize;
            (e && i && r) || this.QW();
          }
          componentDidUpdate(t) {
            var e = this.props.lastStorageStatsTs;
            e && e !== t.lastStorageStatsTs && this.QW();
          }
          render() {
            var t = this.props.currentStorageStats,
              e = t.storageStats,
              i = t.totalMediaSize;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1006 }),
              children: (0, s.b)(2, g.c, {
                items: ay,
                keyOf: dy,
                estimatedItemHeight: D.b,
                renderItem: this.QX,
                start: { item: "largeFiles", scrollFromTop: "none" },
                deps: [e, i],
              }),
            });
          }
        },
        cy = (0, l.c)((0, d.e)(hy), (t, e) => {
          var i = t.storageManager,
            r = i.currentStorageStats;
          return {
            backend: e,
            lastStorageStatsTs: i.lastStorageStatsTs,
            currentStorageStats: r,
          };
        });
      function dy(t) {
        return t;
      }
      function vy(t, e) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("Sx Et", e && "Sz Ev"),
          (0, s.f)(1, "div", "Sy Eu FV FS FY FU", t, 0),
          2
        );
      }
      var py = class extends d.b {
        addSoftKeys(t, e) {
          t.setCenterLabel(903, () => {
            e.openStorageSettingMediaDrawer(this.props.chat, {
              type: "chat",
              chatId: this.props.chat.id,
            });
          });
        }
        render() {
          return this.props.children;
        }
      };
      function fy(t, e, i, r) {
        return (0, s.b)(2, py, {
          chat: e,
          selected: t,
          children: (0, s.b)(2, y.k, {
            selected: t,
            className: "St DH",
            children: [
              (0, s.b)(2, vt.c, { className: "Sw DN Fa", jid: e.jid }),
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Su DI", t && "Sv DJ"),
                [
                  vy(i, t),
                  (0, s.f)(
                    1,
                    "div",
                    (0, Mt.a)("TA", t && "TB"),
                    (0, s.b)(2, Nt.a, { size: r, highPrecision: !0 }),
                    2
                  ),
                ],
                0
              ),
            ],
          }),
        });
      }
      var my = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.contacts !== t.contacts ||
                i.selected !== t.selected ||
                i.size !== t.size)
            );
          }
          render() {
            var t = this.props,
              e = t.chat,
              i = t.contacts,
              r = t.selected,
              n = t.size;
            return fy(r, e, (0, s.b)(2, j.a, { jid: e.jid, contacts: i }), n);
          }
        },
        gy = class extends n.a {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.chat !== t.chat ||
                i.selected !== t.selected ||
                i.size !== t.size)
            );
          }
          render() {
            var t = this.props,
              e = t.chat,
              i = t.selected,
              r = t.size;
            return fy(i, e, (0, h.b)(e.groupInfo.title), r);
          }
        },
        Sy = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.QS = !1),
              (this.state = { items: null }),
              (this.QT = () => {
                this.props.backend
                  .getStorageSettingChatsMediaSizes()
                  .then((t) => {
                    var e = t.chatIdsWithMediaSize;
                    if (this.QS) {
                      var i = this.props.chats,
                        r = e.map((t) => {
                          var e = t.chatId,
                            r = t.mediaSize;
                          return { chat: i[e], mediaSize: r };
                        });
                      this.setState({ items: r });
                    }
                  });
              }),
              (this.QU = (t, e) => {
                var i = t.chat,
                  r = t.mediaSize,
                  n = this.props.contacts;
                switch (i.type) {
                  case "ONE_TO_ONE":
                    return (0, s.b)(2, my, {
                      chat: i,
                      contacts: n,
                      selected: e,
                      size: r,
                    });
                  case "GROUP":
                    return (0, s.b)(2, gy, { chat: i, selected: e, size: r });
                  default:
                    return (0, m.a)(i);
                }
              }),
              t
            );
          }
          componentDidMount() {
            (this.QS = !0), this.QT();
          }
          componentDidUpdate(t) {
            var e = this.props.lastStorageStatsTs;
            e && e !== t.lastStorageStatsTs && this.QT();
          }
          componentWillUnmount() {
            this.QS = !1;
          }
          render() {
            var t = this.props.contacts,
              e = this.state.items,
              i =
                null == e
                  ? (0, s.b)(2, _i.a)
                  : (0, s.b)(2, g.c, {
                      className: "Rj",
                      items: e,
                      keyOf: _y,
                      estimatedItemHeight: D.b,
                      emptyLabel: 610,
                      renderItem: this.QU,
                      search: by(e, t),
                    });
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1002 }),
              children: i,
            });
          }
        },
        yy = (0, l.c)((0, d.e)(Sy), (t, e) => ({
          chats: t.chatlist.chats,
          contacts: t.contacts,
          backend: e,
          lastStorageStatsTs: t.storageManager.lastStorageStatsTs,
        }));
      function _y(t) {
        return String(t.chat.id);
      }
      function by(t, e) {
        return {
          filter: (i, r) => (0, B.d)(i, t, (t) => t.chat, e),
          emptyLabel: 132,
        };
      }
      var xy = ["oneToOneShow", "groupsShow", "messagePreview", "reactions"],
        wy = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.QQ = (t, e) => {
                switch (t) {
                  case "oneToOneShow":
                    return this.QR(
                      626,
                      620,
                      "showOneToOne",
                      this.props.settings.showOneToOne,
                      e
                    );
                  case "groupsShow":
                    return this.QR(
                      625,
                      619,
                      "showGroups",
                      this.props.settings.showGroups,
                      e
                    );
                  case "messagePreview":
                    return this.QR(
                      627,
                      621,
                      "showPreviews",
                      this.props.settings.showPreviews,
                      e
                    );
                  case "reactions":
                    return this.QR(
                      713,
                      712,
                      "showReactions",
                      this.props.settings.showReactions,
                      e
                    );
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.settings !== t.settings;
          }
          QR(t, e, i, r, n) {
            return (0, s.b)(2, Cy, {
              title: t,
              text: e,
              checked: r,
              selected: n,
              setting: i,
            });
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 628 }),
              children: (0, s.b)(2, g.a, {
                items: xy,
                keyOf: ky,
                renderItem: this.QQ,
              }),
            });
          }
        },
        Oy = (0, l.c)((0, d.e)(wy), (t) => {
          var e = t.settings;
          return {
            settings: {
              showOneToOne: e.showOneToOne,
              showGroups: e.showGroups,
              showPreviews: e.showPreviews,
              showReactions: e.showReactions,
            },
          };
        });
      function ky(t) {
        return t;
      }
      var Cy = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.title !== t.title ||
                i.text !== t.text ||
                i.checked !== t.checked ||
                i.selected !== t.selected ||
                i.setting !== t.setting)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.checked,
              s = i.setting;
            r
              ? t.setCenterLabel(874, () => {
                  e.updateGeneralSettings({ [s]: !1 });
                })
              : t.setCenterLabel(878, () => {
                  e.updateGeneralSettings({ [s]: !0 });
                });
          }
          render() {
            var t = this.props,
              e = t.title,
              i = t.text,
              r = t.checked,
              n = t.selected;
            return (0, s.c)(
              [
                (0, s.b)(2, y.e, { title: e, checked: r, selected: n }),
                (0, s.b)(2, y.n, { text: i }),
              ],
              4
            );
          }
        },
        Ny = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.QN = (t) => {
                var e = this.props,
                  i = e.groupAdd,
                  r = e.backend;
                "none" === i
                  ? (0, b.f)({
                      text: 811,
                      onConfirm: () => {
                        r.updateGeneralSettings({
                          groupAdd: "contact_blacklist",
                          groupAddBlacklist: t,
                        }),
                          r.goBack();
                      },
                    })
                  : (r.updateGeneralSettings({
                      groupAdd: "contact_blacklist",
                      groupAddBlacklist: t,
                    }),
                    r.goBack());
              }),
              (this.QO = (t) => {
                var e = this.props,
                  i = e.backend,
                  r = e.groupAddBlacklist;
                (0, W.b)((0, W.c)(r), t)
                  ? i.goBack()
                  : (0, b.g)({
                      title: 848,
                      text: 847,
                      left: 876,
                      onSoftLeft: () => {
                        i.goBack();
                      },
                      right: 928,
                      onSoftRight: () => {
                        this.QN(t);
                      },
                    });
              }),
              (this.QP = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 245] })
                  : (0, s.b)(2, o.b, { l10n: 801 })),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.groupAdd !== t.groupAdd ||
                i.groupAddBlacklist !== t.groupAddBlacklist)
            );
          }
          render() {
            return (0, s.b)(2, J, {
              defaultSelectedContacts: this.props.groupAddBlacklist,
              renderTitle: this.QP,
              done: 928,
              onDone: this.QN,
              onCancel: this.QO,
              selectAll: !0,
              allowEmpty: !0,
              allowUnchanged: !0,
            });
          }
        },
        Iy = (0, l.f)(
          Ny,
          (t, e) => ({
            groupAdd: t.settings.groupAdd,
            groupAddBlacklist: e.groupAddBlacklist,
          }),
          (t, e) => ({
            groupAdd: t.groupAdd,
            groupAddBlacklist: new Set(t.groupAddBlacklist),
            backend: e,
          })
        ),
        Ey = i(234),
        Ty = "HL Fa",
        My = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.LD = !1),
              (this.state = { pickedContacts: new Set(), sending: !1 }),
              (this.LE = (t, e) => {
                var i = this.state.pickedContacts;
                if (!i.has(t)) {
                  var r = this.props.maxParticipants;
                  if (i.size >= r) (0, b.e)({ title: 243, text: [r, 247] });
                  else {
                    var s = new Set(i);
                    s.add(t), this.setState({ pickedContacts: s });
                  }
                }
              }),
              (this.LF = (t) => {
                var e = this.state.pickedContacts;
                if (e.has(t)) {
                  var i = new Set(e);
                  i.delete(t), this.setState({ pickedContacts: i });
                }
              }),
              (this.LG = (t, e) => {
                var i = this.props.contactInfoMap,
                  r = (0, B.g)(t);
                return e.filter((t) => {
                  var e = i.get(t);
                  return !!e && (0, B.f)(e.contact, r);
                });
              }),
              (this.LI = (t, e) => {
                var i = this.props.contactInfoMap.get(t) || null;
                return (
                  i &&
                  (0, s.b)(2, Ay, {
                    contactInfo: i,
                    picked: this.state.pickedContacts.has(t),
                    selected: e,
                    onContactPicked: this.LE,
                    onContactUnpicked: this.LF,
                  })
                );
              }),
              t
            );
          }
          componentDidMount() {
            (this.LD = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.LD = !1), super.componentWillUnmount();
          }
          LH(t) {
            this.setState((e) => {
              if (!e.sending) {
                var i = this.props,
                  r = i.jid,
                  s = i.contacts,
                  n = i.quote,
                  a = i.contactInfoMap,
                  l = i.actionAfterSending;
                return (
                  Promise.resolve().then(() => {
                    var i = [];
                    e.pickedContacts.forEach((t) => {
                      var e = a.get(t);
                      if (e) {
                        var r = (0, En.g)(e, s);
                        i.push({ displayName: (0, En.d)(r), vcard: r });
                      }
                    }),
                      t.sendVCardMsg(r, i, n).then((e) => {
                        if (this.LD)
                          if ("success" !== e) {
                            switch (e.error.reason) {
                              case "too-big":
                                (0, b.e)({ text: [i.length, 297] });
                                break;
                              default:
                                e.error.reason,
                                  __LOG__(
                                    4
                                  )`Tried to share empty vcard message`;
                            }
                            this.setState({ sending: !1 });
                          } else (0, Sr.a)(t, l, "vcard");
                      });
                  }),
                  { sending: !0 }
                );
              }
            });
          }
          addSoftKeys(t, e) {
            this.state.sending
              ? t.setFull(937)
              : (t.addCancel(),
                this.state.pickedContacts.size > 0 &&
                  t.setRightLabel(935, () => {
                    this.LH(e);
                  }));
          }
          render() {
            var t = this.state.pickedContacts.size,
              e =
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 248] })
                  : (0, s.b)(2, o.b, { l10n: 952 }),
              i = this.props.phoneNumbers,
              r =
                0 === i.length ? void 0 : { filter: this.LG, emptyLabel: 601 };
            return (0, s.b)(2, S.a, {
              title: e,
              children: (0, s.b)(2, g.c, {
                items: i,
                keyOf: Ly,
                search: r,
                estimatedItemHeight: D.c,
                emptyLabel: 600,
                renderItem: this.LI,
                deps: [this.state.pickedContacts],
              }),
            });
          }
        };
      function Ly(t) {
        return t;
      }
      var Ay = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.contactInfo !== t.contactInfo ||
                i.picked !== t.picked ||
                i.selected !== t.selected ||
                i.onContactPicked !== t.onContactPicked ||
                i.onContactUnpicked !== t.onContactUnpicked)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.contactInfo.id,
              s = i.onContactPicked,
              n = i.onContactUnpicked;
            i.picked
              ? t.setCenterLabel(406, () => {
                  n(r);
                })
              : t.setCenterLabel(857, () => {
                  s(r, e);
                });
          }
          renderAvatar() {
            var t = this.props.contactInfo.avatarJid;
            return t
              ? (0, s.b)(2, vt.c, { jid: t, className: Ty })
              : (0, vt.b)(Ty);
          }
          renderContactName() {
            var t = this.props.contactInfo,
              e = t.names,
              i = t.contact,
              r = e.fullName || e.shortName || null;
            return r
              ? (0, s.f)(1, "span", null, r, 0, { dir: "auto" })
              : i.tel && i.tel.length > 0
              ? (0, s.f)(1, "span", null, i.tel[0].value, 0, { dir: "ltr" })
              : i.email && i.email.length > 0
              ? (0, s.f)(1, "span", null, i.email[0].value, 0, { dir: "auto" })
              : null;
          }
          render() {
            var t = this.props,
              e = t.picked,
              i = t.selected;
            return (0, s.b)(2, y.k, {
              selected: i,
              className: "HK",
              children: [
                this.renderAvatar(),
                (0, s.f)(1, "div", "HM", this.renderContactName(), 0),
                (0, s.b)(2, z.a, { checked: e, selected: i }),
              ],
            });
          }
        },
        Uy = (0, Uh.b)(function (t, e) {
          var i = new Map();
          (0, F.y)(t).forEach((t) => {
            t && t.phonebookPhone && i.set(t.phonebookPhone, t.jid);
          });
          var r = [],
            s = new Map();
          return (
            e.forEach((t) => {
              var e = (0, Ey.a)(t);
              if (
                (function (t, e) {
                  return (
                    null != (t.fullName || t.shortName || null) ||
                    (e.tel && e.tel.length > 0) ||
                    (e.email && e.email.length > 0) ||
                    !1
                  );
                })(e, t)
              ) {
                var n,
                  a = t.tel,
                  l = new Map();
                if (a)
                  for (var o = 0; o < a.length; ++o) {
                    var u = a[o],
                      h = u && i.get(u.value);
                    h && (l.set(u.value, h), n || (n = h));
                  }
                var c = {
                  id: t.id,
                  contact: t,
                  names: e,
                  userJids: l,
                  avatarJid: n,
                };
                r.push(c), s.set(t.id, c);
              }
            }),
            { phoneNumbers: r.sort(Ry).map((t) => t.id), contactInfoMap: s }
          );
        });
      function Ry(t, e) {
        var i = t.names.fullName || t.names.shortName,
          r = e.names.fullName || e.names.shortName;
        return i && r ? i.localeCompare(r) : i ? -1 : r ? 1 : 0;
      }
      var Py = (0, l.f)(
          (0, d.e)(My),
          (t, e) => ({
            jid: e.jid,
            phoneContacts: e.phoneContacts,
            quote: e.quote,
            actionAfterSending: e.actionAfterSending,
            contacts: t.contacts,
            maxParticipants: t.serverProps.maxParticipants,
          }),
          (t) => {
            var e = t.contacts,
              i = t.jid,
              r = t.phoneContacts,
              s = t.maxParticipants,
              n = t.quote,
              a = t.actionAfterSending,
              l = Uy(e, r);
            return {
              jid: i,
              contacts: e,
              phoneNumbers: l.phoneNumbers,
              contactInfoMap: l.contactInfoMap,
              maxParticipants: s,
              quote: n,
              actionAfterSending: a,
            };
          }
        ),
        Gy = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ku = !1),
              (this.state = {}),
              (this.Kz = (t, e) => {
                var i = this.props,
                  r = i.data,
                  s = i.backend,
                  n = t.map((t) => t.jid);
                switch (r.type) {
                  case "image/*":
                    var a = (function (t, e) {
                      return t.blobs.map((t) =>
                        (0, Fi.scaleImageAndConvertToJpg)(t, e).then((t) => ({
                          type: "image",
                          plaintext: t.fullImage,
                          preview: t.preview,
                          width: t.fullImageWidth,
                          height: t.fullImageHeight,
                          bg: t.bg,
                          caption: null,
                        }))
                      );
                    })(r, n.length > 0 && e ? "both" : e ? "status" : "chat");
                    s.sendMediaMsgs(n, e, a, { from: "externalShare" });
                    break;
                  case "video/*":
                    var l = this.Kt;
                    if (!l) return;
                    s.sendMediaMsgs(n, e, l, { from: "externalShare" });
                    break;
                  default:
                    r.type,
                      (function (t) {
                        var e = t.blobs.map((t) =>
                          (0, F.h)(t)
                            .then((t) => {
                              var e = new Li.a(t),
                                i = (function (t) {
                                  var e = 0,
                                    i = t.length;
                                  return (
                                    t.startsWith("0") && (e = 1),
                                    t.endsWith("\n") && (i = t.length - 1),
                                    t.slice(e, i).replace("\nn:", "\nN:")
                                  );
                                })(e.readString(e.size())),
                                r = (0, En.i)(i),
                                s = r.photo;
                              return s
                                ? (0, Fi.cropAndResizeVCardPhoto)(
                                    Mi.a + s
                                  ).then(
                                    (t) => (
                                      (r.photo = (function (t) {
                                        return t.startsWith(Mi.a)
                                          ? t.slice(Mi.a.length)
                                          : t;
                                      })(t)),
                                      r
                                    )
                                  )
                                : r;
                            })
                            .then((t) => ({
                              displayName: (0, En.d)(t),
                              vcard: t,
                            }))
                        );
                        return Promise.all(e);
                      })(r)
                        .then((t) => {
                          n.forEach((e) => {
                            s.sendVCardMsg(e, t).then(() => {});
                          });
                        })
                        .catch((t) => {
                          __LOG__(
                            4
                          )`There was an error processing shared vcards: ${t}`;
                        });
                }
                s.maybeRedirectAfterSharing(n, e);
              }),
              (this.LA = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 249] })
                  : (0, s.b)(2, o.b, { l10n: 954 })),
              t
            );
          }
          componentDidMount() {
            (this.Ku = !0), this.Kv(), this.Kw(), this.Kx(), this.Ky();
          }
          componentDidUpdate(t) {
            this.Kv(t), this.Kw(t), this.Kx(t);
          }
          componentWillUnmount() {
            this.Ku = !1;
          }
          Ky() {
            var t = this.props.data;
            if ("video/*" === t.type) {
              var e = (function (t) {
                return t.blobs.map((t) =>
                  (0, Fi.videoInfoAndPreview)(t).then((e) => ({
                    type: "video",
                    plaintext: t,
                    filepath: t.name,
                    preview: e.preview,
                    frame: e.highResPreview,
                    width: e.width,
                    height: e.height,
                    duration: e.duration,
                    rotation: e.rotation,
                    bg: e.bg,
                    caption: null,
                  }))
                );
              })(t);
              (this.Kt = e),
                Promise.all(e)
                  .then((t) => {
                    if (this.Ku) {
                      var e = 0;
                      t.forEach((t) => {
                        e = Math.max(e, t.duration);
                      }),
                        this.setState({ videoUploadRequestsMaxDuration: e });
                    }
                  })
                  .catch((t) => {
                    if (
                      (__LOG__(4)`Error when processing shared video: ${t}`,
                      this.Ku)
                    ) {
                      var e = this.props.backend;
                      (0, b.e)({ title: 243, text: 242, onClose: e.goBack });
                    }
                  });
            }
          }
          Kv(t) {
            var e = this.props,
              i = e.data,
              r = e.vcardTooBig,
              s = e.backend;
            r &&
              !(null == t ? void 0 : t.vcardTooBig) &&
              (0, b.g)({
                text: [i.blobs.length, 297],
                onBack: s.goBack,
                center: 902,
                onSoftCenter: s.goBack,
              });
          }
          Kw(t) {
            var e = this.props,
              i = e.anyTooBig,
              r = e.backend,
              s = e.maxMediaSize;
            i &&
              !(null == t ? void 0 : t.anyTooBig) &&
              (0, b.g)({
                title: 243,
                text: [s, 187],
                onBack: r.goBack,
                center: 902,
                onSoftCenter: r.goBack,
              });
          }
          Kx(t) {
            var e = this.props,
              i = e.tooManyItems,
              r = e.backend;
            i &&
              !(null == t ? void 0 : t.tooManyItems) &&
              (0, b.g)({
                title: 243,
                text: [_e.A, 287],
                onBack: r.goBack,
                center: 902,
                onSoftCenter: r.goBack,
              });
          }
          render() {
            var t = this.props,
              e = t.data,
              i = t.serverProps,
              r = this.state.videoUploadRequestsMaxDuration;
            return (0, s.b)(2, Nc, {
              renderTitle: this.LA,
              done: 935,
              onDone: this.Kz,
              status: Fy(e, i.statusVideoMaxDuration, r),
            });
          }
        };
      function Fy(t, e, i) {
        switch (t.type) {
          case "image/*":
            return { type: "allow" };
          case "video/*":
            return null == i
              ? { type: "disable", subtitle: 894 }
              : i > e
              ? { type: "disable", subtitle: [e, 275] }
              : { type: "allow" };
          default:
            return { type: "hide" };
        }
      }
      var Dy = (0, l.f)(
          Gy,
          (t, e) => ({ data: e.data, serverProps: t.serverProps }),
          (t, e) => {
            var i = (0, rt.g)(),
              r = t.data.blobs.some((t) => t.size > i * F.b),
              s = !1;
            if ("text/vcard" === t.data.type) {
              var n = t.data.blobs.reduce((t, e) => t + e.size, 0);
              (n += t.data.blobs.length - 1) >
                t.serverProps.vcardMaxSizeKb * F.a && (s = !0);
            }
            var a = t.data.blobs.length > _e.A;
            return {
              data: t.data,
              serverProps: t.serverProps,
              anyTooBig: r,
              vcardTooBig: s,
              maxMediaSize: i,
              tooManyItems: a,
              backend: e,
            };
          }
        ),
        zy = class extends n.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ko = !1),
              (this.Kp = null),
              (this.Kr = (t, e) => {
                var i = this.props,
                  r = i.backend,
                  s = i.text,
                  n = i.preview,
                  a = i.fromWaMe && { origText: s, urlNumber: !1 },
                  l = { text: s, link: this.Kp || void 0, waMeInfo: a },
                  o = t.map((t) => t.jid),
                  u = Uo(s);
                if (null != u && null == l.link) {
                  if (null != n && n.matchedText === u.matchedText)
                    return (
                      (l.link = {
                        canonicalUrl: u.matchedText,
                        matchedText: u.matchedText,
                        description: n.description,
                        imgBlob: n.imgBlob,
                        title: n.title,
                      }),
                      void this.Kq(o, l, e)
                    );
                  var h = this,
                    c = u.matchedText;
                  r.spinUntilReady(
                    Po(c)
                      .catch(
                        (t) => (
                          __LOG__(
                            4
                          )`ShareTextScreen getLinkPreviewFromUrl error ${t}`,
                          null
                        )
                      )
                      .then((t) => () => {
                        h.Ko &&
                          (null == t
                            ? (l.link = {
                                imgBlob: null,
                                matchedText: c,
                                canonicalUrl: c,
                                description: c,
                                title: null,
                              })
                            : ((h.Kp = Object.assign({}, t, {
                                matchedText: c,
                              })),
                              (l.link = h.Kp)),
                          h.Kq(o, l, e));
                      }),
                    957,
                    894
                  );
                } else this.Kq(o, l, e);
              }),
              (this.Ks = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 253] })
                  : (0, s.b)(2, o.b, { l10n: 957 })),
              t
            );
          }
          componentDidMount() {
            this.Ko = !0;
          }
          componentWillUnmount() {
            this.Ko = !1;
          }
          Kq(t, e, i) {
            var r = this.props.backend;
            if (i && 0 === t.length) {
              var s = (0, rt.h)();
              r.sendStatusTextMsg(e.text, s, e.link, { from: "externalShare" }),
                r.closeAllScreens();
            } else
              i || 1 !== t.length
                ? r.openScreen("SHARE_TEXT_MULTIPLE_SCREEN", {
                    text: e.text,
                    jids: t,
                    preview: e.link,
                    toStatus: i,
                    waMeInfo: e.waMeInfo,
                  })
                : (0, Et.a)(r, t[0], "newest", e, "withComposeBoxOpened");
          }
          render() {
            var t,
              e =
                ((t = this.props.text),
                (0, Zh.m)(t) > _e.U
                  ? { type: "allow", subtitle: [_e.U, 267] }
                  : { type: "allow" });
            return (0, s.b)(2, Nc, {
              renderTitle: this.Ks,
              done: 935,
              onDone: this.Kr,
              status: e,
            });
          }
        },
        Vy = (0, l.j)(zy),
        Ky = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Kl = n.e()),
              (this.Kn = (t) => {
                var e = this.props.preview;
                if (!this.state.hidePreview && e) {
                  var i = Uo(t);
                  if (null == i || i.matchedText !== e.matchedText)
                    return void this.setState({ text: t, hidePreview: !0 });
                }
                this.setState({ text: t });
              }),
              (this.state = { text: t.text, hidePreview: null == t.preview });
          }
          Km(t) {
            var e = this.props,
              i = e.preview,
              r = e.toStatus,
              s = e.waMeInfo,
              n = this.state,
              a = n.hidePreview,
              l = n.text,
              o = a ? null : i;
            if (
              (this.props.jids.forEach((e) => {
                t.sendTextMsg(e, l, null, o, s);
              }),
              r)
            ) {
              var u = (0, rt.h)();
              t.sendStatusTextMsg(l, u, o, { from: "externalShare" });
            }
            t.closeAllScreens();
          }
          addSoftKeys(t, e) {
            t.setLeftAsBack(),
              D.f ||
                t.setRightIcon(gu, () => {
                  mu(e, (t) => {
                    var e = this.Kl.current;
                    e && e.pasteText(t);
                  });
                }),
              t.setCenterLabel(935, () => {
                this.Km(e);
              });
          }
          render() {
            var t = this.props.preview,
              e = this.state.hidePreview;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 957 }),
              children: (0, s.f)(
                1,
                "div",
                "HB",
                [
                  !e && null != t && (0, s.b)(2, _a, { content: t }),
                  (0, s.f)(
                    1,
                    "div",
                    "HC",
                    (0, s.b)(
                      2,
                      xv.a,
                      {
                        className: "HD",
                        hasFocusPriority: !0,
                        placeholder: 387,
                        defaultValue: this.props.text,
                        onChange: this.Kn,
                      },
                      null,
                      this.Kl
                    ),
                    2
                  ),
                ],
                0
              ),
            });
          }
        },
        jy = (0, d.e)(Ky, { fullscreen: !1 }),
        By = i(519),
        Wy = i(450),
        Hy = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.KX = n.e()),
              (this.KY = null),
              (this.KZ = n.e()),
              (this.Ka = !1),
              (this.Kd = () => {
                if (this.KX.current) {
                  var t = this.KY;
                  if (t) {
                    var e = this.KX.current.getBoundingClientRect(),
                      i = e.top - t.top,
                      r = t.height - e.height;
                    r < 0 && (r = 0),
                      (r /= 2),
                      this.Ke(t.element.scrollTop + i - r);
                  }
                }
              }),
              (this.Ke = (t) => {
                var e,
                  i,
                  r,
                  s,
                  n =
                    (null == (e = this.KY) || null == (i = e.element)
                      ? void 0
                      : i.scrollTopMax) || 1 / 0,
                  a = Math.min(n, Math.round(t));
                null == (r = this.KY) ||
                  null == (s = r.element) ||
                  s.scrollTo(0, a);
              }),
              (this.goNext = () => {
                var t = this.props.items,
                  e = this.state.selection;
                "msg" === e.type &&
                  e.index < t.length - 1 &&
                  this.setState({
                    selection: {
                      type: "msg",
                      index: e.index + 1,
                      key: this.props.items[e.index + 1].key,
                    },
                  });
              }),
              (this.Ki = (t, e) => {
                var i,
                  r,
                  n,
                  a,
                  l,
                  h,
                  c = this.state.selection,
                  d = this.props,
                  v = d.items,
                  p = d.isActiveScreen,
                  f = "msg" === c.type && t.key === c.key,
                  m = f ? this.KX : null,
                  g = 0 === e ? null : v[e - 1],
                  S = null == g || t.msg.id !== g.msg.id,
                  y = e === v.length - 1 ? null : v[e + 1],
                  _ = null == y || t.msg.id !== y.msg.id;
                if ("keep" === this.props.featureType) {
                  if (_) {
                    var b = t.msg.keptInfo;
                    null != (null == b ? void 0 : b.kept) &&
                      ((a = this.props.contacts),
                      (l = b.author),
                      (h = (0, Ae.b)(a, l)),
                      (i = (0, s.f)(1, "div", (0, Mt.a)("Gz", "Gr"), h, 0)));
                  }
                  var x;
                  0 === e &&
                    ((n =
                      "GROUP" ===
                      (null == (x = this.props.chat) ? void 0 : x.type)
                        ? (0, s.c)([u.c, (0, s.b)(2, o.b, { l10n: 534 })], 0)
                        : null),
                    (r = (0, s.f)(
                      1,
                      "div",
                      "HA",
                      [(0, s.b)(2, o.b, { l10n: 533 }), n],
                      0
                    )));
                }
                return (0, s.f)(
                  1,
                  "div",
                  (0, Mt.a)(S && "Gt", _ && "Gs", f && "Gy"),
                  [
                    r,
                    S && this.Kj(t),
                    (0, s.b)(2, Al, {
                      part: t,
                      selected: f,
                      darkBackground: !1,
                      playGif: f && p,
                      truncated: !0,
                      className: (0, Mt.a)(!i && _ && "Gr"),
                      align: "left",
                    }),
                    i,
                  ],
                  0,
                  null,
                  t.key,
                  m
                );
              }),
              (this.Kj = (t) => {
                var e,
                  i = this.props,
                  r = i.contacts,
                  n = i.chats,
                  a = t.msg,
                  l = n[a.chatId],
                  u = a.meta.fromMe
                    ? (0, s.b)(2, o.b, { l10n: 181 })
                    : a.meta.author &&
                      (0, s.b)(2, j.a, { contact: (0, c.c)(a.meta.author, r) }),
                  d =
                    "GROUP" === l.type
                      ? (0, s.f)(
                          1,
                          "span",
                          null,
                          (0, h.b)(
                            null == (e = l.groupInfo) ? void 0 : e.title
                          ),
                          0,
                          { dir: "auto" }
                        )
                      : a.meta.fromMe
                      ? (0, s.b)(2, j.a, { contact: (0, c.c)(l.jid, r) })
                      : (0, s.b)(2, o.b, { l10n: 181 });
                return (0, s.f)(
                  1,
                  "div",
                  "Gu",
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "Gx FY FU",
                      [
                        u,
                        (0, s.f)(1, "span", "Gv", (0, le.g)() ? "◀" : "▶", 0),
                        d,
                      ],
                      0
                    ),
                    (0, s.b)(2, Wy.a, { ts: t.msg.ts, className: "Gw" }),
                  ],
                  4
                );
              }),
              (this.state = { selection: { type: "loader", key: "loader" } });
          }
          componentDidMount() {
            var t = this.KZ.current;
            if (t) {
              var e = t.getBoundingClientRect();
              this.KY = {
                element: t,
                width: e.width,
                height: e.height,
                top: e.top,
                bottom: e.bottom,
              };
            }
            if ("keep" === this.props.featureType && (0, Je.h)()) {
              var i = this.props.chat;
              if (null != i) {
                var r = "GROUP" === i.type ? i.groupInfo.isAdmin : void 0;
                WAM.log("regular", 3482, void 0, [
                  5,
                  0,
                  3,
                  7,
                  0,
                  1,
                  11,
                  0,
                  i.msgInfo.keptMsgCount,
                  3,
                  1,
                  r,
                ]);
              }
            }
            super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            var i,
              r,
              s,
              n = this.state.selection;
            if (this.props.items.length < t.items.length)
              if (0 === this.props.items.length)
                this.setState({ selection: { type: "empty", key: "empty" } });
              else if ("msg" === n.type) {
                var a = this.props.items.findIndex((t) => t.key === n.key),
                  l = n.key;
                a < 0 &&
                  ((a =
                    n.index < this.props.items.length
                      ? n.index
                      : this.props.items.length - 1),
                  (l = this.props.items[a].key)),
                  this.setState({
                    selection: { type: "msg", index: a, key: l },
                  }),
                  !this.props.allLoaded &&
                    this.props.items.length - a < _e.R / 2 &&
                    this.Kb(_e.R);
              }
            if (
              (n !== e.selection && this.Kc(),
              this.props.items.length > 0 &&
                "loader" === n.type &&
                null == (null == (i = this.props.loading) ? void 0 : i.older) &&
                null != (null == (r = t.loading) ? void 0 : r.older))
            ) {
              var o,
                u = t.items.length;
              (o =
                0 === u || this.props.items.length > u
                  ? u
                  : this.props.items.length - 1),
                this.setState({
                  selection: {
                    type: "msg",
                    index: o,
                    key: this.props.items[o].key,
                  },
                });
            }
            null != n &&
              n.key !== (null == (s = e.selection) ? void 0 : s.key) &&
              this.Kd(),
              super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            this.Kc(),
              this.props.backend.dispatch({ type: "STOP_ANY_MEDIA" }),
              super.componentWillUnmount();
          }
          Kc() {
            var t = this.state.selection;
            if ("msg" === t.type && !this.Ka) {
              var e = this.props.items[t.index];
              this.Ka = (0, _r.d)(
                this.props.player.active,
                e.msg.id,
                this.state.selection.key
              );
            }
          }
          Kf() {
            var t = this.state.selection;
            "msg" === t.type &&
              0 !== t.index &&
              this.setState({
                selection: {
                  type: "msg",
                  index: t.index - 1,
                  key: this.props.items[t.index - 1].key,
                },
              });
          }
          Kg() {
            var t = this.state.selection,
              e = this.props,
              i = e.items,
              r = e.allLoaded,
              s = e.loading;
            "msg" === t.type &&
              (r || s || t.index !== i.length - 2 || this.Kb(_e.R),
              this.goNext());
          }
          Kb(t) {
            var e = this.props,
              i = e.items,
              r = e.chat,
              s = e.backend,
              n = i[i.length - 1].msg;
            if (null != r)
              if ("star" === this.props.featureType) {
                if (null == n.starred)
                  return (
                    __LOG__(
                      3
                    )`Msg ${n.id} is not starred but it was included in starred message screen.`,
                    void SEND_LOGS("no-starred-msg-in-list")
                  );
                Ye(s, "star", {
                  chatId: r.id,
                  limit: t,
                  previousLastMsgId: { msgId: n.id, featureIndex: n.starred },
                });
              } else {
                var a;
                if (!(0, Je.h)()) return;
                if (null == (null == (a = n.keptInfo) ? void 0 : a.kept))
                  return (
                    __LOG__(
                      3
                    )`Msg ${n.id} is not kept but it was included in kept message screen.`,
                    void SEND_LOGS("no-kept-msg-in-list")
                  );
                Ye(s, "keep", {
                  chatId: r.id,
                  limit: t,
                  previousLastMsgId: {
                    msgId: n.id,
                    featureIndex: n.keptInfo.kept,
                  },
                });
              }
            else
              qe(s, "star", { limit: t, previousLastMsgStarredId: n.starred });
          }
          Kh(t) {
            var e = new K.a(),
              i = this.props,
              r = i.backend,
              s = i.contacts,
              n = t.msg,
              a = this.props.chats[t.msg.chatId];
            e.add(637, () => {
              (0, Et.a)(r, a.jid, n.id);
            }),
              Mr(e, r, n),
              Lr(e, r, s, t, n, a);
            var l = n.meta.author;
            "ONE_TO_ONE" === a.type &&
              l &&
              e.add([(0, j.g)(s, l), 42], () => {
                (0, Et.a)(r, l, "newest");
              }),
              (0, b.j)(e);
          }
          addSoftKeys(t, e) {
            t.setUpDownArrows(
              () => this.Kf(),
              () => this.Kg()
            );
            var i = this.state.selection,
              r = this.props.items;
            if ("msg" === i.type) {
              var s = r[i.index];
              s
                ? t.setRightOptions(() => this.Kh(s))
                : __LOG__(
                    3
                  )`No item selected. Probably due to computeSoftKeys being called too early after deleting an item`;
            }
          }
          Kk() {
            var t;
            return null == (null == (t = this.props.loading) ? void 0 : t.older)
              ? null
              : (0, s.f)(1, "div", "Gp", (0, s.b)(2, ss.a), 2);
          }
          render() {
            var t = this.props,
              e = t.featureType,
              i = t.items,
              r = t.loading;
            return 0 !== i.length || r
              ? (0, s.b)(2, S.a, {
                  title: $y(e),
                  children: (0, s.f)(
                    1,
                    "div",
                    "Go",
                    [i.map(this.Ki), this.Kk()],
                    0,
                    null,
                    null,
                    this.KZ
                  ),
                })
              : (0, s.b)(2, Yy, { selected: !0, featureType: e });
          }
        },
        Jy = (0, l.c)((0, d.e)(Hy), (t, e, i) => {
          var r = t.player,
            s = t.contacts,
            n = t.chatlist;
          return Object.assign({}, i, {
            player: r,
            contacts: s,
            backend: e,
            isActiveScreen: !!i.isActiveScreen,
            chats: n.chats,
          });
        });
      function $y(t) {
        return "star" === t
          ? (0, s.b)(2, o.b, { l10n: 961 })
          : (0, s.b)(2, o.b, { l10n: 535 });
      }
      var Yy = class extends d.b {
        addSoftKeys(t) {
          t.setCenterLabel(861, ot.a);
        }
        render() {
          var t,
            e = this.props.featureType;
          return (
            (t =
              "star" === e
                ? (0, s.b)(2, o.b, { l10n: 616 })
                : (0, s.b)(2, o.b, { l10n: 612 })),
            (0, s.b)(2, S.a, {
              title: $y(e),
              children: (0, s.f)(1, "div", "Gq", t, 0),
            })
          );
        }
      };
      function qy(t, e) {
        if (null == t || "mutedUpdates" === t) return null;
        var i = (0, ic.o)(t, {
          user: (t) => e.get(t),
          me: (t) => null,
          psa: (t) => e.get(ic.b),
        });
        return null == i ? void 0 : i.section;
      }
      var Xy = class extends d.a {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.step !== t.step ||
              i.contacts !== t.contacts ||
              i.oldestStatusTimestamp !== t.oldestStatusTimestamp ||
              i.me !== t.me ||
              i.authorJids !== t.authorJids ||
              i.authors !== t.authors ||
              i.lastScrollPosition !== t.lastScrollPosition ||
              i.sections !== t.sections)
          );
        }
        constructor(t, e) {
          super(t, e),
            (this.KK = n.e()),
            (this.KL = null),
            (this.KM = null),
            (this.KQ = (t, e) => {
              if ("loaded" !== this.props.step) return [];
              var i = this.props.contacts,
                r = (0, B.g)(t);
              return e.filter(
                (t) =>
                  "mutedUpdates" !== t &&
                  (0, ic.o)(t, {
                    user: (t) =>
                      (function (t, e, i) {
                        return (0, B.a)((0, c.c)(t, i), e);
                      })(t, r, i),
                    me: () => !1,
                    psa: () => !1,
                  })
              );
            }),
            (this.KR = (t, e) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to open author while loading`,
                  void SEND_LOGS("statusList-openAuthor-whileLoading")
                );
              var i = this.props,
                r = i.authors,
                s = i.authorJids,
                n = r.get(e);
              if (null != n) {
                var a,
                  l = [];
                if ("recent" === n.section)
                  for (var o = 0, u = s.length; o < u; ++o) {
                    var h = s[o];
                    "mutedUpdates" !== h &&
                      h !== ic.a &&
                      (n.jid !== h
                        ? (0, ic.o)(h, {
                            user: (t) => {
                              var e = r.get(t);
                              e && "recent" === e.section && l.push(e);
                            },
                            psa: () => {
                              var t = r.get(ic.b);
                              t && "recent" === t.section && l.push(t);
                            },
                            me: () => {
                              __LOG__(4)`Unexpected 'me' status message`,
                                SEND_LOGS("unexpected-me-status");
                            },
                          })
                        : ((a = l.length), l.push(n)));
                  }
                else n.section, l.push(n), (a = 0);
                if (null != a) {
                  var c = a,
                    d = hc(n);
                  d &&
                    t.openScreen("STATUS_READ_OTHERS", {
                      authors: l,
                      initialAuthorIdx: c,
                      initialStatusMsgId: d,
                      statuses: t.getCachedStatuses(),
                    });
                } else
                  __LOG__(
                    3
                  )`openAuthor: author ${n.jid} not in list of authors to play`;
              }
            }),
            (this.KS = (t, e, i, r) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to render author while loading`,
                  SEND_LOGS("statusList-renderAuthor-whileLoading"),
                  null
                );
              var n = this.props,
                a = n.authors,
                l = n.contacts,
                o = a.get(t);
              if (!o || "muted" === o.section || o.jid === ic.b) return null;
              var u = l[t];
              return u
                ? (0, s.b)(2, Zy, {
                    section: i ? o.section : null,
                    children: (0, s.b)(2, mc, {
                      author: o,
                      contact: u,
                      selected: e,
                      openAuthor: this.KR,
                      isSectionLast: r,
                    }),
                  })
                : (__LOG__(4)`StatusList: Received status for non-contact`,
                  SEND_LOGS("status-non-contact"),
                  null);
            }),
            (this.KT = (t) => {
              var e,
                i = this.props,
                r = i.me,
                n = i.backend;
              return (0, s.b)(2, Sc, {
                me: r,
                selected: t,
                sessionId: null == (e = n.statusSession) ? void 0 : e.id,
              });
            }),
            (this.KU = (t, e, i) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to render author while loading`,
                  SEND_LOGS("statusList-renderAuthor-whileLoading"),
                  null
                );
              var r = this.props.authors,
                n = (0, Zh.a)(r.get(ic.b));
              return n
                ? (0, s.b)(2, Zy, {
                    section: e ? n.section : null,
                    children: (0, s.b)(2, yc, {
                      psa: n,
                      selected: t,
                      openAuthor: this.KR,
                      isSectionLast: i,
                    }),
                  })
                : (__LOG__(4)`Tried to render PSA without author`,
                  SEND_LOGS("statusList-renderPSA-noExists"),
                  null);
            }),
            (this.KW = (t, e, i, r) => {
              if ("mutedUpdates" === t) return this.KV(e);
              var s = !1,
                n = !1,
                a = "loaded" === this.props.step ? this.props.authors : null;
              if (null != a) {
                var l = i > 0 ? qy(r[i - 1], a) : null,
                  o = a ? qy(t, a) : null;
                s = l !== o;
                var u = qy(r[i + 1], a);
                n = o !== u;
              }
              return (0, ic.o)(t, {
                user: (t) => this.KS(t, e, s, n),
                me: () => this.KT(e),
                psa: () => this.KU(e, s, n),
              });
            }),
            t.lastScrollPosition
              ? (this.KL = {
                  item: t.lastScrollPosition.item,
                  scrollFromTop: t.lastScrollPosition.fromTop,
                })
              : (this.KL = { item: ic.a, scrollFromTop: "none" });
        }
        componentDidMount() {
          this.KN(this.props.oldestStatusTimestamp),
            this.KO(),
            this.KP(),
            super.componentDidMount();
        }
        componentDidUpdate(t) {
          var e = this.props,
            i = e.oldestStatusTimestamp,
            r = e.step;
          t.oldestStatusTimestamp !== i && this.KN(i),
            r !== t.step && this.KP(),
            super.componentDidUpdate(t);
        }
        componentWillUnmount() {
          var t = this.KK.current;
          if (null != t) {
            var e,
              i = t.getSelected();
            null != i &&
              this.props.backend.saveStatusListScrollPosition({
                item: i.item,
                fromTop:
                  (null == (e = i.node.getClientRect()) ? void 0 : e.top) || 0,
              }),
              clearTimeout(this.KM),
              (this.KM = null),
              super.componentWillUnmount();
          }
        }
        addSoftKeys(t, e) {
          "loaded" !== this.props.step && t.setFull(894);
        }
        KO() {
          "idle" === this.props.step && this.props.backend.loadStatusData();
        }
        KP() {
          var t = this.props;
          if ("loaded" === t.step) {
            var e,
              i = (0, Zh.a)(t.authors.get(ic.b));
            null == (e = t.backend.statusSession) ||
              e.statusTabOpened(t.sections.recent.length, i);
          }
        }
        KN(t) {
          if ((clearTimeout(this.KM), null != t)) {
            var e = (0, Ie.B)(t, _e.V + 2);
            this.KM = setTimeout(() => {
              (function (t) {
                var e = t.getStatusCache();
                if (null != e) {
                  var i = e.purgeExpired();
                  null != i &&
                    t.dispatch({ type: "UPDATE_STATUS_DATA", data: i });
                }
              })(this.props.backend);
            }, e);
          } else this.KM = null;
        }
        KV(t) {
          return (0, s.b)(2, e_, { selected: t });
        }
        render() {
          if ("loaded" !== this.props.step)
            return (0, s.b)(2, Kt.b, {
              children: (0, s.b)(2, Vt.a, { type: "center" }),
            });
          var t = this.props.authorJids,
            e = 0 === t.length ? void 0 : { filter: this.KQ, emptyLabel: 964 };
          return (0, s.b)(2, Kt.b, {
            children: (0, s.b)(
              2,
              g.c,
              {
                items: t,
                start: this.KL,
                keyOf: Qy,
                search: e,
                estimatedItemHeight: D.e,
                prefilledHeight: Kt.a,
                renderItem: this.KW,
              },
              null,
              this.KK
            ),
          });
        }
      };
      function Qy(t) {
        return String(t);
      }
      function Zy(t) {
        var e = t.children,
          i = t.section;
        if (!i) return e;
        var r = 971;
        switch (i) {
          case "viewed":
            r = 972;
            break;
          case "muted":
            r = 970;
        }
        return (0, s.c)([(0, s.b)(2, y.g, { text: r }), e], 0);
      }
      var t_ = (0, l.f)(
          (0, d.e)(Xy),
          (t) =>
            t.tab && "status" === t.tab.key
              ? {
                  lastScrollPosition: t.status.lastScrollPosition,
                  contacts: t.contacts,
                  statusTab: t.tab,
                }
              : null,
          (t, e) => {
            var i = t.lastScrollPosition,
              r = t.statusTab,
              s = t.contacts;
            if (r.isLoading)
              return { step: "loading", contacts: s, backend: e };
            if (null == r.data)
              return { step: "idle", contacts: s, backend: e };
            var n = r.data,
              a = n.authors,
              l = n.me,
              o = n.oldestStatusTimestamp,
              u = r.data.sections,
              h = u.recent,
              c = u.viewed,
              d = u.muted,
              v = [ic.a].concat(h, c),
              p = {
                recent: {
                  first: h[0],
                  last: h[h.length - 1],
                  length: h.length,
                },
                viewed: {
                  first: c[0],
                  last: c[c.length - 1],
                  length: c.length,
                },
              };
            return (
              d.length > 0 && v.push("mutedUpdates"),
              {
                step: "loaded",
                authorJids: v,
                me: l,
                authors: a,
                lastScrollPosition: i,
                oldestStatusTimestamp: o,
                sections: p,
                contacts: s,
                backend: e,
              }
            );
          }
        ),
        e_ = class extends d.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              e.openScreen("STATUS_MUTED_LIST");
            });
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              (0, Mt.a)("Gm FW FS", this.props.selected && "Gn"),
              (0, s.b)(2, o.b, { l10n: 1e3 }),
              2
            );
          }
        },
        i_ = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Jt = (t, e) => {
                var i = this.props.authors.get(e);
                if (null != i) {
                  var r = hc(i);
                  r &&
                    t.openScreen("STATUS_READ_OTHERS", {
                      authors: [i],
                      initialAuthorIdx: 0,
                      initialStatusMsgId: r,
                      statuses: t.getCachedStatuses(),
                    });
                }
              }),
              (this.Ju = (t, e) => {
                var i = this.props,
                  r = i.authors,
                  n = i.contacts,
                  a = r.get(t);
                return a
                  ? (0, es.b)(a, {
                      authorMe: () => (
                        __LOG__(4)`StatusMutedList: received @me author.`, null
                      ),
                      authorPsa: (t) =>
                        (0, s.b)(2, yc, {
                          psa: t,
                          selected: e,
                          openAuthor: this.Jt,
                          isSectionLast: !1,
                        }),
                      authorUser: (t) => {
                        var i = n[t.jid];
                        return i
                          ? (0, s.b)(2, mc, {
                              author: t,
                              contact: i,
                              selected: e,
                              openAuthor: this.Jt,
                              isSectionLast: !1,
                            })
                          : (__LOG__(
                              4
                            )`StatusMutedList: Received status for non-contact`,
                            null);
                      },
                    })
                  : null;
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.authors !== t.authors ||
                i.items !== t.items ||
                i.contacts !== t.contacts)
            );
          }
          addSoftKeys(t, e) {
            0 === this.props.items.length && t.setLeftAsBack();
          }
          render() {
            var t = this.props.items;
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 975 }),
              children: (0, s.b)(2, g.c, {
                items: t,
                keyOf: r_,
                preventLoop: !0,
                estimatedItemHeight: D.e,
                renderItem: this.Ju,
                emptyLabel: 998,
              }),
            });
          }
        };
      function r_(t) {
        return t;
      }
      var s_ = (0, Uh.b)(function (t, e) {
          var i = [],
            r = new Map();
          return (
            e &&
              e.forEach((e) => {
                var s = null == t ? void 0 : t.get(e);
                s && (i.push(e), r.set(e, s));
              }),
            { authors: r, items: i }
          );
        }),
        n_ = (0, l.c)((0, d.e)(i_), (t) => {
          var e,
            i,
            r = t.contacts,
            s = t.tab;
          if (null == s || "status" !== s.key || s.isLoading) return null;
          var n = s_(
            null == (e = s.data) ? void 0 : e.authors,
            null == (i = s.data) ? void 0 : i.sections.muted
          );
          return { items: n.items, authors: n.authors, contacts: r };
        }),
        a_ = i(38),
        l_ = i(354),
        o_ = n.f((t, e) => {
          var i,
            r = t.parent,
            n = (0, Zh.j)(r.statusMsgInAuthor) || (0, Ie.D)(),
            a = g_(r.author, r.statusMsgInAuthor);
          return (0, s.b)(
            2,
            nc,
            {
              error: a,
              author: r.author.jid,
              contacts: r.contacts,
              position: r.position,
              total: r.total,
              timestamp: n,
              playing: t.playing,
              show: t.show,
              withoutShadow: t.withoutShadow,
              sideways: null != (i = t.sideways) && i,
              duration: t.duration,
              onProgressBegin: r.onProgressBegin,
              onProgressEnd: r.onProgressEnd,
            },
            null,
            e
          );
        }),
        u_ = class extends d.a {
          componentDidMount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.startLoadingStatus(i.id), super.componentDidMount();
          }
          componentWillUnmount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.stopLoadingStatus(i.id), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            t.setFull(894);
          }
          render() {
            return (0, s.c)(
              [
                (0, s.b)(2, o_, {
                  parent: this.props,
                  playing: !1,
                  show: "all",
                  duration: 1,
                }),
                (0, s.f)(1, "div", "Kc Kb", (0, s.b)(2, ss.a), 2),
              ],
              4
            );
          }
        },
        h_ = { type: "loading" },
        c_ = { type: "playing" },
        d_ = { type: "paused" },
        v_ = { type: "zooming", playing: !0 },
        p_ = { type: "zooming", playing: !1 },
        f_ = { type: "replying" };
      function m_(t) {
        switch (t.type) {
          case "loading":
          case "playing":
            return "all";
          default:
            return t.type, "none";
        }
      }
      function g_(t, e) {
        return I_(t) && (0, br.g)(e.ack);
      }
      function S_(t) {
        return "loading" === t.type;
      }
      function y_(t) {
        return "playing" === t.type;
      }
      function __(t) {
        return "paused" === t.type;
      }
      function b_(t) {
        return "zooming" === t.type;
      }
      function x_(t) {
        return "replying" === t.type;
      }
      function w_(t) {
        return b_(t) || x_(t);
      }
      function O_(t, e) {
        return I_(t) ? { fromMe: !0, ack: e.ack } : {};
      }
      function k_(t, e, i) {
        var r = t.props,
          s = r.isActiveScreen,
          n = r.statusMsgInAuthor,
          a = r.session;
        s !== e.isActiveScreen &&
          (s
            ? (x_(t.state.action) && t.play(),
              t.isLoading()
                ? a.resumeLoadingStatus(n.id)
                : a.resumeViewingStatus(n.id))
            : a.stopLoadingOrViewingStatus(n.id));
        var l = t.state.action,
          o = i.action;
        x_(l) && !x_(o) && t.pause();
      }
      function C_(t, e) {
        var i = t.props.parentApi;
        e.setBack(i.close),
          (0, le.g)()
            ? e.setLeftRightArrows(i.goToNextStatus, i.goToPreviousStatus)
            : e.setLeftRightArrows(i.goToPreviousStatus, i.goToNextStatus);
      }
      function N_(t, e, i) {
        var r = t.props,
          s = r.author,
          n = r.session,
          a = r.statusMsgInAuthor,
          l = r.content,
          o = t.state.action;
        (0, ic.o)(s.jid, {
          user: (r) => {
            e.setLeftLabel(914, () => {
              t.setState({ action: y_(o) ? f_ : d_ }),
                (function (t, e, i) {
                  var r,
                    s,
                    n,
                    a = i.content;
                  switch (a.type) {
                    case "text":
                      r = { type: "text", text: a.text };
                      break;
                    case "image":
                    case "gif":
                      (r = { type: "image", caption: a.caption }),
                        (s = a.preview),
                        (n = a.bg);
                      break;
                    case "video":
                      (r = {
                        type: "video",
                        duration: a.duration,
                        caption: a.caption,
                      }),
                        (s = a.preview),
                        (n = a.bg);
                      break;
                    case "voice":
                      (r = { type: "voice", duration: a.duration }),
                        (n = (0, Zh.c)(a.backgroundColor));
                      break;
                    default:
                      return (0, m.a)(a.type);
                  }
                  var l = {
                    type: "reply",
                    quotedMsg: {
                      id: i.statusMsgInAuthor.id,
                      ts: i.statusMsgInAuthor.ts,
                      remoteJid: ts.h,
                      meta: { author: e },
                      content: r,
                      preview: s,
                      bg: n,
                    },
                    formatting: (0, Zh.f)(a),
                  };
                  t.openScreen("STATUS_REPLY", {
                    id: i.statusMsgInAuthor.id,
                    authorJid: e,
                    quotedStatus: l,
                  });
                })(i, r, t.props);
            });
          },
          me: () => {
            e.setLeftLabel(642, () => {
              t.setState({ action: y_(o) ? f_ : d_ }),
                Rr({ id: a.id, content: l, forwarded: null }, i);
            });
          },
          psa: () => {
            if (l.actionLink) {
              var t = l.actionLink,
                r = t.buttonTitle,
                s = t.url;
              e.dangerouslySetLeftRawString(r, () => {
                n.openPsaStatusLink(a.id, 1, 0), (0, Ei.a)(i, s);
              });
            }
          },
        });
      }
      function I_(t) {
        return t.jid === a_.a;
      }
      function E_(t) {
        return t.jid === a_.b;
      }
      var T_ = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "circle", null, null, 1, {
              cx: "11",
              cy: "11",
              r: "8",
              fill: "none",
              "stroke-dasharray": "100",
              "stroke-dashoffset": "87",
              "stroke-linecap": "round",
              "stroke-width": "4",
            }),
            2,
            { fill: "#fff", stroke: "#fff", viewBox: "0 0 22 22" }
          );
        },
        M_ = "QV q",
        L_ = "EY",
        A_ = "EZ",
        U_ = "Ea",
        R_ = "Eb",
        P_ = "Ec",
        G_ = "Ed",
        F_ = "Ee",
        D_ = "Ef",
        z_ = "Eg",
        V_ = "Eh",
        K_ = "Ei",
        j_ = "Ej",
        B_ = "Ek",
        W_ = "El",
        H_ = "Em",
        J_ = "En",
        $_ = "Eo",
        Y_ = "Ep",
        q_ = "Eq",
        X_ = "Er",
        Q_ = "Es";
      function Z_(t, e) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("QZ"),
          [
            (0, s.b)(2, vt.c, { className: "Qa Fa", jid: t }),
            (0, s.b)(2, us.a, { className: (0, Mt.a)("Qc Qb", e) }),
            (0, s.b)(2, us.a, { className: "Qb" }),
          ],
          4
        );
      }
      function tb(t) {
        var e = t.duration,
          i = t.currentTime,
          r = t.playing,
          n = t.className,
          a = (0, Mt.a)("QW", "QY QX"),
          l = r || i > 0 ? e - i : e,
          o = 0 !== e ? i / e : 0;
        return (0, s.f)(
          1,
          "div",
          a,
          [
            (0, s.f)(1, "div", "QU", Z_(t.authorJid, n), 0),
            (0, s.b)(2, vn, { kind: "voiceStatus", progress: o, duration: l }),
          ],
          4
        );
      }
      function eb(t) {
        return 1e3 * Math.min(_e.W, t);
      }
      var ib = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.Oh = n.e()),
              (this.Oi = 0),
              (this.isLoading = () => S_(this.state.action)),
              (this.play = () => {
                this.Oj.setPlaying(!0);
              }),
              (this.pause = () => {
                this.Oj.setPlaying(!1);
              }),
              (this.Ok = () => {
                this.props.parentApi.unmute(), (0, de.i)();
              }),
              (this.Ol = () => {
                this.props.parentApi.unmute(), (0, de.h)();
              }),
              (this.Oi = eb(t.content.duration));
            var i = g_(t.author, t.statusMsgInAuthor) ? c_ : h_;
            this.state = { action: i, duration: this.Oi, currentTime: 0 };
            var r = new Fu.a(this);
            this.Oj = r;
          }
          componentDidMount() {
            var t = this.props,
              e = t.statusMsgInAuthor;
            t.session.startLoadingStatus(e.id), super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            k_(this, t, e), super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.stopLoadingOrViewingStatus(i.id), super.componentWillUnmount();
          }
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          handleTimeUpdate(t) {
            this.setState({ currentTime: t });
          }
          handlePause() {
            var t;
            (null == (t = this.Oj.current) ? void 0 : t.ended) &&
              this.props.onProgressEnd &&
              this.props.onProgressEnd(),
              y_(this.state.action) && this.setState({ action: d_ });
          }
          handlePlay() {
            this.setState({ action: c_ });
          }
          handleCanPlay() {
            var t = this.Oj.getDuration();
            if (
              (null != t &&
                (t = eb(this.props.content.duration)) !== this.state.duration &&
                this.setState({ duration: t }),
              this.isLoading())
            ) {
              var e = this.props,
                i = e.statusMsgInAuthor,
                r = e.session;
              r.stopLoadingStatus(i.id),
                r.startViewingStatus(i.id, this.mediaDuration(), 5),
                this.Oj.setPlaying(!0),
                this.setState({ action: c_ });
            }
          }
          handleEnded() {}
          addSoftKeys(t, e) {
            var i = this.state.action;
            if (!x_(i)) {
              i.type, C_(this, t), t.setUpDownArrows(this.Ok, this.Ol);
              var r = this.props.content.mediaStatus;
              "ready" === r.type
                ? S_(i)
                  ? t.setCenterIcon(
                      (0, s.b)(2, T_, { className: "Qd" }),
                      () => {}
                    )
                  : (i.type,
                    N_(this, t, e),
                    y_(i)
                      ? t.setCenterIcon(
                          (0, s.b)(2, fn, { className: M_ }),
                          this.pause
                        )
                      : (i.type,
                        t.setCenterIcon(
                          (0, s.b)(2, ys.a, { className: M_ }),
                          this.play
                        )))
                : (0, As.a)(t, I_(this.props.author), r, {
                    id: this.props.statusMsgInAuthor.id,
                    origin: "status",
                  });
            }
          }
          render() {
            var t = this.props.author.jid;
            if ("@psa" === t) return null;
            var e = this.props,
              i = e.content,
              a = e.uri,
              l = e.muted,
              o = this.state,
              u = o.action,
              h = o.currentTime,
              c = m_(u),
              d = y_(u),
              v = (0, Zh.c)(i.backgroundColor),
              p = i.backgroundColor ? r[br.f[i.backgroundColor]] : void 0;
            return (0, s.f)(
              1,
              "div",
              "QT",
              [
                (0, s.b)(2, tb, {
                  duration: i.duration,
                  currentTime: h,
                  playing: d,
                  authorJid: t,
                  className: p,
                }),
                a &&
                  (0, s.f)(
                    1,
                    "audio",
                    null,
                    null,
                    1,
                    { src: a, muted: l, preload: "metadata" },
                    null,
                    this.Oj.ref
                  ),
                (0, s.b)(
                  2,
                  o_,
                  {
                    parent: this.props,
                    playing: d,
                    show: c,
                    withoutShadow: !0,
                    duration: this.Oi,
                  },
                  null,
                  this.Oh
                ),
              ],
              0,
              { style: n.h({ backgroundColor: v }) }
            );
          }
        },
        rb = (0, Fc.c)({
          getContentRef(t) {
            var e = t.content.mediaStatus;
            return "ready" === e.type ? e.ref : null;
          },
          getId: (t) => t.statusMsgInAuthor.id,
          render: (t, e) =>
            (0, s.i)((0, s.b)(2, ib, Object.assign({}, t, { uri: e }))),
        }),
        sb = i(591),
        nb = i(361),
        ab = "QR q";
      function lb() {
        return (0, s.f)(
          1,
          "div",
          "QS FX FS",
          (0, s.b)(2, o.b, { l10n: 321 }),
          2
        );
      }
      function ob(t) {
        var e = t.linkPreview,
          i = t.linkPreviewImage,
          r = null;
        null != i &&
          (r = (0, s.f)(
            1,
            "div",
            "QN",
            (0, s.b)(2, Xi, {
              previewId: i.previewId,
              style: { borderRadius: "6px" },
            }),
            2
          ));
        var n = null;
        e.title &&
          (n = (0, s.b)(2, ut.a, {
            maxLineClassName: "QO",
            truncated: !0,
            children: e.title,
          }));
        var a = null;
        (r || n) && (a = (0, s.f)(1, "div", "QM", [r, n], 0));
        var l = null;
        return (
          e.description &&
            (l = (0, s.f)(1, "div", "QP FY FU", e.description, 0)),
          (0, s.c)([a, l], 0)
        );
      }
      function ub(t) {
        var e = t.url,
          i = t.href,
          r = t.matchedText,
          n = t.content,
          a = n.linkPreview,
          l = (0, sb.toUnicode)(e.hostname),
          o = i.replace(e.hostname, l),
          u = null;
        return (
          null != a &&
            a.matchedText === r &&
            (u = (0, s.b)(2, ob, {
              linkPreview: a,
              linkPreviewImage: n.linkPreviewImage,
            })),
          (0, s.f)(
            1,
            "div",
            "QL FW FS",
            [
              u,
              (0, s.f)(1, "div", "QQ FY FU", l, 0),
              (0, s.f)(
                1,
                "div",
                null,
                (0, s.f)(1, "a", null, o, 0, { href: i }),
                2
              ),
            ],
            0
          )
        );
      }
      var hb = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.OS = null),
              (this.state = { spacing: 0 }),
              (this.OU = (t) => {
                this.setState({ spacing: t.spacing });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t && i.spacing !== t.spacing) ||
              (r !== e && r.spacing !== e.spacing)
            );
          }
          componentDidMount() {
            var t = this.props.spacing;
            null != t && this.OT(t);
          }
          componentDidUpdate(t) {
            var e = this.props.spacing;
            null != e && e !== t.spacing && this.OT(e);
          }
          componentWillUnmount() {
            null != this.OS && this.OS.end();
          }
          OT(t) {
            if (null == this.OS) {
              var e = new nb.a({
                defaultStyle: { spacing: t },
                style: { spacing: t },
                onUpdate: this.OU,
              });
              e.start(), (this.OS = e), this.setState({ spacing: t });
            } else this.OS.update({ spacing: (0, nb.b)(t) });
          }
          render() {
            return (0, s.f)(1, "div", null, null, 1, {
              style: n.h({ height: this.state.spacing + "px" }),
            });
          }
        },
        cb = class extends d.a {
          constructor(t, e) {
            var i;
            super(t, e),
              (this.OV = n.e()),
              (this.OW = null),
              (this.OX = null),
              (this.OY = 0),
              (this.OZ = 0),
              (this.Oa = 0),
              (this.Ob = (0, Uh.c)(h.d)),
              (this.Oc = { skipPhoneNumbers: !0 }),
              (this.Oe = (t) => {
                var e = t.ref,
                  i = t.contentHeight,
                  r = t.overflowing;
                (this.OX = e), (this.OY = i), this.setState({ overflowing: r });
              }),
              (this.play = () => {
                this.setState({ action: c_, spacing: this.OZ });
              }),
              (this.pause = () => {
                y_(this.state.action) &&
                  this.setState({ action: d_, spacing: this.Oa });
              }),
              (this.isLoading = () => !1),
              (this.Of = (t) => {
                this.OW = t;
              }),
              (this.Og = (t, e, i) => {
                try {
                  if ("phoneNumber" === i.dataset.contentType)
                    return (
                      __LOG__(
                        4
                      )`Status should not render phone numbers as links`,
                      void SEND_LOGS("status-addLinkSoftKeys-phoneNumber")
                    );
                  var r = i.getAttribute("href") || "";
                  if (!r)
                    return (
                      __LOG__(4)`Empty href attribute on status link`,
                      void SEND_LOGS("status-addLinkSoftKeys-emptyHref")
                    );
                  var n = i.dataset.matchedText || "",
                    a = new URL(r);
                  t.setRightLabel(892, () => {
                    var t = this.props.author,
                      i = y_(this.state.action);
                    this.pause();
                    var l = (0, ic.o)(t.jid, {
                        user: (t) => t,
                        me: () => Zu.t.get(),
                        psa: () => {},
                      }),
                      o = !!l && (0, bf.a)(n, l, Zu.t.get(), [(0, le.d)().lg]),
                      u = () => {
                        i && this.play();
                      };
                    o
                      ? (0, Sa.a)(e, n, o, r, { onBack: u, onSoftCenter: u })
                      : (0, b.g)({
                          title: 892,
                          text: () =>
                            (0, s.b)(2, ub, {
                              href: r,
                              matchedText: n,
                              url: a,
                              content: this.props.content,
                            }),
                          center: 903,
                          onSoftCenter: () => {
                            (0, Ei.a)(e, a.toString());
                          },
                          left: 864,
                          onSoftLeft: u,
                          onBack: u,
                        });
                  });
                } catch (t) {
                  __LOG__(4)`Failed to parse a status link: ${t}`,
                    SEND_LOGS("status-text-addLinkSoftKeys");
                }
              }),
              (this.Od =
                ((i = t.content), 2e3 + 60 * Math.min((0, Qh.a)(i.text), 180))),
              (this.state = { action: c_, spacing: null, overflowing: !0 });
          }
          componentDidMount() {
            var t = this.OX,
              e = this.OW,
              i = this.OV.current;
            if (null != e && null != t && null != i) {
              var r = i.clientHeight,
                s = e.clientHeight,
                n = t.clientHeight,
                a = this.OY,
                l = 0;
              if (r + a + r < D.m) {
                var o = (D.m - a) / 2;
                (this.Oa = o), (l = o);
              } else
                (this.Oa = Math.max(10, (s - a) / 2)), (l = (s + r - n) / 2);
              (this.OZ = l), this.setState({ spacing: l });
              var u = this.props,
                h = u.session,
                c = u.statusMsgInAuthor,
                d = u.content;
              h.startViewingStatus(c.id, this.Od, d.linkPreview ? 9 : 1),
                super.componentDidMount();
            }
          }
          componentDidUpdate(t, e) {
            k_(this, t, e), super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.stopViewingStatus(i.id), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.state.action;
            x_(i) ||
              (i.type,
              C_(this, t),
              N_(this, t, e),
              y_(i)
                ? t.setCenterIcon(
                    (0, s.b)(2, fn, { className: ab }),
                    this.pause
                  )
                : (i.type,
                  t.setCenterIcon(
                    (0, s.b)(2, ys.a, { className: ab }),
                    this.play
                  )));
          }
          render() {
            var t = this.props,
              e = t.content,
              i = t.author,
              r = this.state,
              a = r.overflowing,
              l = r.spacing,
              o = r.action,
              u = y_(o),
              h = !u || !a,
              c = __(o),
              d = null == l ? "QI QG" : E_(i) ? "QH FT QG" : "QG",
              v = m_(o);
            return (0, s.f)(
              1,
              "div",
              "QF",
              [
                (0, s.b)(2, _f.a, {
                  setRef: this.Of,
                  addLinkSoftkeys: this.Og,
                  disabled: !h,
                  children: [
                    (0, s.b)(2, hb, { spacing: l }),
                    (0, s.b)(2, ut.a, {
                      textClassName: d,
                      maxLineClassName: "QJ",
                      moreLabelClassName: "QK",
                      truncated: !c,
                      onMount: this.Oe,
                      isUsingMoreLabel: !0,
                      children: this.Ob(e.text, (0, Zh.f)(e), this.Oc),
                    }),
                  ],
                }),
                e.fromFb ? (0, s.b)(2, lb) : null,
                (0, s.b)(
                  2,
                  o_,
                  {
                    parent: this.props,
                    playing: u,
                    show: v,
                    withoutShadow: !0,
                    duration: this.Od,
                  },
                  null,
                  this.OV
                ),
              ],
              0,
              {
                style: n.h({
                  backgroundColor: e.hexBackgroundColor,
                  "--multiline-background": e.hexBackgroundColor,
                }),
              }
            );
          }
        },
        db = "SF",
        vb = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { top: 0 }),
              (this.handleScroll = (t) => {
                this.setState({ top: t.top });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.innerRef !== t.innerRef ||
                  i.opened !== t.opened ||
                  i.originalTop !== t.originalTop ||
                  i.targetTop !== t.targetTop ||
                  i.onRest !== t.onRest ||
                  i.children !== t.children)) ||
              (r !== e && r.top !== e.top)
            );
          }
          componentDidUpdate(t) {
            var e = this.props,
              i = e.targetTop;
            if (e.opened)
              if (null == this.Qv) {
                var r = this.props.originalTop,
                  s = new nb.a({
                    defaultStyle: { top: r },
                    style: { top: r },
                    onUpdate: this.handleScroll,
                    onRest: this.props.onRest,
                  });
                s.start(),
                  (this.Qv = s),
                  this.setState({ top: r }),
                  this.reach(i);
              } else i !== t.targetTop && this.reach(i);
          }
          componentWillUnmount() {
            null != this.Qv && this.Qv.end();
          }
          reach(t) {
            this.Qv && this.Qv.update({ top: (0, nb.b)(t) });
          }
          render() {
            var t = this.props,
              e = (0, Mt.a)("SC SB FV FS", !t.opened && db);
            return (0, s.f)(
              1,
              "div",
              e,
              t.children,
              0,
              { style: n.h({ top: this.state.top + "px" }) },
              null,
              t.innerRef
            );
          }
        };
      function pb(t) {
        return t.opened && !t.hidden;
      }
      var fb = class extends d.a {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.Qw = n.e()),
            (this.Qx = n.e()),
            (this.Qy = n.e()),
            (this.state = { targetTop: 0, animating: !1 }),
            (this.Qz = 0),
            (this.RA = 0),
            (this.RB = 0),
            (this.onRest = () => {
              this.setState({ animating: !1 });
            }),
            (this.moveUp = () => {
              this.reach(this.state.targetTop + this.RB);
            }),
            (this.moveDown = () => {
              this.reach(this.state.targetTop - this.RB);
            }),
            t
          );
        }
        shouldComponentUpdate(t, e) {
          var i = this.props,
            r = this.state;
          return (
            (i !== t &&
              (i.text !== t.text ||
                i.opened !== t.opened ||
                i.hidden !== t.hidden)) ||
            (r !== e &&
              (r.targetTop !== e.targetTop || r.animating !== e.animating))
          );
        }
        componentDidMount() {
          var t = this.Qw.current,
            e = this.Qx.current,
            i = this.Qy.current;
          t &&
            e &&
            i &&
            ((this.RB = e.clientHeight),
            (this.RA = e.offsetTop),
            (this.Qz = t.clientHeight - i.clientHeight)),
            super.componentDidMount();
        }
        componentDidUpdate(t, e) {
          var i = this.props.opened;
          i !== t.opened && (i ? this.open() : this.close()),
            super.componentDidUpdate(t, e);
        }
        clampTargetTop(t) {
          return Math.max(this.Qz, Math.min(this.RA, t));
        }
        reach(t) {
          var e = this.clampTargetTop(t);
          this.state.targetTop !== e &&
            this.setState({ targetTop: e, animating: !0 });
        }
        open() {
          this.reach(this.RA - this.RB);
        }
        close() {
          this.reach(this.RA);
        }
        addSoftKeys(t, e) {
          pb(this.props) && t.setUpDownArrows(this.moveUp, this.moveDown);
        }
        render() {
          var t = this.state.animating || pb(this.props);
          return (0, s.f)(
            1,
            "div",
            (0, Mt.a)("SA", this.props.hidden && db),
            [
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("SD SB FV FS FY FU", t && db),
                this.props.text,
                0,
                null,
                null,
                this.Qx
              ),
              (0, s.b)(2, vb, {
                innerRef: this.Qy,
                onRest: this.onRest,
                opened: t,
                originalTop: this.RA,
                targetTop: this.state.targetTop,
                children: this.props.text,
              }),
            ],
            4,
            null,
            null,
            this.Qw
          );
        }
      };
      function mb(t) {
        return (0, s.f)(
          1,
          "div",
          (0, Mt.a)("SA", t.hidden && db),
          (0, s.f)(1, "div", "SE SB FV FS", t.text, 0),
          2
        );
      }
      var gb,
        Sb,
        yb,
        _b,
        bb = "QB q",
        xb =
          ((gb = class extends d.a {
            constructor(t, e) {
              var i;
              super(t, e),
                Sb.call(this),
                (this.OH = (0, As.b)(t.content)),
                (this.OK =
                  ((i = t.content),
                  4500 +
                    60 * Math.min(i.caption ? (0, Qh.a)(i.caption) : 0, 30)));
              var r = g_(t.author, t.statusMsgInAuthor) ? c_ : h_;
              this.state = { action: r, scale: 1, x: 0, y: 0 };
            }
            componentDidMount() {
              var t = this.props,
                e = t.statusMsgInAuthor;
              t.session.startLoadingStatus(e.id), super.componentDidMount();
            }
            componentDidUpdate(t, e) {
              k_(this, t, e), super.componentDidUpdate(t, e);
            }
            componentWillUnmount() {
              clearTimeout(this.OL);
              var t = this.props,
                e = t.statusMsgInAuthor;
              t.session.stopLoadingOrViewingStatus(e.id),
                super.componentWillUnmount();
            }
            addSoftKeys(t, e) {
              var i = this.props.content,
                r = this.state.action;
              if (!x_(r)) {
                r.type, C_(this, t);
                var n = i.mediaStatus;
                if ("ready" === n.type)
                  if (S_(r))
                    t.setCenterIcon(
                      (0, s.b)(2, T_, { className: "QC" }),
                      () => {}
                    );
                  else if (b_(r)) {
                    var a = this.OG;
                    t.setCenterIcon(
                      (0, s.b)(2, ys.a, { className: bb }),
                      this.play
                    ),
                      t.setBack(this.OP),
                      null != a
                        ? (a.isAtMinScale()
                            ? t.setLeftLabel(861, this.OP)
                            : (t.setUpDownArrows(a.up, a.down),
                              t.setLeftRightArrows(a.left, a.right),
                              t.setLeftLabel(951, a.out)),
                          a.isAtMaxScale() || t.setRightLabel(950, a.in))
                        : t.setLeftLabel(861, this.OP);
                  } else
                    r.type,
                      t.setRightLabel(949, this.OQ),
                      y_(r)
                        ? t.setCenterIcon(
                            (0, s.b)(2, fn, { className: bb }),
                            this.pause
                          )
                        : (r.type,
                          t.setCenterIcon(
                            (0, s.b)(2, ys.a, { className: bb }),
                            this.play
                          )),
                      N_(this, t, e);
                else {
                  var l = this.props.statusMsgInAuthor;
                  (0, As.a)(t, I_(this.props.author), n, {
                    id: l.id,
                    origin: "status",
                  });
                }
              }
            }
            render() {
              var t = this.props,
                e = t.statusMsgInAuthor,
                i = t.content,
                r = t.author,
                n = this.state.action,
                a = this.OH.width,
                l = __(n),
                o = w_(n),
                u = null;
              if (i.caption) {
                var h = this.OI(i.caption, (0, Zh.f)(i), this.OJ);
                u = E_(r)
                  ? (0, s.b)(2, mb, { text: h, hidden: o })
                  : (0, s.b)(2, fb, { text: h, opened: l, hidden: o });
              }
              var c = O_(r, e),
                d = y_(n),
                v = m_(n);
              return (0, s.f)(
                1,
                "div",
                "Pz Py",
                [
                  (0, s.b)(2, Ls, {
                    msgId: e.id,
                    content: i,
                    parentWidth: a,
                    render: this.OR,
                  }),
                  (0, s.b)(2, Ts, {
                    mediaStatus: i.mediaStatus,
                    meta: c,
                    size: void 0,
                    onReady: void 0,
                  }),
                  u,
                  (0, s.b)(2, o_, {
                    parent: t,
                    playing: d,
                    show: v,
                    duration: this.OK,
                  }),
                ],
                0
              );
            }
          }),
          (Sb = function () {
            (this.OF = null),
              (this.OG = null),
              (this.OI = (0, Uh.c)(h.d)),
              (this.OJ = { skipPhoneNumbers: !0 }),
              (this.OL = null),
              (this.OM = (t) => {
                this.OF = t;
              }),
              (this.ON = () => {
                var t = this.props,
                  e = t.statusMsgInAuthor,
                  i = t.session;
                i.stopLoadingStatus(e.id),
                  i.startViewingStatus(e.id, this.OK, 2);
                var r = this.OF;
                if (r) {
                  var s = new st(
                    r,
                    (t) => {
                      this.setState(t);
                    },
                    { width: D.o, height: D.m }
                  );
                  this.OG = s;
                }
                this.setState({ action: c_ });
              }),
              (this.OO = () => {
                var t = this.props,
                  e = t.session,
                  i = t.statusMsgInAuthor;
                e.stopLoadingStatus(i.id), e.failStatus(i.id);
              }),
              (this.play = () => {
                this.OG && this.OG.fullout(), this.setState({ action: c_ });
              }),
              (this.pause = () => {
                (b_(this.state.action) || y_(this.state.action)) &&
                  this.setState({ action: d_ });
              }),
              (this.isLoading = () => S_(this.state.action)),
              (this.OQ = () => {
                var t = this.state.action;
                this.setState((e) => ({ action: y_(t) ? v_ : p_ }));
              }),
              (this.OP = () => {
                var t = this.state.action;
                b_(t)
                  ? t.playing
                    ? this.play()
                    : this.pause()
                  : __LOG__(
                      4
                    )`You should not be abled to unzoom when not zooming.`;
              }),
              (this.OR = (t) => {
                var e = this.state,
                  i = e.action,
                  r = e.scale,
                  a = e.x,
                  l = e.y,
                  o = this.props.content,
                  u = this.OH,
                  h = u.width,
                  c = u.height,
                  d = { width: h + "px", height: c + "px" },
                  v = { transform: `scale(${r}) translate(${a}px,${l}px)` },
                  p = null;
                return (
                  t &&
                    (p = (0, s.f)(
                      1,
                      "img",
                      "QA",
                      null,
                      1,
                      {
                        src: t,
                        style: n.h(v),
                        onLoad: this.ON,
                        onError: this.OO,
                      },
                      null,
                      this.OM
                    )),
                  (0, s.b)(2, qi, {
                    width: h,
                    height: c,
                    parentWidth: h,
                    bgColor: o.bg,
                    previewId: o.preview,
                    style: d,
                    isReady: !S_(i),
                    overflow: "visible",
                    children: p,
                  })
                );
              });
          }),
          gb),
        wb = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M9 .6v.6c0 .3.3.6.6.6h2.6v2.6c0 .3.3.6.6.6h.6c.3 0 .6-.3.6-.6V0H9.6c-.3 0-.6.3-.6.6zM0 0v4.4c0 .3.3.6.6.6h.6c.3 0 .6-.3.6-.6V1.8h2.6c.3 0 .6-.3.6-.6V.6c0-.3-.3-.6-.6-.6H0zm12.2 9.6v2.6H9.6c-.3 0-.6.3-.6.6v.6c0 .3.3.6.6.6H14V9.6c0-.3-.3-.6-.6-.6h-.6c-.3 0-.6.3-.6.6zM0 9.6V14h4.4c.3 0 .6-.3.6-.6v-.6c0-.3-.3-.6-.6-.6H1.8V9.6c0-.3-.3-.6-.6-.6H.6c-.3 0-.6.3-.6.6z",
            }),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        Ob = "Pu q";
      function kb(t, e, i) {
        return "gif" === t.type
          ? 1e3 * Math.max(6, 3 * e)
          : 1e3 * Math.min(i, e);
      }
      function Cb(t) {
        return y_(t) || (b_(t) && t.playing);
      }
      var Nb =
          ((yb = class extends d.a {
            constructor(t, e) {
              super(t, e), _b.call(this);
              var i = t.content.duration,
                r = kb(
                  t.content,
                  null != i ? i : 4500,
                  t.statusVideoMaxDuration
                ),
                s = g_(t.author, t.statusMsgInAuthor) ? c_ : h_;
              (this.state = { action: s, durationMs: r, videoVisible: !0 }),
                this.Ny(t);
              var n = new Fu.a(this);
              this.Nt = n;
            }
            componentDidMount() {
              var t = this.props,
                e = t.statusMsgInAuthor;
              t.session.startLoadingStatus(e.id),
                (this.Nx = (0, Fi.lockVideoProcessing)()),
                (0, Rg.a)(this),
                super.componentDidMount();
            }
            componentDidUpdate(t, e) {
              k_(this, t, e),
                this.props.content.rotation !== t.content.rotation &&
                  this.Ny(this.props);
              var i = this.state.videoVisible;
              i !== e.videoVisible &&
                (i
                  ? (this.Nx = (0, Fi.lockVideoProcessing)())
                  : null != this.Nx && (this.Nx.resolve(), (this.Nx = null))),
                super.componentDidUpdate(t, e);
            }
            componentWillUnmount() {
              var t = this.props,
                e = t.session,
                i = t.statusMsgInAuthor;
              e.stopLoadingOrViewingStatus(i.id),
                (0, Rg.c)(this),
                null != this.Nx && this.Nx.resolve(),
                super.componentWillUnmount();
            }
            Ny(t) {
              var e = t.content.rotation,
                i = 90 === e || 270 === e;
              this.Nu = (0, As.b)(t.content, i ? "swapDimensions" : void 0);
            }
            handleCanPlay() {
              var t = this.Nt.getDuration();
              if (
                (null != t &&
                  (t = kb(
                    this.props.content,
                    t,
                    this.props.statusVideoMaxDuration
                  )) !== this.state.durationMs &&
                  this.setState({ durationMs: t }),
                this.isLoading())
              ) {
                var e = this.props,
                  i = e.statusMsgInAuthor,
                  r = e.session;
                r.stopLoadingStatus(i.id),
                  r.startViewingStatus(
                    i.id,
                    this.mediaDuration(),
                    this.OA() ? 11 : 3
                  ),
                  this.Nt.setPlaying(!0),
                  this.setState({ action: c_ });
              }
            }
            handlePlay() {
              var t = this.state.action;
              S_(t) ||
                y_(t) ||
                (b_(t)
                  ? this.setState({ action: v_ })
                  : (t.type, this.setState({ action: c_ })));
            }
            handlePause() {
              var t;
              (null == (t = this.Nt.current) ? void 0 : t.ended) &&
                this.props.onProgressEnd &&
                this.props.onProgressEnd();
              var e = this.state.action;
              S_(e) ||
                __(e) ||
                x_(e) ||
                (b_(e)
                  ? this.setState({ action: p_ })
                  : (e.type, this.setState({ action: d_ })));
            }
            handleTimeUpdate(t) {}
            handleEnded() {}
            mediaDuration() {
              return this.props.content.duration || 0;
            }
            OA() {
              return "gif" === this.props.content.type;
            }
            addSoftKeys(t, e) {
              var i = this.props,
                r = i.parentApi,
                n = i.content,
                a = i.statusMsgInAuthor,
                l = i.author,
                o = this.state.action;
              if (!x_(o)) {
                var u = b_(o);
                u ? (t.setBack(this.OC), t.hide()) : t.setBack(r.close),
                  u && this.Nu.shouldBeSideways
                    ? (t.setUpDownArrows(
                        r.goToPreviousStatus,
                        r.goToNextStatus
                      ),
                      t.setLeftRightArrows(this.OE, this.OD))
                    : (t.setLeftRightArrows(
                        r.goToPreviousStatus,
                        r.goToNextStatus
                      ),
                      t.setUpDownArrows(this.OD, this.OE));
                var h = n.mediaStatus;
                if ("ready" === h.type) {
                  if (S_(o)) return;
                  Cb(o)
                    ? t.setCenterIcon(
                        (0, s.b)(2, fn, { className: Ob }),
                        this.pause
                      )
                    : (o.type,
                      t.setCenterIcon(
                        (0, s.b)(2, ys.a, { className: Ob }),
                        this.play
                      )),
                    u ||
                      (N_(this, t, e),
                      t.setRightIcon(
                        (0, s.b)(2, wb, { className: Ob }),
                        this.OB
                      ));
                } else (0, As.a)(t, I_(l), h, { id: a.id, origin: "status" });
              }
            }
            render() {
              var t = this.props,
                e = t.content,
                i = t.uri,
                r = t.muted,
                a = t.author,
                l = t.statusMsgInAuthor,
                o = this.state,
                u = o.durationMs,
                h = o.action,
                c = o.videoVisible,
                d = b_(h),
                v = (function (t) {
                  return __(t) || (b_(t) && !t.playing);
                })(h),
                p = Cb(h),
                f = S_(h),
                m = !g_(a, l) && !f,
                g = w_(h),
                S = this.OA(),
                y = this.Nu,
                _ = m_(h),
                b = null;
              if (e.caption) {
                var x = this.Nv(e.caption, (0, Zh.f)(e), this.Nw);
                b = E_(a)
                  ? (0, s.b)(2, mb, { text: x, hidden: g })
                  : (0, s.b)(2, fb, { text: x, opened: !p, hidden: g });
              }
              var w = d && y.shouldBeSideways,
                O = null;
              if (i && c) {
                var k = e.rotation || 0;
                w && (k += 90), (k %= 360);
                var C = {
                  width: (w ? y.widthSideway : y.width) + "px",
                  height: (w ? y.heightSideway : y.height) + "px",
                  transform: 0 !== k ? `rotate(${k}deg)` : void 0,
                  visibility: m ? "visible" : "hidden",
                };
                O = (0, s.f)(
                  1,
                  "div",
                  "Ps Po",
                  (0, s.f)(
                    1,
                    "video",
                    "Pt",
                    null,
                    1,
                    {
                      src: i,
                      muted: r || S,
                      loop: S,
                      style: n.h(C),
                      preload: "metadata",
                    },
                    null,
                    this.Nz
                  ),
                  2
                );
              }
              var N = {
                  width: (y.swapDimensions ? y.height : y.width) + "px",
                  height: (y.swapDimensions ? y.width : y.height) + "px",
                  visibility: m && c ? "hidden" : "visible",
                },
                I = O_(a, l);
              return (0, s.f)(
                1,
                "div",
                "Pp Po",
                [
                  (0, s.f)(
                    1,
                    "div",
                    "Px",
                    (0, s.b)(2, Zi, {
                      content: e,
                      className: "Px",
                      parentWidth: y.width,
                    }),
                    2,
                    { style: n.h(N) }
                  ),
                  O,
                  (0, s.b)(2, Ts, {
                    mediaStatus: e.mediaStatus,
                    meta: I,
                    size: e.size,
                    onReady: f ? { icon: null, spinner: Cs } : void 0,
                  }),
                  (0, s.f)(
                    1,
                    "div",
                    (0, Mt.a)(
                      "Pq",
                      this.Nu.shouldBeSideways && "Pr",
                      !v && "Pv",
                      !d && "Pw"
                    ),
                    (0, s.b)(2, ys.a, { className: Ob }),
                    2
                  ),
                  b,
                  (0, s.b)(2, o_, {
                    parent: t,
                    playing: p,
                    sideways: w,
                    show: _,
                    duration: u,
                  }),
                ],
                0
              );
            }
          }),
          (_b = function () {
            (this.Nv = (0, Uh.c)(h.d)),
              (this.Nw = { skipPhoneNumbers: !0 }),
              (this.Nx = null),
              (this.Nz = (t) => {
                this.Nt.ref(t, "preserveTime");
              }),
              (this.play = () => {
                this.Nt.setPlaying(!0);
              }),
              (this.pause = () => {
                this.Nt.setPlaying(!1);
              }),
              (this.isLoading = () => S_(this.state.action)),
              (this.OB = () => {
                var t = this.state.action;
                this.setState((e) => ({ action: y_(t) ? v_ : p_ }));
              }),
              (this.OC = () => {
                var t = this.state.action;
                b_(t)
                  ? t.playing
                    ? this.setState({ action: c_ })
                    : this.setState({ action: d_ })
                  : __LOG__(
                      4
                    )`You should not be abled to unzoom while ${t.type}`;
              }),
              (this.OD = () => {
                this.props.parentApi.unmute(),
                  navigator.volumeManager.requestUp();
              }),
              (this.OE = () => {
                this.props.parentApi.unmute(),
                  navigator.volumeManager.requestDown();
              }),
              (this.onVideoRequested = () => {
                this.state.videoVisible && this.setState({ videoVisible: !1 });
              }),
              (this.onVideoReleased = () => {
                this.state.videoVisible || this.setState({ videoVisible: !0 });
              });
          }),
          yb),
        Ib = (0, Fc.c)({
          getContentRef(t) {
            var e = t.content.mediaStatus;
            return "ready" === e.type ? e.ref : null;
          },
          getId: (t) => t.statusMsgInAuthor.id,
          render: (t, e) =>
            (0, s.i)((0, s.b)(2, Nb, Object.assign({}, t, { uri: e }))),
        }),
        Eb = "Jg q",
        Tb = class extends d.a {
          constructor(t, e) {
            super(t, e),
              (this.play = () => {
                this.setState({ action: c_ });
              }),
              (this.pause = () => {
                y_(this.state.action) && this.setState({ action: d_ });
              }),
              (this.isLoading = () => !1),
              (this.state = { action: c_ });
          }
          componentDidMount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.startViewingStatus(i.id, 5e3, 1), super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            k_(this, t, e), super.componentDidUpdate(t, e);
          }
          componentWillUnmount() {
            var t = this.props,
              e = t.session,
              i = t.statusMsgInAuthor;
            e.stopViewingStatus(i.id), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.state.action;
            x_(i) ||
              (C_(this, t),
              N_(this, t, e),
              y_(i)
                ? t.setCenterIcon(
                    (0, s.b)(2, fn, { className: Eb }),
                    this.pause
                  )
                : (i.type,
                  t.setCenterIcon(
                    (0, s.b)(2, ys.a, { className: Eb }),
                    this.play
                  )));
          }
          render() {
            var t = this.state.action,
              e = y_(t);
            return (0, s.f)(
              1,
              "div",
              "Je",
              [
                (0, s.f)(1, "div", "Jf", (0, s.b)(2, o.b, { l10n: 966 }), 2),
                (0, s.b)(2, o_, {
                  parent: this.props,
                  playing: e,
                  show: m_(t),
                  withoutShadow: !0,
                  duration: 5e3,
                }),
              ],
              4
            );
          }
        };
      function Mb(t, e) {
        return null != t[e];
      }
      function Lb(t) {
        return t + 1;
      }
      function Ab(t) {
        return t - 1;
      }
      var Ub = class extends n.a {
          static getDerivedStateFromProps(t, e) {
            if ("me" !== t.type) return null;
            var i = t.authors[t.initialAuthorIdx];
            return i
              ? e.current.author !== i
                ? { current: Object.assign({}, e.current, { author: i }) }
                : void 0
              : null;
          }
          constructor(t) {
            super(t), Rb.call(this);
            var e = {};
            t.authors.forEach((t) => {
              var i;
              (null == (i = t.unread) ? void 0 : i.first) &&
                (e[t.jid] = t.unread.first.id);
            });
            var i = t.authors[t.initialAuthorIdx],
              r = i.msgs.findIndex((e) => e.id === t.initialStatusMsgId);
            this.state = {
              oldestUnreads: e,
              current: { id: t.initialStatusMsgId, author: i, index: r },
              muted: !0,
            };
            var s = t.statuses[t.initialStatusMsgId];
            (this.Jw = new l_.b()),
              this.Jw.openStatus(
                i,
                t.initialStatusMsgId,
                s && "LOADING" !== s ? s : void 0
              ),
              (this.Jv = {
                close: this.Jy,
                goToPreviousStatus: this.Jz,
                goToNextStatus: this.KA,
                unmute: this.KB,
              });
          }
          componentDidMount() {
            (this.Jx = !0),
              this.KC(this.state.current.id),
              (0, de.d)(document.body);
            var t = this.state.current.author;
            this.Jw.startViewingStatusRow(t, 1, this.KD(t)),
              (this.props.backend.statusViewerSession = this.Jw);
          }
          componentDidUpdate(t, e) {
            this.state.current.id !== e.current.id &&
              this.KC(this.state.current.id);
            var i = this.props.isActiveScreen;
            if (i !== t.isActiveScreen) {
              var r = (0, de.c)();
              i && !r ? (0, de.d)(document.body) : !i && r && (0, de.a)();
            }
          }
          componentWillUnmount() {
            var t;
            (this.Jx = !1), (0, de.c)() && (0, de.a)();
            var e = this.props.backend,
              i = null == (t = e.statusSession) ? void 0 : t.id;
            setTimeout(() => {
              this.Jw.stopStatusViewerSession(null != i ? i : "noSession");
            }, 0),
              (e.statusViewerSession = null);
          }
          KE(t, e) {
            var i,
              r = "previous" === e ? Ab : Lb,
              s = this.state.current.author,
              n = s.msgs,
              a = n.findIndex((e) => e.id === t);
            if (a < 0)
              return (
                __LOG__(
                  4
                )`Displaying a status not present in its author anymore`,
                void SEND_LOGS("status-author-without-status")
              );
            var l = null == (i = n[(a = r(a))]) ? void 0 : i.id;
            if (null != l) return { id: l, index: a, author: s };
            var o = this.props.authors;
            if (0 !== o.length) {
              var u = o.findIndex((t) => t.jid === s.jid);
              if (u < 0)
                return (
                  __LOG__(4)`Displaying an author not present in the list`,
                  void SEND_LOGS("status-author-not-present-in-list")
                );
              var h,
                c = o[r(u)];
              if (null != c)
                return (
                  null == (l = this.state.oldestUnreads[c.jid])
                    ? ((a = 0), (l = null == (h = c.msgs[a]) ? void 0 : h.id))
                    : (a = c.msgs.findIndex((t) => t.id === l)),
                  null == l
                    ? (__LOG__(
                        4
                      )`Trying to go through an author without any status`,
                      void SEND_LOGS("status-author-without-any-status"))
                    : { id: l, index: a, author: c }
                );
            } else __LOG__(3)`StatusRead: No extra authors provided. Closing.`;
          }
          KF(t) {
            return this.KE(t, "previous");
          }
          KG(t) {
            return this.KE(t, "next");
          }
          KH(t, e) {
            var i,
              r = this.state.current,
              s = r.id,
              n = r.author;
            if (
              ("next" === t ? (this.KI(s), (i = this.KG(s))) : (i = this.KF(s)),
              i)
            ) {
              var a = i,
                l = a.author,
                o = this.props.statuses[a.id];
              this.Jw.openStatus(l, a.id, o && "LOADING" !== o ? o : void 0),
                this.setState({ current: a }),
                l !== n &&
                  this.Jw.startViewingStatusRow(
                    l,
                    (function (t, e) {
                      return "timeout" === t ? 6 : "previous" === e ? 4 : 5;
                    })(e, t),
                    this.KD(l)
                  );
            } else this.Jy();
          }
          KC(t) {
            var e = this.props,
              i = e.backend,
              r = e.statuses,
              s = this.KG(t),
              n = [];
            Mb(r, t) || n.push(t),
              s && !Mb(r, s.id) && n.push(s.id),
              n.length > 0 &&
                i.loadStatuses(n).then(
                  (t) => {
                    if (
                      this.Jx &&
                      (t.forEach((t) => {
                        this.Jw.statusLoaded(t);
                      }),
                      t.length < n.length)
                    ) {
                      var e = new Set();
                      t.forEach((t) => {
                        e.add(t.id);
                      }),
                        n.forEach((t) => {
                          e.has(t) || this.Jw.failStatus(t);
                        });
                    }
                  },
                  (t) => {
                    throw (
                      (this.Jx &&
                        n.forEach((t) => {
                          this.Jw.failStatus(t);
                        }),
                      t)
                    );
                  }
                );
          }
          KD(t) {
            var e = this.props.authors.findIndex((e) => e.jid === t.jid);
            return e < 0 ? 0 : e;
          }
          render() {
            var t = this.props,
              e = t.isActiveScreen,
              i = t.contacts,
              r = t.statusVideoMaxDuration,
              n = t.statuses,
              a = t.backend,
              l = this.state,
              o = l.current,
              u = l.muted,
              h = n[o.id],
              c = o.author.msgs[o.index];
            if (null == c)
              return (
                __LOG__(4)`StatusRead: failed to find statusMsgInAuthor`,
                SEND_LOGS("statusRead-missing-statusMsgInAuthor"),
                a.goBack(),
                null
              );
            if (null != h && "LOADING" !== h && h.id !== c.id)
              return (
                __LOG__(
                  4
                )`StatusRead: status and statusMsgInAuthor do not match on their id`,
                SEND_LOGS("statusRead-mismatch-statusMsgInAuthor"),
                a.goBack(),
                null
              );
            var d = o.index + 1,
              v = o.author.msgs.length;
            if (null == h || "LOADING" === h)
              return (0, s.b)(2, u_, {
                author: o.author,
                statusMsgInAuthor: c,
                position: d,
                total: v,
                contacts: i,
                onProgressBegin: void 0,
                onProgressEnd: void 0,
                isActiveScreen: e,
                backend: this.props.backend,
                session: this.Jw,
              });
            var p = h.content,
              f = () => {
                this.KI(h.id);
              },
              g = this.KJ,
              S = h.id;
            switch (p.type) {
              case "text":
                return (0, s.b)(
                  2,
                  cb,
                  {
                    parentApi: this.Jv,
                    author: o.author,
                    statusMsgInAuthor: c,
                    position: d,
                    total: v,
                    content: p,
                    contacts: i,
                    onProgressBegin: f,
                    onProgressEnd: g,
                    isActiveScreen: e,
                    backend: this.props.backend,
                    session: this.Jw,
                  },
                  S
                );
              case "image":
                return (0, s.b)(
                  2,
                  xb,
                  {
                    parentApi: this.Jv,
                    author: o.author,
                    statusMsgInAuthor: c,
                    position: d,
                    total: v,
                    content: p,
                    contacts: i,
                    onProgressBegin: f,
                    onProgressEnd: g,
                    backend: this.props.backend,
                    isActiveScreen: e,
                    session: this.Jw,
                  },
                  S
                );
              case "video":
              case "gif":
                return (0, s.b)(
                  2,
                  Ib,
                  {
                    parentApi: this.Jv,
                    author: o.author,
                    statusMsgInAuthor: c,
                    position: d,
                    total: v,
                    content: p,
                    contacts: i,
                    onProgressBegin: f,
                    onProgressEnd: g,
                    isActiveScreen: e,
                    statusVideoMaxDuration: r,
                    backend: a,
                    muted: u,
                    session: this.Jw,
                  },
                  S
                );
              case "voice":
                return (0, qn.a)("voice_status_receipt_enabled")
                  ? (0, s.b)(
                      2,
                      rb,
                      {
                        parentApi: this.Jv,
                        author: o.author,
                        statusMsgInAuthor: c,
                        position: d,
                        total: v,
                        content: p,
                        contacts: i,
                        onProgressBegin: f,
                        onProgressEnd: g,
                        isActiveScreen: e,
                        backend: a,
                        session: this.Jw,
                        id: this.state.current.id,
                        muted: u,
                      },
                      S
                    )
                  : (0, s.b)(
                      2,
                      Tb,
                      {
                        parentApi: this.Jv,
                        author: o.author,
                        statusMsgInAuthor: c,
                        position: d,
                        total: v,
                        content: p,
                        contacts: i,
                        onProgressBegin: f,
                        onProgressEnd: g,
                        isActiveScreen: e,
                        backend: this.props.backend,
                        session: this.Jw,
                        id: this.state.current.id,
                      },
                      S
                    );
              default:
                return (0, m.a)(p.type);
            }
          }
        },
        Rb = function () {
          (this.Jx = !1),
            (this.Jy = () => {
              this.props.backend.goBack();
            }),
            (this.Jz = () => {
              this.KH("previous", "userToward");
            }),
            (this.KA = () => {
              this.KH("next", "userToward");
            }),
            (this.KJ = () => {
              this.KH("next", "timeout");
            }),
            (this.KB = () => {
              this.state.muted && this.setState({ muted: !1 });
            }),
            (this.KI = (t) => {
              var e = this.state,
                i = e.current,
                r = e.oldestUnreads,
                s = this.props.backend;
              if (t === i.id && "@me" !== i.author.jid) {
                var n = i.author.jid;
                i.author.unread.count > 0 && s.markStatusAsSeen(n, t);
                var a = r[n];
                if (!(null == a || t < a)) {
                  var l = i.author.msgs;
                  t === l[l.length - 1]
                    ? this.setState((t) => ({
                        oldestUnreads: Object.assign({}, t.oldestUnreads, {
                          [n]: void 0,
                        }),
                      }))
                    : this.setState((e) => ({
                        oldestUnreads: Object.assign({}, e.oldestUnreads, {
                          [n]: t,
                        }),
                      }));
                }
              }
            });
        },
        Pb = (0, l.f)(
          (0, d.e)(Ub, { fullscreen: !0 }),
          (t, e) => ({
            authorMe: e.authorMe,
            initialStatusMsgId: e.initialStatusMsgId,
            isActiveScreen: e.isActiveScreen,
            statuses: e.statuses,
            contacts: t.contacts,
            statusVideoMaxDuration: t.serverProps.statusVideoMaxDuration,
          }),
          (t, e) => ({
            type: "me",
            contacts: t.contacts,
            authors: [t.authorMe],
            initialAuthorIdx: 0,
            initialStatusMsgId: t.initialStatusMsgId,
            statuses: t.statuses,
            isActiveScreen: t.isActiveScreen,
            statusVideoMaxDuration: t.statusVideoMaxDuration,
            backend: e,
          })
        ),
        Gb = (0, l.f)(
          (0, d.e)(Ub, { fullscreen: !0 }),
          (t, e) => ({
            authors: e.authors,
            initialAuthorIdx: e.initialAuthorIdx,
            initialStatusMsgId: e.initialStatusMsgId,
            statuses: e.statuses,
            isActiveScreen: e.isActiveScreen,
            contacts: t.contacts,
            statusVideoMaxDuration: t.serverProps.statusVideoMaxDuration,
          }),
          (t, e) => ({
            type: "others",
            contacts: t.contacts,
            authors: t.authors,
            initialAuthorIdx: t.initialAuthorIdx,
            initialStatusMsgId: t.initialStatusMsgId,
            statuses: t.statuses,
            isActiveScreen: t.isActiveScreen,
            statusVideoMaxDuration: t.statusVideoMaxDuration,
            backend: e,
          })
        ),
        Fb = i(438),
        Db = class extends d.b {
          constructor(t, e) {
            super(t, e),
              (this.Op = () => {
                this.Oo(this.Om.defaultLeft(this.state.selectionIndex));
              }),
              (this.Oq = () => {
                this.Oo(this.Om.defaultRight(this.state.selectionIndex));
              }),
              (this.Or = () => {
                this.Oo(this.Om.previousRow(this.state.selectionIndex));
              }),
              (this.Os = () => {
                this.Oo(this.Om.nextRow(this.state.selectionIndex));
              }),
              (this.On = (0, Fb.a)().map((t) => ({
                emojifiedEmoji: (0, h.b)(t),
                emoji: t,
              }))),
              (this.Om = new oe({
                loop: !0,
                length: this.On.length,
                rowLength: 4,
              })),
              (this.state = { selectionIndex: 0 });
          }
          Oo(t) {
            null != t && this.setState({ selectionIndex: t.index });
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(935, () => {
              this.props.onSelectQuickReply(
                this.On[this.state.selectionIndex].emoji
              );
            }),
              t.setLeftLabel(861, this.props.onBack),
              t.setBack(this.props.onBack),
              t.setLeftRightArrows(this.Op, this.Oq),
              t.setUpDownArrows(this.Or, this.Os);
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              "Qg",
              (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Qh", ce(this.Om.options.rowLength)),
                this.On.map((t, e) => {
                  var i = t.emoji,
                    r = t.emojifiedEmoji;
                  return (0, s.f)(
                    1,
                    "div",
                    null,
                    (0, s.f)(
                      1,
                      "div",
                      (0, Mt.a)(
                        "Qi",
                        this.state.selectionIndex === e &&
                          this.props.selected &&
                          "Qj"
                      ),
                      r,
                      0
                    ),
                    2,
                    null,
                    i
                  );
                }),
                0
              ),
              2
            );
          }
        };
      function zb(t) {
        return t;
      }
      var Vb = ["quickReplies", "composeBox"],
        Kb = ["composeBox"],
        jb = { item: "composeBox", scrollFromTop: "start" },
        Bb = (0, Uh.b)(function (t, e) {
          return {
            type: "closeScreen",
            id: t,
            closeScreensAbove: !0,
            specifics: { from: "statusReply", statusId: e },
          };
        }),
        Wb = (0, Uh.a)(function (t) {
          return { text: "", quote: t, voice: void 0, link: void 0 };
        }),
        Hb = class extends n.a {
          constructor() {
            super(),
              (this.Jf = n.e()),
              (this.Jg = (t, e) =>
                "composeBox" === t
                  ? this.Jh(e)
                  : (0, s.f)(
                      1,
                      "div",
                      null,
                      (0, s.b)(2, Db, {
                        selected: e,
                        onSelectQuickReply: this.Ji,
                        onBack: this.Jj,
                      }),
                      2
                    )),
              (this.Jj = () => {
                var t;
                null == (t = this.Jf.current) || t.goTo("composeBox");
              }),
              (this.Ji = (t) => {
                var e = Wb(this.props.quotedStatus);
                this.props.backend.sendTextMsg(
                  this.props.authorJid,
                  t,
                  null == e ? void 0 : e.quote
                ),
                  this.Jk(15);
              }),
              (this.Jl = (t) => {
                this.setState({ hasUserBeganTypingReply: t.length > 0 });
              }),
              (this.Jk = (t) => {
                var e,
                  i = this.props,
                  r = i.backend,
                  s = i.id,
                  n = i.contacts;
                null == (e = r.statusViewerSession) || e.replyToStatus(s, n, t),
                  r.goBack(),
                  (0, pt.a)(979);
              }),
              (this.state = { hasUserBeganTypingReply: !1 });
          }
          componentDidMount() {
            var t,
              e = this.props,
              i = e.backend,
              r = e.id;
            null == (t = i.statusViewerSession) || t.startReplyingToStatus(r);
          }
          componentWillUnmount() {
            var t,
              e = this.props,
              i = e.backend,
              r = e.id;
            null == (t = i.statusViewerSession) || t.stopReplyingToStatus(r);
          }
          Jh() {
            var t =
                !(arguments.length > 0 && void 0 !== arguments[0]) ||
                arguments[0],
              e = this.props,
              i = this.props.backend,
              r = Bb(e.screenId, e.id),
              n = Wb(e.quotedStatus);
            return (0, s.b)(2, _h, {
              selected: fh,
              isSelected: t,
              type: "status",
              contacts: e.contacts,
              user: e.user,
              authorJid: e.authorJid,
              backend: i,
              hasFocusPriority: !0,
              onSent: (t) => {
                var e;
                switch (t) {
                  case "text":
                    e = 2;
                    break;
                  case "audio":
                    e = 6;
                    break;
                  default:
                    e = 1;
                }
                this.Jk(e);
              },
              onSentFromAnotherScreen: r,
              onChange: this.Jl,
              draft: n,
              connected: e.connected,
              serverPropGifProvider: e.serverPropGifProvider,
              shouldHideQuote: (0, Je.u)(),
              disableLongPressRecording: !1,
            });
          }
          render() {
            return (0, s.f)(
              1,
              "div",
              null,
              (0, Je.u)()
                ? (0, s.c)(
                    [
                      (0, s.f)(1, "div", "Gb"),
                      (0, s.b)(
                        2,
                        ph.a,
                        {
                          items: this.state.hasUserBeganTypingReply ? Kb : Vb,
                          keyOf: zb,
                          renderItem: this.Jg,
                          start: jb,
                        },
                        null,
                        this.Jf
                      ),
                    ],
                    4
                  )
                : this.Jh(),
              0
            );
          }
        },
        Jb = (0, l.f)(
          (0, d.e)(Hb, { order: [dl.a, fh], noHeader: !0 }),
          (t, e) => {
            var i = t.contacts,
              r = t.serverProps,
              s = t.connected,
              n = t.user;
            return {
              id: e.id,
              quotedStatus: e.quotedStatus,
              authorJid: e.authorJid,
              screenId: e.screenId,
              contacts: i,
              connected: s,
              user: n,
              serverPropGifProvider: r.gifProvider,
            };
          },
          (t, e) => Object.assign({}, t, { backend: e })
        ),
        $b = i(155);
      function Yb() {
        return window.getSelection().getRangeAt(0);
      }
      function qb(t, e, i) {
        var r = window.getSelection(),
          s = r.getRangeAt(0);
        s.setStart(t, e),
          s.setEnd(t, i),
          s.collapse(!0),
          r.removeAllRanges(),
          r.addRange(s);
      }
      var Xb = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.QA = 0),
              (this.QB = 0),
              (this.QC = null),
              (this.QD = !1),
              (this.QE = null),
              (this.QG = (t) => {
                this.QE = t;
              }),
              (this.QJ = (t) => {
                var e = t.target.innerText || "",
                  i = this.QD ? (0, $b.f)(e) : e;
                this.props.onChange(null != i ? i : "", t);
              }),
              (this.QK = (t) => {
                var e = (0, Ho.m)(t);
                e === Ho.f
                  ? (this.QC = requestAnimationFrame(() => {
                      t.target.blur();
                    }))
                  : this.props.hasFocusPriority &&
                    (e === Ho.b || e === Ho.c) &&
                    t.target.value
                  ? t.stopPropagation()
                  : this.props.onKeyDown && this.props.onKeyDown(t);
              }),
              (this.restoreSelection = () => {
                var t;
                if (
                  null != this.QE &&
                  (null == (t = this.QE) ? void 0 : t.firstChild)
                ) {
                  var e;
                  this.QE.focus();
                  var i = null == (e = this.QE) ? void 0 : e.firstChild;
                  i && (qb(i, this.QA, this.QB), this.saveSelection());
                }
              }),
              (this.saveSelection = () => {
                if (this.QE) {
                  var t = Yb(),
                    e = t.startOffset,
                    i = t.endOffset;
                  (this.QA = e), (this.QB = i);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.className !== t.className ||
                i.hasFocusPriority !== t.hasFocusPriority ||
                i.placeholder !== t.placeholder ||
                i.defaultValue !== t.defaultValue ||
                i.disableGoogleAssistant !== t.disableGoogleAssistant ||
                i.onChange !== t.onChange ||
                i.onKeyDown !== t.onKeyDown)
            );
          }
          addSoftKeys(t, e) {
            t.setLeftIcon(gu, () => this.QF(e));
          }
          componentWillUnmount() {
            null != this.QC && cancelAnimationFrame(this.QC),
              super.componentWillUnmount();
          }
          QF(t) {
            mu(t, (t) => {
              this.pasteText(t);
            });
          }
          pasteText(t) {
            var e = this.QE;
            if (null != e) {
              e.focus();
              var i = (0, h.e)(t).normalizedText,
                r = this.QD || i !== t,
                s = this.QH(),
                n = Yb(),
                a = n.startOffset,
                l = n.endOffset,
                o = s.substring(0, a) + i,
                u = o + s.substring(l),
                c = o.length;
              this.setValue(r ? (0, $b.f)(u) : u, !0), this.QI(c);
            }
          }
          QH() {
            return (this.QE && this.QE.innerText) || "";
          }
          setValue(t) {
            var e =
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              i =
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = this.QE;
            if (null != r && r.innerText !== t) {
              var s = (0, h.e)(t),
                n = s.normalizedText,
                a = s.fontFamily;
              if (
                ((this.QD = n !== t),
                (r.style.fontFamily = a),
                (r.innerText = n),
                this.QI(e ? 0 : n.length),
                !i)
              ) {
                var l = new Event("input", { bubbles: !0 });
                r.dispatchEvent(l);
              }
            }
          }
          QI(t) {
            var e;
            if (this.QE && (null == (e = this.QE) ? void 0 : e.firstChild)) {
              var i;
              this.QE.focus();
              var r = null == (i = this.QE) ? void 0 : i.firstChild;
              r && qb(r, t, t);
            }
          }
          render() {
            var t,
              e = this.props,
              i = e.placeholder ? (0, le.k)(e.placeholder) : void 0;
            return (0, s.b)(4098, Wo.b.div, {
              innerRef: this.QG,
              className: e.className,
              contentEditable: !0,
              hasFocusPriority: null != (t = e.hasFocusPriority) && t,
              onInput: this.QJ,
              onKeyDown: this.QK,
              placeholder: i,
              "x-inputmode": e.disableGoogleAssistant ? "plain" : void 0,
              onNativeFocus: this.restoreSelection,
              onNativeBlur: this.saveSelection,
            });
          }
        },
        Qb = (0, F.y)(yr.o);
      function Zb(t) {
        var e = t + 1;
        e >= Qb.length && (e = 0);
        var i = Qb[e];
        return { index: e, value: i, hex: (0, Zh.b)(i) };
      }
      var tx = class extends d.a {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.settings !== t.settings ||
                  i.showDialogOnFirstSend !== t.showDialogOnFirstSend)) ||
              (r !== e &&
                (r.text !== e.text ||
                  r.color !== e.color ||
                  r.linkPreview !== e.linkPreview))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.JO = () => this.state.text),
              (this.JP = (t) => {
                this.setState({ linkPreview: t });
              }),
              (this.JQ = () => {
                this.setState({ linkPreview: null });
              }),
              (this.JR = (t) => {
                this.setState({ text: t }), this.JN.debounce();
              }),
              (this.JS = () => {
                this.JN.debounce();
              });
            var i = Math.floor(Math.random() * Qb.length);
            (this.state = { text: "", color: Zb(i), linkPreview: null }),
              (this.JN = new (class {
                constructor(t) {
                  (this.Li = new Map()),
                    (this.Lj = null),
                    (this.Lk = null),
                    (this.Ll = new Gi.a(() => {
                      var t = Uo(this.Lh.getText());
                      if (!Ro(t, this.Lk))
                        if (((this.Lk = t), t)) {
                          var e = t.normalizedLink,
                            i = t.matchedText,
                            r = this.Li.get(e);
                          if (null == r) {
                            var s = Po(e).then((t) => {
                              this.Li.set(e, t || !1),
                                this.Lj === s &&
                                  ((this.Lj = null),
                                  t &&
                                    this.Lh.addLinkPreview(
                                      Object.assign({}, t, { matchedText: i })
                                    ));
                            });
                            (this.Lj = s), this.Lh.removeLinkPreview();
                          } else
                            !1 !== r
                              ? this.Lh.addLinkPreview(
                                  Object.assign({}, r, { matchedText: i })
                                )
                              : this.Lh.removeLinkPreview();
                        } else this.Lh.removeLinkPreview();
                    })),
                    (this.Lh = t);
                }
                debounce() {
                  this.Ll.debounce(700);
                }
                cancel() {
                  (this.Lj = null), this.Ll.cancel();
                }
                forceRunNow() {
                  this.Ll.forceRunNow();
                }
              })({
                getText: this.JO,
                addLinkPreview: this.JP,
                removeLinkPreview: this.JQ,
              }));
          }
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.JN.cancel(), super.componentWillUnmount();
          }
          addSoftKeys(t, e) {
            var i = this.state.text.trim();
            i.length > 0 &&
              t.setCenterLabel(935, () => {
                var t = this.state,
                  r = t.color,
                  s = t.linkPreview;
                if ((0, Zh.m)(i) > _e.U)
                  (0, b.e)({ title: 243, text: [_e.U, 261] });
                else {
                  var n = this.props,
                    a = n.showDialogOnFirstSend,
                    l = n.settings;
                  if (!l)
                    return void __LOG__(
                      3
                    )`Tried to send status text without settings`;
                  xc(e, l, a, 935, () => {
                    var t;
                    e.sendStatusTextMsg(i, r.value, s, {
                      from: "statusTab",
                      sessionId: null == (t = e.statusSession) ? void 0 : t.id,
                    }),
                      e.closeAllScreens();
                  });
                }
              }),
              t.setRightLabel(963, () => {
                var t = this.state.color;
                this.setState({ color: Zb(t.index) });
              });
          }
          render() {
            var t = this.state,
              e = t.color,
              i = t.linkPreview,
              r = { backgroundColor: e.hex };
            return (0, s.b)(2, S.a, {
              children: (0, s.f)(
                1,
                "div",
                "GX",
                [
                  (0, s.f)(
                    1,
                    "div",
                    "GY",
                    (0, s.b)(2, Xb, {
                      className: "Ga FV FS",
                      hasFocusPriority: !0,
                      onChange: this.JR,
                      onKeyDown: this.JS,
                      placeholder: 983,
                      disableGoogleAssistant: !0,
                    }),
                    2
                  ),
                  null != i
                    ? (0, s.f)(
                        1,
                        "div",
                        "GZ",
                        (0, s.b)(2, _a, { content: i }),
                        2
                      )
                    : null,
                ],
                0,
                { style: n.h(r) }
              ),
            });
          }
        },
        ex = (0, l.c)((0, d.e)(tx, { fullscreen: !0 }), (t, e, i) => ({
          settings: t.status.settings,
          showDialogOnFirstSend: t.status.showDialogOnFirstSend,
          backend: e,
        })),
        ix = i(2),
        rx = (0, F.y)(yr.o),
        sx = (0, F.x)(yr.o);
      function nx(t) {
        var e = t + 1;
        e >= rx.length && (e = 0);
        var i = rx[e];
        return { index: e, value: i, hex: (0, Zh.b)(i) };
      }
      function ax(t) {
        return Math.ceil(t / 1e3);
      }
      function lx(t) {
        return t >= 500;
      }
      var ox = class extends d.a {
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.settings !== t.settings ||
                  i.showDialogOnFirstSend !== t.showDialogOnFirstSend)) ||
              (r !== e &&
                (r.status !== e.status ||
                  r.color !== e.color ||
                  r.playing !== e.playing))
            );
          }
          constructor(t, e) {
            super(t, e),
              (this.JT = null),
              (this.JW = () => {
                "visible" !== document.visibilityState && this.JV("stop");
              }),
              (this.JU = (t) => {
                null != this.JT && this.JT.stop();
                var e = new jo();
                (this.JT = e),
                  (0, de.g)(200),
                  e
                    .start()
                    .then((e) => {
                      this.setState(
                        (e) => (
                          setInterval(() => {
                            this.setState((t) => {
                              var e = t.status;
                              if ("recording" === e.type) {
                                var i = ax((0, Ie.u)(e.started));
                                return i === e.duration
                                  ? null
                                  : {
                                      status: Object.assign({}, e, {
                                        duration: i,
                                      }),
                                    };
                              }
                            });
                          }, 50),
                          {
                            status: {
                              type: "recording",
                              started: (0, Ie.t)(),
                              duration: 0,
                              longPress: "longPress" === t,
                            },
                          }
                        )
                      );
                    })
                    .catch((t) => {
                      __LOG__(
                        4
                      )`Failed to start recording, could not get media stream: ${t}`;
                    });
              }),
              (this.JV = (t) => {
                var e = this.state.status,
                  i = this.JT;
                if (null != i)
                  if (((0, de.g)(200), "recording" === e.type)) {
                    var r = (0, Ie.u)(e.started),
                      s = i.stop();
                    lx(r)
                      ? (this.setState({
                          status: {
                            type: "postRecording",
                            duration: ax(r),
                            longPress: e.longPress,
                          },
                        }),
                        s.then((e) => {
                          var r = e.blob,
                            s = e.waveform;
                          return this.JX(t, i, r, s);
                        }))
                      : this.reset();
                  } else
                    i.stop().catch((t) => {
                      __LOG__(3)`Catched error while recording: ${t}`,
                        this.reset();
                    }),
                      (this.JT = null);
                else
                  __LOG__(
                    3
                  )`Tried to end recording while not doing it (this warning is fine if due to the app put in the background)`;
              }),
              (this.Ja = (t, e) => {
                this.state.playing && this.pause();
                var i = this.state.status;
                "postRecording" === i.type && null != t
                  ? this.JZ(t, i.duration, e)
                  : "recorded" === i.type &&
                    this.JZ(i.blob, i.duration, i.waveform);
              }),
              (this.play = () => {
                this.setState({ playing: !0 });
              }),
              (this.pause = () => {
                this.setState({ playing: !1 });
              }),
              (this.JX = (t, e, i, r) => {
                var s = this.state.status;
                if ("postRecording" === s.type)
                  switch (t) {
                    case "delete":
                      this.reset();
                      break;
                    case "stop":
                      this.setState({
                        status: {
                          type: "recorded",
                          duration: Math.max(1, s.duration),
                          blob: i,
                          waveform: r,
                        },
                      });
                      break;
                    default:
                      this.Ja(i, r);
                  }
              }),
              (this.JT = null);
            var i = nx(Math.floor(Math.random() * rx.length));
            this.state = {
              status: { type: "preRecording" },
              color: i,
              playing: !1,
            };
          }
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings(),
              document.addEventListener("visibilitychange", this.JW),
              super.componentDidMount();
          }
          componentDidUpdate(t, e) {
            var i = this.state.status;
            "recording" === i.type && i.duration >= _e.W && this.JV("stop"),
              super.componentDidUpdate(t, e);
          }
          JY(t, e) {
            var i = (0, Ie.u)(e);
            lx(i) &&
              t.stop().then((t) => {
                var e = { blob: t.blob, waveform: t.waveform, duration: ax(i) };
                (0, eh.d)(this.props.backend, Zu.t.get(), {
                  voice: e,
                  link: void 0,
                  quote: void 0,
                  text: "",
                });
              });
          }
          JZ(t, e, i) {
            var r;
            __LOG__(2)`Send recorded message`,
              this.props.backend.sendStatusMediaMsg(
                {
                  type: "voice",
                  plaintext: t,
                  duration: e,
                  waveform: i,
                  backgroundColor: this.state.color.value,
                },
                {
                  from: "statusTab",
                  sessionId:
                    null == (r = this.props.backend.statusSession)
                      ? void 0
                      : r.id,
                }
              );
          }
          componentWillUnmount() {
            if (null != this.JT) {
              var t = this.state.status;
              "recording" === t.type
                ? this.JY(this.JT, t.started)
                : (__LOG__(
                    3
                  )`Forcing recorder to stop whilst the conversation not in the recording state`,
                  this.JT.stop());
            }
            document.removeEventListener("visibilitychange", this.JW),
              super.componentWillUnmount();
          }
          reset() {
            this.setState({ status: { type: "preRecording" } });
          }
          addSoftKeys(t, e) {
            var i = this.state.status,
              r = this.props,
              s = r.settings,
              n = r.showDialogOnFirstSend;
            switch (i.type) {
              case "preRecording":
                t.setHoldCenter(
                  () => this.JU("longPress"),
                  () => this.JV("stop")
                ),
                  t.setCenterLabel(910, () => this.JU("shortPress")),
                  t.setRightLabel(963, () => {
                    var t = nx(this.state.color.index);
                    this.setState({ color: t });
                  });
                break;
              case "recording":
                i.longPress
                  ? (t.setHoldCenter(
                      () => this.JU("longPress"),
                      () => this.JV("stop")
                    ),
                    t.setFull(207))
                  : (t.setLeftLabel(864, () => this.JV("delete")),
                    t.setCenterLabel(940, () => this.JV("stop")));
                break;
              case "postRecording":
                i.longPress
                  ? t.setFull(207)
                  : (t.setLeftLabel(872, () => {}),
                    t.setCenterLabel(935, () => {}),
                    t.setRightLabel(907, () => {}));
                break;
              default:
                i.type,
                  t.setLeftLabel(872, () => {
                    this.reset();
                  }),
                  t.setCenterLabel(935, () => {
                    s
                      ? xc(e, s, n, 935, () => {
                          this.Ja(), e.closeAllScreens();
                        })
                      : __LOG__(3)`Tried to send status text without settings`;
                  }),
                  this.state.playing
                    ? t.setRightLabel(904, () => {
                        this.pause();
                      })
                    : t.setRightLabel(907, () => {
                        this.play();
                      });
            }
          }
          render() {
            var t = this.state.color,
              e = { backgroundColor: t.hex },
              i = this.state.status,
              a = "PD",
              l = null,
              o = null;
            switch (i.type) {
              case "preRecording":
                o = (0, s.b)(2, tb, {
                  duration: _e.W,
                  currentTime: 0,
                  playing: !0,
                  authorJid: ix.b,
                  className: r[sx[t.index]],
                });
                break;
              case "recording":
              case "postRecording":
                (a = "PE"),
                  (l = (0, s.b)(2, wh, { duration: _e.W - (i.duration || 0) })),
                  (o = (0, s.b)(2, tb, {
                    duration: _e.W,
                    currentTime: i.duration,
                    playing: !0,
                    authorJid: ix.b,
                    className: r[sx[t.index]],
                  }));
                break;
              default:
                i.type,
                  (o = (0, s.b)(2, hx, {
                    duration: i.duration,
                    blob: i.blob,
                    className: r[sx[t.index]],
                    selected: !0,
                  }));
            }
            var u = (0, Mt.a)("PB", a, "PC");
            return (0, s.b)(2, S.a, {
              children: (0, s.f)(
                1,
                "div",
                "PA",
                [o, (0, s.f)(1, "div", u, l, 0)],
                0,
                { style: n.h(e) }
              ),
            });
          }
        },
        ux = (0, l.c)((0, d.e)(ox, { fullscreen: !0 }), (t, e, i) => ({
          settings: t.status.settings,
          showDialogOnFirstSend: t.status.showDialogOnFirstSend,
          backend: e,
        })),
        hx = class extends d.b {
          constructor(t, e) {
            super(t, e),
              (this.state = {
                uri: null,
                canPlay: !1,
                currentTime: 0,
                paused: !0,
                showVolumeTooltip: !1,
              }),
              (this.Jc = () => {
                this.Jb.setPlaying(!0);
              }),
              (this.pause = () => {
                this.Jb.setPlaying(!1);
              }),
              (this.Jd = () => {
                this.Jb.seekToward("backward");
              }),
              (this.Je = () => {
                this.Jb.seekToward("forward");
              }),
              (this.Jb = new Fu.a(this)),
              this.Jb.enableWarnIfMuted(() =>
                this.setState({ showVolumeTooltip: !0 })
              );
          }
          componentDidMount() {
            this.setState({ uri: (0, zi.a)(this.props.blob) }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.state.uri && (0, zi.b)(this.state.uri),
              super.componentWillUnmount();
          }
          mediaDuration() {
            return this.props.duration;
          }
          handleCanPlay() {
            this.setState({ canPlay: !0 });
          }
          handlePlay() {
            this.setState({ paused: !1 });
          }
          handlePause() {
            this.setState({ paused: !0 });
          }
          handleTimeUpdate(t) {
            this.setState({ currentTime: t });
          }
          handleEnded() {
            this.Jb.seekTo(0), this.setState({ paused: !0, currentTime: 0 });
          }
          addSoftKeys(t, e) {
            this.state.canPlay
              ? (t.setLeftRightArrows(this.Jd, this.Je),
                this.state.paused
                  ? t.setRightLabel(907, this.Jc)
                  : (t.setUpDownArrows(de.i, de.h),
                    t.setRightLabel(904, this.pause)))
              : t.setRightLabel(907, this.Jc);
          }
          render() {
            var t = this.props,
              e = t.duration,
              i = t.className,
              r = this.state,
              n = r.uri,
              a = r.currentTime,
              l = r.paused;
            return (0, s.c)(
              [
                (0, s.b)(2, tb, {
                  duration: e,
                  currentTime: a,
                  playing: !l,
                  authorJid: ix.b,
                  className: i,
                }),
                n &&
                  (0, s.f)(
                    1,
                    "audio",
                    null,
                    null,
                    1,
                    { src: n, preload: "metadata" },
                    null,
                    this.Jb.ref
                  ),
              ],
              0
            );
          }
        },
        cx = "Ge FV FS",
        dx = "Gg";
      function vx(t) {
        return t ? (0, F.y)(t).filter((t) => null != t[yr.a.READ]).length : 0;
      }
      var px = class extends d.a {
        constructor() {
          var t;
          return (
            (t = super(...arguments)),
            (this.Jm = (t, e) => {
              var i = this.props,
                r = i.items,
                n = i.msgs,
                a = i.infos,
                l = n[t];
              if (!l)
                return (
                  __LOG__(4)`Status not found in msgs ${t}`,
                  SEND_LOGS("status-not-found", 0.01),
                  null
                );
              var o = null == a ? null : a[t],
                u = (0, s.b)(2, Sx, { selected: e, status: l, info: o });
              return t === r[r.length - 1]
                ? (0, s.c)(
                    [u, (0, s.b)(2, y.n, { text: 987, className: "Gh" })],
                    0
                  )
                : u;
            }),
            t
          );
        }
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.isLoading !== t.isLoading ||
              i.items !== t.items ||
              i.msgs !== t.msgs ||
              i.infos !== t.infos)
          );
        }
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.isLoading,
            s = i.items;
          r && t.setFull(894), 0 === s.length && t.setLeftAsBack();
        }
        render() {
          var t = this.props,
            e = t.items,
            i = t.isLoading;
          return (0, s.b)(2, S.a, {
            title: (0, s.b)(2, o.b, { l10n: 977 }),
            children: i
              ? (0, s.b)(2, Vt.a, { type: "center" })
              : (0, s.b)(2, g.c, {
                  items: e,
                  keyOf: fx,
                  preventLoop: !0,
                  estimatedItemHeight: 61,
                  renderItem: this.Jm,
                  emptyLabel: 998,
                }),
          });
        }
      };
      function fx(t) {
        return t;
      }
      var mx = (0, l.c)((0, d.e)(px), (t, e, i) => {
          var r,
            s = i.requestId,
            n = i.infos,
            a = t.tab;
          if (!a || "status" !== a.key || a.isLoading) return null;
          var l = null == (r = a.data) ? void 0 : r.me;
          return l
            ? {
                isLoading: null != s,
                items: l.msgs.map((t) => t.id).reverse(),
                msgs: (0, F.t)(l.msgs, (t) => t.id),
                infos: n,
              }
            : null;
        }),
        gx = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Jp = (t) => {
                var e = this.props,
                  i = e.info,
                  r = e.status,
                  s = (null == i ? void 0 : i.acks) || {};
                kx(0, { id: r.id, acks: s });
              }),
              (this.Jo = (t, e) => {
                (0, b.f)({
                  title: 872,
                  text: e,
                  confirm: 872,
                  onConfirm: () => {
                    t.revokeStatusMsg(this.props.status.id);
                  },
                });
              }),
              (this.Jn = (t) => {
                var e = this.props,
                  i = e.status,
                  r = e.me;
                t.openScreen("STATUS_READ_ME", {
                  initialStatusMsgId: i.id,
                  authorMe: r,
                  statuses: t.getCachedStatuses(),
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.status !== t.status ||
                i.info !== t.info ||
                i.me !== t.me)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props.status;
            t.setCenterLabel(903, () => this.Jn(e)),
              (0, br.g)(i.ack)
                ? (t.setLeftLabel(872, () => {
                    this.Jo(e, 981);
                  }),
                  t.setRightLabel(920, () => {
                    var t;
                    e.retryStatusMsg(i.id, {
                      from: "statusTab",
                      sessionId: null == (t = e.statusSession) ? void 0 : t.id,
                    });
                  }))
                : i.ack === yr.a.CLOCK
                ? t.setLeftLabel(872, () => {
                    this.Jo(e, 980);
                  })
                : (0, br.l)(i.ack) &&
                  (t.setLeftLabel(872, () => {
                    this.Jo(e, 980);
                  }),
                  t.setRightLabel(948, () => {
                    this.Jp(e);
                  }));
          }
          render() {
            var t,
              e,
              i,
              r,
              n = this.props,
              a = n.selected,
              l = n.status,
              u = n.info,
              h = vx(null == u ? void 0 : u.acks);
            return (
              l.ack === yr.a.CLOCK
                ? ((t = (0, s.b)(2, ss.a, { className: "Gi" })),
                  (i = (0, s.b)(2, o.b, { className: cx, l10n: [0, 264] })),
                  (e = (0, s.b)(2, o.b, { l10n: 985 })))
                : (0, br.l)(l.ack)
                ? ((i = (0, s.b)(2, o.b, { className: cx, l10n: [h, 264] })),
                  (e = sc(l.ts)))
                : (0, br.g)(l.ack) &&
                  ((i = (0, s.f)(
                    1,
                    "span",
                    (0, Mt.a)(cx, "Gf", a && dx),
                    (0, s.b)(2, o.b, { l10n: 986 }),
                    2
                  )),
                  (e = null)),
              (0, s.b)(2, y.j, {
                className: "Gc",
                rawTitle: i,
                rawSubtitle: e,
                icon:
                  ((r = null == u ? void 0 : u.preview),
                  (0, s.f)(1, "div", "Gd", pc(r), 0)),
                selected: a,
                rightComponent: t,
                borderBottom: !0,
              })
            );
          }
        },
        Sx = (0, l.c)(gx, (t, e, i) => {
          var r,
            s = i.selected,
            n = i.status,
            a = i.info,
            l = t.tab;
          if (!l || "status" !== l.key || l.isLoading) return null;
          var o = null == (r = l.data) ? void 0 : r.me;
          return o ? { selected: s, status: n, info: a, me: o } : null;
        }),
        yx = (0, Uh.b)(function (t, e) {
          var i = [];
          return (
            (0, F.x)(t)
              .filter((e) => t[e] && null != t[e][yr.a.READ])
              .sort((e, i) => t[i][yr.a.READ] - t[e][yr.a.READ])
              .forEach((t) => {
                i.push(t);
              }),
            "none" === e ? (i.push("READ_RECEIPTS_INFO"), i) : i
          );
        }),
        _x = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Jq = (t, e) => {
                var i = this.props,
                  r = i.id,
                  n = i.start,
                  a = i.acks,
                  l = i.contacts,
                  o = i.settings;
                if ("READ_RECEIPTS_INFO" === t)
                  return (0, s.b)(2, Ox, { selected: e });
                var u = a[t][yr.a.READ];
                return (0, s.b)(2, wx, {
                  selected: e,
                  contact: (0, c.c)(t, l),
                  read: u,
                  dialogProps: { id: r, start: n, acks: a },
                  settings: o,
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.id !== t.id ||
                i.start !== t.start ||
                i.acks !== t.acks ||
                i.readReceipts !== t.readReceipts ||
                i.contacts !== t.contacts ||
                i.settings !== t.settings)
            );
          }
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings();
          }
          render() {
            var t = this.props,
              e = t.acks,
              i = t.readReceipts,
              r = t.start,
              n = yx(e, i);
            return (0, s.b)(2, g.c, {
              items: n,
              keyOf: bx,
              start: r ? { item: r, scrollFromTop: "end" } : null,
              renderItem: this.Jq,
              estimatedItemHeight: 61,
              emptyLabel: 988,
              preventLoop: !0,
            });
          }
        };
      function bx(t) {
        return t;
      }
      var xx = (0, l.c)(_x, (t, e, i) => ({
          id: i.id,
          start: i.start,
          acks: i.acks,
          readReceipts: t.settings.readReceipts,
          contacts: t.contacts,
          settings: t.status.settings,
          backend: e,
        })),
        wx = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Jr = (t) => {
                var e = this.props,
                  i = e.contact,
                  r = e.settings,
                  n = e.dialogProps,
                  a = new K.a();
                a.setOnClose(() => kx(0, n, i.jid)),
                  a.add(193, () => {
                    (0, Et.a)(
                      t,
                      i.jid,
                      "unread",
                      void 0,
                      "withComposeBoxOpened"
                    );
                  }),
                  a.add(130, () => {
                    (0, Mn.a)(t, i.jid);
                  }),
                  r &&
                    Cx(i, r) &&
                    a.add(
                      (t) =>
                        (0, s.b)(2, o.b, {
                          l10n: 989,
                          className: (0, Mt.a)("Gl", t && dx),
                        }),
                      () => {
                        this.Js(t, i, r);
                      }
                    ),
                  (0, b.j)(a);
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.selected !== t.selected ||
                i.contact !== t.contact ||
                i.read !== t.read ||
                i.dialogProps !== t.dialogProps ||
                i.settings !== t.settings)
            );
          }
          addSoftKeys(t, e) {
            t.setRightOptions(() => {
              this.Jr(e);
            });
          }
          Js(t, e, i) {
            var r = (0, s.b)(2, j.a, { contact: e, prefer: "status" });
            (0, b.g)({
              title: 969,
              text: [r, 256],
              left: 864,
              onSoftLeft: "CLOSE",
              center: 989,
              onSoftCenter: () =>
                (function (t, e, i) {
                  var r;
                  switch (i.type) {
                    case "blacklist":
                      if (i.blacklist.includes(e))
                        return void __LOG__(2)`Hide user already blacklisted`;
                      r = {
                        type: "blacklist",
                        blacklist: (0, W.a)(i.blacklist, e),
                      };
                      break;
                    case "whitelist":
                      if (!i.whitelist.includes(e))
                        return void __LOG__(2)`Hide user was not on whitelist`;
                      r = {
                        type: "whitelist",
                        whitelist: (0, W.g)(i.whitelist, (t) => t !== e),
                      };
                      break;
                    default:
                      i.type,
                        (r = { type: "blacklist", blacklist: (0, W.l)(e) });
                  }
                  t.setStatusSettings(r);
                })(t, e.jid, i),
              right: 908,
              onSoftRight: () => {
                t.openScreen("SETTINGS_PRIVACY", { start: "status" });
              },
            });
          }
          render() {
            var t = this.props,
              e = t.contact,
              i = t.read,
              r = t.selected,
              n = t.settings,
              a = n && Cx(e, n);
            return (0, s.b)(2, y.f, {
              selected: r,
              contact: e,
              prefer: "status",
              rawSubtitle: sc(i),
              disabled: !a,
            });
          }
        },
        Ox = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(903, () => {
              e.openScreen("SETTINGS_PRIVACY", { start: "readReceipts" });
            });
          }
          render() {
            var t = this.props.selected,
              e = (0, s.b)(2, o.b, {
                l10n: 978,
                className: (0, Mt.a)(t && dx, "Gk"),
              });
            return (0, s.b)(2, y.n, { className: "Gj FW FS", text: [e, 260] });
          }
        };
      function kx(t, e, i) {
        var r = e.id,
          n = e.acks;
        (0, b.h)(
          { title: [vx(n), 264], left: 861, onSoftLeft: "CLOSE" },
          (0, s.b)(2, xx, { id: r, acks: n, start: i })
        );
      }
      function Cx(t, e) {
        switch (e.type) {
          case "blacklist":
            return !e.blacklist.includes(t.jid);
          case "whitelist":
            return e.whitelist.includes(t.jid);
          default:
            return e.type, !0;
        }
      }
      var Nx = (0, l.b)(J, (t, e) => {
        var i = e.settings,
          r = new Set(i.blacklist),
          s = (e) => {
            ("blacklist" === i.type && (0, F.g)(r, new Set(e))) ||
              t.setStatusSettings({ type: "blacklist", blacklist: e }),
              t.goBack();
          };
        return {
          renderTitle: Ix,
          defaultSelectedContacts: r,
          defaultSort: "selected",
          done: 928,
          onDone: s,
          onCancel: Mx(t, (0, W.c)(r), s),
          allowEmpty: !0,
          allowUnchanged: !0,
        };
      });
      function Ix(t) {
        return (0, s.b)(2, o.b, { l10n: 991 });
      }
      var Ex = (0, l.b)(J, (t, e) => {
        var i = e.settings,
          r = new Set(i.whitelist),
          s = (e) => {
            ("whitelist" === i.type && (0, F.g)(r, new Set(e))) ||
              t.setStatusSettings({ type: "whitelist", whitelist: e }),
              t.goBack();
          };
        return {
          renderTitle: Tx,
          defaultSelectedContacts: r,
          defaultSort: "selected",
          done: 928,
          onDone: s,
          onCancel: Mx(t, (0, W.c)(r), s),
          allowEmpty: !0,
          allowUnchanged: !0,
        };
      });
      function Tx() {
        return (0, s.b)(2, o.b, { l10n: 996 });
      }
      function Mx(t, e, i) {
        return (r) => {
          (0, W.b)(e, r)
            ? t.goBack()
            : (function (t, e, i) {
                (0, b.g)({
                  title: 848,
                  text: 847,
                  left: 876,
                  onSoftLeft: () => {
                    t.goBack();
                  },
                  right: 928,
                  onSoftRight: () => {
                    e(i);
                  },
                });
              })(t, i, r);
        };
      }
      var Lx = i(582),
        Ax = i(533),
        Ux = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.selected !== t.selected;
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(881, () => {
              (0, b.g)({
                title: 1061,
                text: 1035,
                center: 874,
                onSoftCenter: e.deleteTwoFactor,
                left: 864,
                onSoftLeft: "CLOSE",
              });
            });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.o, {
              selected: t,
              text: [
                (0, s.b)(2, o.b, {
                  l10n: 1043,
                  className: (0, Mt.a)(t && "Fl", "Fm"),
                }),
                290,
              ],
            });
          }
        },
        Rx = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.JK = n.e()),
              (this.state = { pin: null }),
              (this.JL = (t) => {
                this.setState({ pin: t.isCompleted ? t.code : null });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t && i.selected !== t.selected) ||
              (r !== e && r.pin !== e.pin)
            );
          }
          JM() {
            this.JK.current && this.JK.current.reset();
          }
          addSoftKeys(t, e) {
            var i = this.state.pin;
            null != i &&
              t.setCenterLabel(879, () => {
                e.verifyTwoFactorReminder(i);
              });
          }
          render() {
            var t = this.props.selected;
            return (0, s.b)(2, y.k, {
              selected: t,
              children: (0, s.b)(
                2,
                Ax.a,
                { hasFocusPriority: t, selected: t, onChange: this.JL },
                null,
                this.JK
              ),
            });
          }
        },
        Px = ["text", "inputCode"],
        Gx = { item: "inputCode", scrollFromTop: "start" },
        Fx = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.JK = n.e()),
              (this.renderItem = (t, e) =>
                "text" === t
                  ? (0, s.b)(2, Ux, { selected: e })
                  : (0, s.b)(2, Rx, { selected: e }, null, this.JK)),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return i !== t && i.hasError !== t.hasError;
          }
          componentDidMount() {
            this.maybeShowAlert(!1);
          }
          componentDidUpdate(t) {
            this.maybeShowAlert(t.hasError);
          }
          maybeShowAlert(t) {
            !t &&
              this.props.hasError &&
              ((0, b.e)({ title: 243, text: 1044 }),
              this.JK.current && this.JK.current.JM());
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1061 }),
              children: (0, s.b)(2, g.a, {
                items: Px,
                keyOf: zx,
                renderItem: this.renderItem,
                start: Gx,
              }),
            });
          }
        },
        Dx = (0, l.c)((0, d.e)(Fx), (t, e) => {
          var i = t.user;
          return {
            hasError:
              i.twoFactor.reminder.shouldRemind &&
              i.twoFactor.reminder.hasError,
            backend: e,
          };
        });
      function zx(t) {
        return t;
      }
      var Vx = i(553),
        Kx = ["enableText", "enableAction"],
        jx = { item: "enableAction", scrollFromTop: "start" },
        Bx = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.It = (t, e) => {
                switch (t) {
                  case "enableText":
                    return (0, s.b)(2, y.n, { text: 1034, selected: e });
                  case "enableAction":
                    return (0, s.b)(2, Wx, {
                      action: this.props.onEnable,
                      selected: e,
                    });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.onBack !== t.onBack || i.onEnable !== t.onEnable)
            );
          }
          addSoftKeys(t) {
            t.setLeftLabel(861, this.props.onBack);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1061 }),
              children: (0, s.b)(2, g.a, {
                items: Kx,
                keyOf: cw,
                renderItem: this.It,
                start: jx,
              }),
            });
          }
        },
        Wx = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.action !== t.action || i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(878, this.props.action);
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 878,
              selected: this.props.selected,
            });
          }
        },
        Hx = [
          "disableText",
          "disableAction",
          "changePinAction",
          "changeEmailAction",
        ],
        Jx = { item: "disableAction", scrollFromTop: "start" },
        $x = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.It = (t, e) => {
                switch (t) {
                  case "disableText":
                    return (0, s.b)(2, y.n, { text: 1033, selected: e });
                  case "disableAction":
                    return (0, s.b)(2, Yx, {
                      selected: e,
                      action: this.props.onDisable,
                    });
                  case "changePinAction":
                    return (0, s.b)(2, qx, {
                      selected: e,
                      action: this.props.onChangePin,
                    });
                  case "changeEmailAction":
                    var i = this.props,
                      r = i.hasEmail,
                      n = i.onChangeEmail;
                    return (0, s.b)(2, Xx, {
                      action: n,
                      hasEmail: Boolean(r),
                      selected: e,
                    });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.onBack !== t.onBack ||
                i.onDisable !== t.onDisable ||
                i.onChangePin !== t.onChangePin ||
                i.onChangeEmail !== t.onChangeEmail ||
                i.hasEmail !== t.hasEmail)
            );
          }
          addSoftKeys(t) {
            t.setLeftLabel(861, this.props.onBack);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1061 }),
              children: (0, s.b)(2, g.a, {
                items: Hx,
                keyOf: cw,
                renderItem: this.It,
                start: Jx,
              }),
            });
          }
        },
        Yx = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.action !== t.action || i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, this.props.action);
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 874,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        qx = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.action !== t.action || i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, this.props.action);
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 1056,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        Xx = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.action !== t.action ||
                i.hasEmail !== t.hasEmail ||
                i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, this.props.action);
          }
          render() {
            var t = this.props,
              e = t.hasEmail,
              i = t.selected,
              r = !1 === e ? 1054 : 1055;
            return (0, s.b)(2, y.a, {
              title: r,
              selected: i,
              borderBottom: !0,
            });
          }
        },
        Qx = ["enterPinText", "enterPinAction"],
        Zx = { item: "enterPinAction", scrollFromTop: "start" },
        tw = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.It = (t, e) => {
                switch (t) {
                  case "enterPinText":
                    return (0, s.b)(2, y.o, {
                      text: this.props.text,
                      selected: e,
                    });
                  case "enterPinAction":
                    var i = this.props,
                      r = i.actionLabel,
                      n = i.defaultValue,
                      a = i.onChange;
                    return (0, s.b)(2, ew, {
                      defaultValue: n,
                      label: r,
                      onChange: a,
                      selected: e,
                    });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.onBack !== t.onBack ||
                i.onChange !== t.onChange ||
                i.text !== t.text ||
                i.actionLabel !== t.actionLabel ||
                i.defaultValue !== t.defaultValue)
            );
          }
          addSoftKeys(t) {
            var e = this.props.onBack;
            t.setBack(e), t.setLeftLabel(861, e);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1061 }),
              children: (0, s.b)(2, g.a, {
                items: Qx,
                keyOf: cw,
                renderItem: this.It,
                start: Zx,
              }),
            });
          }
        },
        ew = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.state = { pin: null }), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.defaultValue !== t.defaultValue ||
                  i.onChange !== t.onChange ||
                  i.label !== t.label ||
                  i.selected !== t.selected)) ||
              (r !== e && r.pin !== e.pin)
            );
          }
          addSoftKeys(t) {
            var e = this.state.pin;
            if (null != e) {
              var i = this.props,
                r = i.label,
                s = i.onChange;
              t.setCenterLabel(r, () => s(e));
            }
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.defaultValue;
            return (0, s.b)(2, y.k, {
              selected: e,
              children: (0, s.b)(2, Ax.a, {
                hasFocusPriority: e,
                selected: e,
                defaultValue: i,
                onChange: (t) => {
                  this.setState({ pin: t.isCompleted ? t.code : null });
                },
              }),
            });
          }
        },
        iw = { item: "enterEmailAction", scrollFromTop: "start" },
        rw = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.It = (t, e) => {
                switch (t) {
                  case "enterEmailText":
                    return (0, s.b)(2, y.o, {
                      text: this.props.text,
                      selected: e,
                    });
                  case "enterEmailAction":
                    var i = this.props,
                      r = i.defaultValue,
                      n = i.onChange;
                    return (0, s.b)(2, sw, {
                      defaultValue: r,
                      onChange: n,
                      label: this.props.actionLabel,
                      selected: e,
                    });
                  case "skipEmailAction":
                    return (0, s.b)(2, nw, {
                      action: this.props.onSkip,
                      selected: e,
                    });
                  default:
                    return (0, m.a)(t);
                }
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.onBack !== t.onBack ||
                i.onChange !== t.onChange ||
                i.onSkip !== t.onSkip ||
                i.text !== t.text ||
                i.actionLabel !== t.actionLabel ||
                i.defaultValue !== t.defaultValue)
            );
          }
          addSoftKeys(t) {
            var e = this.props.onBack;
            t.setBack(e), t.setLeftLabel(861, e);
          }
          render() {
            var t = ["enterEmailText", "enterEmailAction"];
            return (
              this.props.onSkip && t.push("skipEmailAction"),
              (0, s.b)(2, S.a, {
                title: (0, s.b)(2, o.b, { l10n: 1061 }),
                children: (0, s.b)(2, g.a, {
                  items: t,
                  keyOf: cw,
                  renderItem: this.It,
                  start: iw,
                }),
              })
            );
          }
        },
        sw = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.state = { email: null, dirty: !1 }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.defaultValue !== t.defaultValue ||
                  i.onChange !== t.onChange ||
                  i.label !== t.label ||
                  i.selected !== t.selected)) ||
              (r !== e && (r.email !== e.email || r.dirty !== e.dirty))
            );
          }
          componentDidMount() {
            this.Iu(), super.componentDidMount();
          }
          componentDidUpdate(t, e, i) {
            var r = this.props.defaultValue;
            t.defaultValue === r || this.state.dirty || this.Iu(),
              super.componentDidUpdate(t, e, i);
          }
          Iu() {
            this.setState({ email: (0, Vx.b)(this.props.defaultValue) });
          }
          addSoftKeys(t) {
            var e = this.state.email;
            if (e) {
              var i = this.props,
                r = i.label,
                s = i.onChange;
              t.setCenterLabel(r, () => s(e));
            }
          }
          render() {
            var t = this.props,
              e = t.defaultValue,
              i = t.selected,
              r = (0, Vx.b)(e) || void 0;
            return (0, s.b)(2, y.k, {
              selected: i,
              children: (0, s.b)(2, Su.a, {
                type: "email",
                defaultValue: r,
                hasFocusPriority: i,
                onChange: (t) => {
                  var e = t.trim();
                  this.setState({ email: (0, Vx.b)(e), dirty: !0 });
                },
              }),
            });
          }
        },
        nw = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t && (i.action !== t.action || i.selected !== t.selected)
            );
          }
          addSoftKeys(t) {
            var e = this.props.action;
            null != e && t.setCenterLabel(1059, e);
          }
          render() {
            return (0, s.b)(2, y.a, {
              title: 1059,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        aw = { pin: null, email: null },
        lw = Object.assign(
          { step: "initial_enable", previousStep: "initial_enable" },
          aw
        ),
        ow = Object.assign(
          { step: "initial_disable", previousStep: "initial_disable" },
          aw
        );
      function uw(t, e) {
        return t.join("") === e.join("");
      }
      var hw = class extends n.a {
        shouldComponentUpdate(t, e) {
          var i = this.props,
            r = this.state;
          return (
            (i !== t &&
              (i.isEnabled !== t.isEnabled || i.hasEmail !== t.hasEmail)) ||
            (r !== e &&
              (r.step !== e.step ||
                r.previousStep !== e.previousStep ||
                r.pin !== e.pin ||
                r.email !== e.email))
          );
        }
        constructor(t) {
          super(t), (this.state = this.Iv());
        }
        componentDidUpdate(t) {
          var e = t.isEnabled;
          this.props.isEnabled !== e && this.setState(this.Iv());
        }
        Iv() {
          return this.props.isEnabled ? ow : lw;
        }
        Iw(t) {
          this.setState((e) => {
            var i = e.step;
            return Object.assign({}, t, { previousStep: i });
          });
        }
        Ix() {
          return (0, s.b)(2, Bx, {
            onBack: this.props.backend.goBack,
            onEnable: () => this.Iw({ step: "pin_enter" }),
          });
        }
        Iy() {
          return (0, s.b)(2, $x, {
            onBack: this.props.backend.goBack,
            onDisable: () => {
              (0, b.f)({
                title: 1061,
                text: 1030,
                onConfirm: () => {
                  this.props.backend.deleteTwoFactor();
                },
              });
            },
            onChangePin: () => this.Iw({ step: "change_pin_enter" }),
            onChangeEmail: () => this.Iw({ step: "change_email_enter" }),
            hasEmail: this.props.hasEmail,
          });
        }
        Iz(t) {
          return (0, s.b)(
            2,
            tw,
            {
              text: t.text,
              actionLabel: t.actionLabel || 899,
              defaultValue: t.defaultValue,
              onChange: t.onChange,
              onBack: t.onBack,
            },
            this.state.step
          );
        }
        JA() {
          return this.Iz({
            text: 1038,
            defaultValue:
              "pin_confirm" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (t) => this.Iw({ step: "pin_confirm", pin: t }),
            onBack: () => this.setState(this.Iv()),
          });
        }
        JB() {
          return this.Iz({
            text: 1032,
            defaultValue:
              "email_enter" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (t) => {
              var e = this.state.pin;
              null == e
                ? this.setState(this.Iv())
                : uw(e, t)
                ? this.Iw({ step: "email_enter" })
                : (0, b.e)({ title: 1061, text: 1058 });
            },
            onBack: () => this.Iw({ step: "pin_enter" }),
          });
        }
        JC() {
          return this.Iz({
            text: 1038,
            defaultValue:
              "change_pin_confirm" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (t) => this.Iw({ step: "change_pin_confirm", pin: t }),
            onBack: () => this.setState(this.Iv()),
          });
        }
        JD() {
          return this.Iz({
            text: 1032,
            actionLabel: 875,
            onChange: (t) => {
              var e = this.state.pin;
              null == e
                ? this.setState(this.Iv())
                : uw(e, t)
                ? (this.props.backend.changeTwoFactorPin(e), this.setState(ow))
                : (0, b.e)({ title: 1061, text: 1058 });
            },
            onBack: () => this.Iw({ step: "change_pin_enter" }),
          });
        }
        JE(t) {
          return (0, s.b)(
            2,
            rw,
            {
              text: t.text,
              defaultValue: t.defaultValue,
              actionLabel: t.actionLabel || 899,
              onChange: t.onChange,
              onSkip: t.onSkip,
              onBack: t.onBack,
            },
            this.state.step
          );
        }
        JF() {
          return this.JE({
            text: 1037,
            defaultValue:
              "email_confirm" === this.state.previousStep &&
              null != this.state.email
                ? this.state.email
                : void 0,
            onChange: (t) => this.Iw({ step: "email_confirm", email: t }),
            onSkip: () => {
              (0, b.f)({
                title: 1061,
                text: 1060,
                onConfirm: () => {
                  var t = this.state.pin;
                  t
                    ? this.props.backend.setTwoFactor(t, null)
                    : this.setState(this.Iv());
                },
              });
            },
            onBack: () => this.Iw({ step: "pin_confirm" }),
          });
        }
        JG() {
          return this.JE({
            text: 1031,
            actionLabel: 875,
            onChange: (t) => {
              if (this.state.email === t) {
                var e = this.state.pin;
                e
                  ? this.props.backend.setTwoFactor(e, t)
                  : this.setState(this.Iv());
              } else (0, b.e)({ title: 1061, text: 1057 });
            },
            onBack: () => this.Iw({ step: "email_enter" }),
          });
        }
        JH() {
          return this.JE({
            text: 1037,
            defaultValue:
              "change_email_confirm" === this.state.previousStep &&
              null != this.state.email
                ? this.state.email
                : void 0,
            onChange: (t) =>
              this.Iw({ step: "change_email_confirm", email: t }),
            onBack: () => this.setState(this.Iv()),
          });
        }
        JI() {
          return this.JE({
            text: 1031,
            actionLabel: 875,
            onChange: (t) => {
              this.state.email === t
                ? (this.props.backend.changeTwoFactorEmail(t),
                  this.setState(ow))
                : (0, b.e)({ title: 1061, text: 1057 });
            },
            onBack: () => this.Iw({ step: "change_email_enter" }),
          });
        }
        render() {
          switch (this.state.step) {
            case "initial_enable":
              return this.Ix();
            case "initial_disable":
              return this.Iy();
            case "pin_enter":
              return this.JA();
            case "pin_confirm":
              return this.JB();
            case "change_pin_enter":
              return this.JC();
            case "change_pin_confirm":
              return this.JD();
            case "email_enter":
              return this.JF();
            case "email_confirm":
              return this.JG();
            case "change_email_enter":
              return this.JH();
            case "change_email_confirm":
              return this.JI();
            default:
              return (0, m.a)(this.state.step);
          }
        }
      };
      function cw(t) {
        return t;
      }
      var dw = (0, l.f)(
          (0, d.e)(hw),
          (t) => {
            var e = t.user;
            return {
              isEnabled: e.twoFactor.isEnabled,
              hasEmail: e.twoFactor.isEnabled && e.twoFactor.hasEmail,
            };
          },
          (t, e) => ({
            isEnabled: t.isEnabled,
            hasEmail: t.hasEmail,
            backend: e,
          })
        ),
        vw = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ir = !1),
              (this.state = { loadedContacts: void 0 }),
              (this.Is = (t, e) => {
                if (!this.state.loadedContacts) return null;
                var i = this.state.loadedContacts[t];
                return (0, s.b)(2, mw, {
                  contact: i,
                  contacts: this.props.contacts,
                  selected: e,
                });
              }),
              t
            );
          }
          componentDidMount() {
            this.Ir = !0;
            var t,
              e = this.props,
              i = e.backend,
              r = e.msgId;
            e.isMMS
              ? ((t = e.path),
                Rn(t).then((t) =>
                  t
                    ? t
                        .map((t) => ({ displayName: (0, En.d)(t), vcard: t }))
                        .sort(En.m)
                    : (__LOG__(3)`Contacts vcard doc is gone from storage`,
                      null)
                )).then((t) => {
                  this.Ir &&
                    (t
                      ? this.setState({ loadedContacts: t })
                      : (i.markMediaContentAsDeleted(r),
                        (0, b.e)({ text: 563, onClose: i.goBack })));
                })
              : (function (t, e) {
                  return Gn(t, e).then((t) =>
                    t
                      ? t
                          .map((t) => {
                            var e = t.displayName,
                              i = t.vcard;
                            return { displayName: e, vcard: (0, En.i)(i) };
                          })
                          .sort(En.m)
                      : []
                  );
                })(i, r).then((t) => {
                  this.Ir && this.setState({ loadedContacts: t });
                }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Ir = !1), super.componentWillUnmount();
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t,
              e = this.state.loadedContacts;
            if (e) {
              var i = e.map((t, e) => e);
              t = (0, s.b)(2, g.a, {
                items: i,
                keyOf: fw,
                renderItem: this.Is,
              });
            } else t = (0, s.b)(2, Vt.a, { type: "center" });
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 1077 }),
              children: t,
            });
          }
        },
        pw = (0, l.c)((0, d.e)(vw), (t, e, i) =>
          i.isMMS
            ? {
                isMMS: !0,
                msgId: i.msgId,
                path: i.path,
                contacts: t.contacts,
                backend: e,
              }
            : { msgId: i.msgId, contacts: t.contacts, backend: e }
        );
      function fw(t) {
        return t.toString();
      }
      var mw = class extends d.b {
        shouldComponentUpdate(t, e) {
          var i = this.props;
          return (
            i !== t &&
            (i.contact !== t.contact ||
              i.contacts !== t.contacts ||
              i.selected !== t.selected)
          );
        }
        addSoftKeys(t, e) {
          var i = this.props,
            r = i.contact,
            s = i.contacts,
            n = r.vcard,
            a = (0, En.b)(n, s);
          a && (0, c.i)(a)
            ? t.setCenterLabel(945, () => {
                (0, Mn.a)(e, a.jid);
              })
            : t.setCenterLabel(857, () => {
                Pn(e, n);
              }),
            a &&
              a.jid &&
              t.setRightLabel(193, () => {
                (0, Et.b)(e, a.jid, "newest");
              });
        }
        render() {
          var t = this.props,
            e = t.contact,
            i = t.selected;
          if (null == e) return null;
          var r = "GS " + (i ? "GW" : ""),
            n = (0, En.c)(e.vcard);
          return (0, s.f)(
            1,
            "div",
            r,
            [
              zn((0, En.h)(e.vcard), e.vcard.photo),
              (0, s.f)(
                1,
                "div",
                "GT",
                [
                  (0, s.f)(
                    1,
                    "div",
                    "GU FV FS FY FU",
                    (0, h.b)(e.displayName),
                    0
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    "GV FW FS FY FU",
                    n ? n.formattedNumber : u.a,
                    0
                  ),
                ],
                4
              ),
            ],
            0
          );
        }
      };
      function gw(t, e) {
        return Math.max(5, Math.ceil(0.02 * Math.min(t, e)));
      }
      function Sw(t, e, i, r) {
        var s = t.x,
          n = t.y;
        return (
          __LOG__(2)`[MEDIA_EDITOR] Rotate point (${s}, ${n}) on ${r}`,
          r % 360 == 0
            ? { x: s, y: n }
            : r % 180 == 0
            ? { x: e - s, y: i - n }
            : 90 === r || -270 === r
            ? { x: Math.ceil(e - n), y: Math.ceil(s) }
            : { x: Math.ceil(n), y: Math.ceil(i - s) }
        );
      }
      function yw(t, e) {
        return {
          x: Math.ceil(t / 2),
          y: Math.ceil(e / 2),
          radius: Math.min(t, e) / 2,
        };
      }
      function _w() {
        return { x: 0, y: 0, radius: 0 };
      }
      function bw(t, e, i, r, s, n, a, l) {
        var o = s.x + ("increase" === r ? t : -t),
          u = s.y + ("increase" === r ? e : -e),
          h = s.radius + ("increase" === r ? i : -i);
        return (
          0 !== i &&
            (o - h < 0 && (o = h),
            o + h > n && (o = n - h),
            u - h < 0 && (u = h),
            u + h > a && (u = a - h)),
          xw(o, u, h, n, a)
            ? null
            : { type: l, value: { x: o, y: u, radius: h } }
        );
      }
      function xw(t, e, i, r, s) {
        return t - i < 0 || t + i > r || e - i < 0 || e + i > s;
      }
      function ww(t, e, i) {
        var r = i.x,
          s = i.y,
          n = i.radius,
          a = 2 * n,
          l = e.getImageData(r - n, s - n, a, a);
        (t.width = a),
          (t.height = a),
          e.putImageData(l, 0, 0),
          __LOG__(2)`[MEDIA_EDITOR] Cropped image: from (${r - n}, ${
            s - n
          }) to (${r + n}, ${s + n})`;
      }
      function Ow(t, e, i, r, s, n, a, l, o, u, h) {
        a &&
          t.setLeftLabel(950, () => {
            l({
              type: h,
              value: Object.assign({}, i, { radius: i.radius - r }),
            });
          });
        var c = bw(0, 0, r, "increase", i, s, n, h);
        null != c &&
          t.setRightLabel(951, () => {
            l(c);
          }),
          t.setCenterLabel(875, () => {
            o({ type: h, value: i });
          }),
          t.setBack(() => {
            u({ type: h, value: yw(s, n) });
          }),
          t.setLeftArrow(() => {
            var t = bw(r, 0, 0, "decrease", i, s, n, h);
            t && l(t);
          }),
          t.setRightArrow(() => {
            var t = bw(r, 0, 0, "increase", i, s, n, h);
            t && l(t);
          }),
          t.setUpDownArrows(
            () => {
              var t = bw(0, r, 0, "decrease", i, s, n, h);
              t && l(t);
            },
            () => {
              var t = bw(0, r, 0, "increase", i, s, n, h);
              t && l(t);
            }
          );
      }
      var kw = "OB Ny",
        Cw = "OC Ny",
        Nw = "OD";
      function Iw(t) {
        var e,
          i,
          r,
          n,
          a = !0,
          l = !0,
          o = !0,
          u = !0;
        if (void 0 !== t.left)
          (r = "disabled" === t.up),
            (i = "disabled" === t.right),
            (e = "disabled" === t.left),
            (n = "disabled" === t.down),
            (a = "hide" !== t.left),
            (l = "hide" !== t.right),
            (o = "hide" !== t.up),
            (u = "hide" !== t.down);
        else {
          var h = t.width,
            c = t.height,
            d = t.x,
            v = t.y,
            p = t.radius,
            f = t.step,
            m = t.shouldArrowBeInactive;
          (r = m(d, v - f, p, h, c)),
            (i = m(d + f, v, p, h, c)),
            (e = m(d - f, v, p, h, c)),
            (n = m(d, v + f, p, h, c));
        }
        return (0, s.f)(
          1,
          "div",
          "Nv",
          (0, s.f)(
            1,
            "div",
            "Nx",
            [
              o && (0, s.b)(2, w.a, { className: (0, Mt.a)("Nz Ny", r && Nw) }),
              l && (0, s.b)(2, w.a, { className: (0, Mt.a)(Cw, i && Nw) }),
              a && (0, s.b)(2, w.a, { className: (0, Mt.a)(kw, e && Nw) }),
              u && (0, s.b)(2, w.a, { className: (0, Mt.a)("OA Ny", n && Nw) }),
            ],
            0
          ),
          2
        );
      }
      function Ew(t) {
        var e = t.leftDisabled,
          i = t.rightDisabled;
        return (0, s.f)(
          1,
          "div",
          "Nw",
          (0, s.f)(
            1,
            "div",
            "Nx",
            [
              (0, s.b)(2, w.a, { className: (0, Mt.a)(Cw, i && Nw) }),
              (0, s.b)(2, w.a, { className: (0, Mt.a)(kw, e && Nw) }),
            ],
            4
          ),
          2
        );
      }
      var Tw,
        Mw,
        Lw = (D.f, 0),
        Aw = D.f ? D.m / 2 - Lw : 98,
        Uw = {
          background: `radial-gradient(circle at ${D.o / 2}px ${
            D.m / 2 - Lw
          }px, transparent 0%, transparent ${
            Aw - 1
          }px, rgba(255, 255, 255, 1) ${Aw}px, rgba(0, 0, 0, 0.4) ${Aw + 1}px)`,
        },
        Rw =
          ((Mw = Tw =
            class extends d.b {
              shouldComponentUpdate(t, e) {
                var i = this.props;
                return (
                  i !== t &&
                  (i.onCommit !== t.onCommit ||
                    i.onChange !== t.onChange ||
                    i.onCancel !== t.onCancel ||
                    i.width !== t.width ||
                    i.height !== t.height ||
                    i.selected !== t.selected ||
                    i.current !== t.current ||
                    i.isProcessing !== t.isProcessing)
                );
              }
              constructor(t, e) {
                super(t, e);
                var i = t.width,
                  r = t.height;
                this.step = gw(i, r);
              }
              static change(t, e, i) {
                var r = yw(t.width, t.height),
                  s = r.x,
                  n = r.y,
                  a = `scale(${r.radius / i.radius})`,
                  l = `translate(${s - i.x}px, ${n - i.y}px)`;
                t.style.transform = `${a} ${l}`;
              }
              addSoftKeys(t, e) {
                var i = this.props,
                  r = i.current,
                  s = i.width,
                  n = i.height,
                  a = i.onChange,
                  l = i.onCommit,
                  o = i.onCancel;
                i.isProcessing ||
                  Ow(
                    t,
                    0,
                    r,
                    this.step,
                    s,
                    n,
                    !(
                      2 * (r.radius - this.step) <
                      Fi.PROFILE_PHOTO_SQUARE_MIN_PIXELS
                    ),
                    a,
                    l,
                    o,
                    "CircleCrop"
                  );
              }
              render() {
                var t = this.props,
                  e = t.width,
                  i = t.height,
                  r = t.selected,
                  a = t.current,
                  l = a.x,
                  o = a.y,
                  u = a.radius;
                return (0, s.c)(
                  [
                    (0, s.f)(1, "div", "MX", null, 1, { style: n.h(Uw) }),
                    r &&
                      (0, s.b)(2, Iw, {
                        shouldArrowBeInactive: xw,
                        width: e,
                        height: i,
                        x: l,
                        y: o,
                        radius: u,
                        step: this.step,
                      }),
                  ],
                  0
                );
              }
            }),
          (Tw.getInitialState = _w),
          (Tw.commit = ww),
          Mw),
        Pw = 2 * Aw;
      function Gw(t) {
        return (D.o - t) / 2;
      }
      function Fw(t) {
        return (D.m - t) / 2 - Lw;
      }
      function Dw(t, e, i) {
        var r;
        switch (i) {
          case "contain":
            r = (function (t, e) {
              return Math.min(D.o / t, D.m / e);
            })(t, e);
            break;
          default:
            r = (function (t, e) {
              return Math.max(Pw / t, Pw / e);
            })(t, e);
        }
        return { translateX: Gw(t), translateY: Fw(e), scale: r };
      }
      function zw(t) {
        var e = t.translateX,
          i = t.translateY,
          r = t.scale;
        return {
          transform: `translate(${
            ((0, le.g)() ? -1 : 1) * e
          }px, ${i}px) scale(${r})`,
        };
      }
      var Vw,
        Kw,
        jw =
          ((Kw = Vw =
            class extends d.b {
              shouldComponentUpdate(t, e) {
                var i = this.props;
                return (
                  i !== t &&
                  (i.onCommit !== t.onCommit ||
                    i.onChange !== t.onChange ||
                    i.onCancel !== t.onCancel ||
                    i.isProcessing !== t.isProcessing ||
                    i.width !== t.width ||
                    i.height !== t.height ||
                    i.selected !== t.selected ||
                    i.current !== t.current ||
                    i.align !== t.align)
                );
              }
              constructor(t, e) {
                super(t, e);
                var i = t.width,
                  r = t.height;
                this.step = gw(i, r);
              }
              addSoftKeys(t, e) {
                var i = this.props,
                  r = i.current,
                  s = i.width,
                  n = i.height,
                  a = i.onChange,
                  l = i.onCommit,
                  o = i.onCancel;
                i.isProcessing ||
                  Ow(
                    t,
                    0,
                    r,
                    this.step,
                    s,
                    n,
                    r.radius > this.step,
                    a,
                    l,
                    o,
                    "Crop"
                  );
              }
              render() {
                var t = this.props,
                  e = t.width,
                  i = t.height,
                  r = t.align,
                  a = t.current;
                if (!t.selected) return null;
                var l = a.y - a.radius,
                  o = i - (a.y + a.radius),
                  u = a.x - a.radius,
                  h = e - (a.x + a.radius),
                  c = Object.assign({}, zw(r), {
                    width: e + "px",
                    height: i + "px",
                  }),
                  d = {
                    top: l + "px",
                    bottom: o + "px",
                    left: u + "px",
                    right: h + "px",
                    "border-width": (r.scale < 1 ? 1 / r.scale : 1) + "px",
                  },
                  v = { "border-width": `${l}px ${h}px ${o}px ${u}px` },
                  p = this.props.current,
                  f = p.x,
                  m = p.y,
                  g = p.radius;
                return (0, s.c)(
                  [
                    (0, s.f)(
                      1,
                      "div",
                      "OO",
                      [
                        (0, s.f)(1, "div", "OP", null, 1, { style: n.h(v) }),
                        (0, s.f)(1, "div", "OQ", null, 1, { style: n.h(d) }),
                      ],
                      4,
                      { style: n.h(c) }
                    ),
                    (0, s.b)(2, Iw, {
                      shouldArrowBeInactive: xw,
                      width: e,
                      height: i,
                      x: f,
                      y: m,
                      radius: g,
                      step: this.step,
                    }),
                  ],
                  4
                );
              }
            }),
          (Vw.getInitialState = _w),
          (Vw.commit = ww),
          Kw),
        Bw = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M18.93 13.31 10.24 22l-8.7-8.69 8.7-8.69 8.7 8.7zm-14.48 0 5.8 5.8 5.79-5.8-5.8-5.8-5.8 5.8zM2.2 3.36A11.25 11.25 0 0120 5.63l-1.77 1.03A9.21 9.21 0 003.37 5.12h2.77v2.05H.41L0 1.09 2.04.95l.17 2.41z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 20 22" }
          );
        },
        Ww = class t extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.NN = () => {
                var t = (this.props.current.deg - 90) % 360;
                this.props.onChange({ type: "Rotation", value: { deg: t } });
              }),
              (this.NO = () => {
                var t = (this.props.current.deg + 90) % 360;
                this.props.onChange({ type: "Rotation", value: { deg: t } });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.current !== t.current ||
                i.onCommit !== t.onCommit ||
                i.onChange !== t.onChange ||
                i.onCancel !== t.onCancel ||
                i.selected !== t.selected ||
                i.isProcessing !== t.isProcessing)
            );
          }
          static getInitialState() {
            return { deg: 0 };
          }
          static change(t, e, i, r) {
            var s = i.deg,
              n = s;
            null != r && (n = s - r.deg);
            var a = document.createElement("canvas"),
              l = a.getContext("2d", { willReadFrequently: !0 });
            if (
              ((a.width = t.width),
              (a.height = t.height),
              l.drawImage(t, 0, 0),
              n % 180 != 0)
            ) {
              var o = t.height;
              (t.height = t.width), (t.width = o);
            } else e.clearRect(0, 0, t.width, t.height);
            e.save(),
              e.translate(t.width / 2, t.height / 2),
              e.rotate((n * Math.PI) / 180),
              e.drawImage(a, -a.width / 2, -a.height / 2),
              e.restore(),
              __LOG__(
                2
              )`[MEDIA_EDITOR] rotate image to ${s}deg. New size is (${t.width}, ${t.height})`;
          }
          addSoftKeys(e, i) {
            this.props.isProcessing ||
              (e.setLeftArrow(this.NN),
              e.setLeftIcon((0, s.b)(2, Bw, { className: "MU q MV" }), this.NN),
              e.setRightArrow(this.NO),
              e.setRightIcon(
                (0, s.b)(2, Bw, { className: "MU q MV MW" }),
                this.NO
              ),
              e.setCenterLabel(875, () => {
                0 !== this.props.current.deg
                  ? this.props.onCommit({
                      type: "Rotation",
                      value: { deg: this.props.current.deg },
                    })
                  : this.props.onCancel({
                      type: "Rotation",
                      value: t.getInitialState(),
                    });
              }),
              e.setBack(() => {
                this.props.onCancel({
                  type: "Rotation",
                  value: t.getInitialState(),
                });
              }));
          }
          render() {
            return null;
          }
        },
        Hw = i(158),
        Jw = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M1.18 8.19h11.64a1.18 1.18 0 000-2.35H1.18a1.17 1.17 0 100 2.35z",
            }),
            2,
            { fill: "none", viewBox: "0 0 14 14" }
          );
        },
        $w = "Lm q";
      function Yw(t, e, i) {
        var r = i.x,
          s = i.y,
          n = i.size,
          a = i.image;
        if (null != a) {
          e.save();
          var l = i.canvasRotation;
          e.translate(r, s),
            e.rotate((l * Math.PI) / 180),
            e.drawImage(a, 0, 0, a.width, a.height, -n / 2, -n / 2, n, n),
            e.restore();
        }
      }
      var qw = class extends d.b {
          constructor() {
            var t;
            return (t = super(...arguments)), (this.NJ = n.e()), t;
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.current !== t.current ||
                i.onCommit !== t.onCommit ||
                i.onChange !== t.onChange ||
                i.onCancel !== t.onCancel ||
                i.selected !== t.selected ||
                i.width !== t.width ||
                i.height !== t.height ||
                i.align !== t.align ||
                i.isProcessing !== t.isProcessing)
            );
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.current,
              n = i.width,
              a = i.height,
              l = i.onChange,
              o = i.onCommit,
              u = i.onCancel;
            i.isProcessing ||
              (t.setBack(() => {
                u({
                  type: "Emoji",
                  value: Object.assign(
                    {},
                    { x: 0, y: 0, size: 100, canvasRotation: 0, image: null },
                    { canvasRotation: r.canvasRotation }
                  ),
                });
              }),
              r.size > this.step &&
                t.setLeftIcon((0, s.b)(2, Jw, { className: $w }), () => {
                  l({
                    type: "Emoji",
                    value: Object.assign({}, r, { size: r.size - this.step }),
                  });
                }),
              300 !== r.size &&
                t.setRightIcon((0, s.b)(2, rh, { className: $w }), () => {
                  l({
                    type: "Emoji",
                    value: Object.assign({}, r, {
                      size: Math.min(r.size + this.step, 300),
                    }),
                  });
                }),
              t.setCenterLabel(875, () => {
                o({ type: "Emoji", value: r });
              }),
              t.setLeftArrow(() => {
                var t = r.x - this.step;
                t >= 0 &&
                  l({ type: "Emoji", value: Object.assign({}, r, { x: t }) });
              }),
              t.setRightArrow(() => {
                var t = r.x + this.step;
                t < n &&
                  l({ type: "Emoji", value: Object.assign({}, r, { x: t }) });
              }),
              t.setUpArrow(() => {
                var t = r.y - this.step;
                t >= 0 &&
                  l({ type: "Emoji", value: Object.assign({}, r, { y: t }) });
              }),
              t.setDownArrow(() => {
                r.y + this.step < a &&
                  l({
                    type: "Emoji",
                    value: Object.assign({}, r, { y: r.y + this.step }),
                  });
              }));
          }
          NL(t) {
            if (this.NJ.current) {
              var e = this.NJ.current,
                i = this.props,
                r = i.width,
                s = i.height,
                n = Math.ceil(0.15 * Math.min(r, s)),
                a = r / 2,
                l = s / 2,
                o = this.props.current;
              (this.step = gw(r, s)),
                (e.width = r),
                (e.height = s),
                this.props.onChange({
                  type: "Emoji",
                  value: Object.assign({}, o, {
                    x: a,
                    y: l,
                    size: n,
                    image: t,
                    canvasRotation: 0,
                  }),
                });
            } else
              __LOG__(3)`[MEDIA_EDITOR] Canvas is not inited for emoji layer`;
          }
          NM() {
            mu(
              this.props.backend,
              (t) => {
                var e;
                ((e = t),
                new Promise((t, i) => {
                  var r = (function (t) {
                    var e = (0, $b.d)(t, 0);
                    if (e) {
                      var i = (function (t) {
                        var e = 0,
                          i = [];
                        do {
                          var r = t.codePointAt(e);
                          i.push(r.toString(16)), (e += (0, $b.b)(r));
                        } while (e < t.length);
                        return i.join("-");
                      })(e.emojiNormalized);
                      return `${Hw.e}${i}.png`;
                    }
                    __LOG__(4)`Emoji canot be parsed`;
                  })(e);
                  if (r) {
                    __LOG__(2)`Emoji: loading emoji`;
                    var s = new Image();
                    (s.onload = () => {
                      t(s);
                    }),
                      (s.onerror = () => {
                        i(new Error("loadEmoji cannot load png chunk"));
                      }),
                      (s.crossOrigin = "Anonymous"),
                      (s.src = r);
                  } else i(new Error("loadEmoji cannot parse emoji"));
                })).then(
                  (t) => {
                    this.NK && this.NL(t);
                  },
                  (t) => {
                    __LOG__(4)`[MEDIA_EDITOR] ${t}`,
                      this.NK &&
                        this.props.onCancel({
                          type: "Emoji",
                          value: this.props.current,
                        });
                  }
                );
              },
              () => {
                this.NK &&
                  this.props.onCancel({
                    type: "Emoji",
                    value: this.props.current,
                  });
              }
            );
          }
          componentDidMount() {
            (this.NK = !0), super.componentDidMount();
          }
          componentDidUpdate(t) {
            var e = this.props.current;
            if (this.NJ.current) {
              var i = this.NJ.current;
              if (!this.props.selected || t.selected) {
                var r = this.props,
                  s = r.width,
                  n = r.height,
                  a = s !== t.width || n !== t.height;
                if (
                  (a && ((i.width = s), (i.height = n)), t.current !== e || a)
                ) {
                  var l = i.getContext("2d");
                  l.clearRect(0, 0, i.width, i.height), Yw(0, l, e);
                }
                super.componentDidUpdate(t);
              } else this.NM();
            } else super.componentDidUpdate(t);
          }
          componentWillUnmount() {
            (this.NK = !1), super.componentWillUnmount();
          }
          render() {
            var t = this.props,
              e = t.width,
              i = t.height,
              r = t.current,
              a = t.selected,
              l = r.x,
              o = r.y,
              u = r.size;
            return (0, s.c)(
              [
                (0, s.f)(
                  1,
                  "div",
                  "Ln",
                  (0, s.f)(
                    1,
                    "canvas",
                    null,
                    null,
                    1,
                    { style: n.h(zw(this.props.align)) },
                    null,
                    this.NJ
                  ),
                  2
                ),
                a &&
                  (0, s.b)(2, Iw, {
                    shouldArrowBeInactive: Qw,
                    width: e,
                    height: i,
                    x: l,
                    y: o,
                    radius: u / 2,
                    step: this.step,
                  }),
              ],
              0
            );
          }
        },
        Xw = (0, l.j)(qw);
      function Qw(t, e, i, r, s) {
        return t < 0 || e < 0 || t >= r || e >= s;
      }
      function Zw(t, e, i) {
        var r = t / 255,
          s = e / 255,
          n = i / 255,
          a = Math.max(r, s, n),
          l = Math.min(r, s, n),
          o = a,
          u = a - l,
          h = 0 === a ? 0 : u / a,
          c = 0;
        if (a === l) c = 0;
        else {
          switch (a) {
            case r:
              c = (s - n) / u + (s < n ? 6 : 0);
              break;
            case s:
              c = (n - r) / u + 2;
              break;
            case n:
              c = (r - s) / u + 4;
          }
          c /= 6;
        }
        return [c, h, o];
      }
      function tO(t, e, i) {
        var r,
          s,
          n,
          a = Math.floor(6 * t),
          l = 6 * t - a,
          o = i * (1 - e),
          u = i * (1 - l * e),
          h = i * (1 - (1 - l) * e);
        switch (a % 6) {
          case 0:
            (r = i), (s = h), (n = o);
            break;
          case 1:
            (r = u), (s = i), (n = o);
            break;
          case 2:
            (r = o), (s = i), (n = h);
            break;
          case 3:
            (r = o), (s = u), (n = i);
            break;
          case 4:
            (r = h), (s = o), (n = i);
            break;
          default:
            (r = i), (s = o), (n = u);
        }
        return [255 * r, 255 * s, 255 * n];
      }
      function eO(t, e) {
        for (var i = t.data, r = 0; r < i.length; r += 4) {
          var s = i[r],
            n = i[r + 1],
            a = i[r + 2];
          (i[r] = s * (1 - 0.607 * e) + 0.769 * n * e + 0.189 * a * e),
            (i[r + 1] = 0.349 * s * e + n * (1 - 0.314 * e) + 0.168 * a * e),
            (i[r + 2] = 0.272 * s * e + 0.534 * n * e + a * (1 - 0.869 * e));
        }
        return t;
      }
      function iO(t, e) {
        var i = t.data;
        if (1 === e) return t;
        for (var r = 0; r < i.length; r += 4)
          (i[r] *= e), (i[r + 1] *= e), (i[r + 2] *= e);
        return t;
      }
      function rO(t, e) {
        for (
          var i = t.data, r = e < 0 ? -1 : e - 1, s = 0;
          s < i.length;
          s += 4
        ) {
          var n = 0.2989 * i[s] + 0.587 * i[s + 1] + 0.114 * i[s + 2];
          (i[s] = -n * r + i[s] * (1 + r)),
            (i[s + 1] = -n * r + i[s + 1] * (1 + r)),
            (i[s + 2] = -n * r + i[s + 2] * (1 + r));
        }
        return t;
      }
      function sO(t, e) {
        for (
          var i = t.data, r = -128 * e + 128, s = e, n = 0;
          n < i.length;
          n += 4
        )
          (i[n] = s * i[n] + r),
            (i[n + 1] = s * i[n + 1] + r),
            (i[n + 2] = s * i[n + 2] + r);
        return t;
      }
      function nO(t, e) {
        for (var i = t.data, r = e[3], s = 0; s < i.length; s += 4)
          (i[s] -= (i[s] - e[0]) * r),
            (i[s + 1] -= (i[s + 1] - e[1]) * r),
            (i[s + 2] -= (i[s + 2] - e[2]) * r);
        return t;
      }
      function aO(t, e) {
        for (var i = t.data, r = 0; r < i.length; r += 4)
          (i[r] *= e[0]), (i[r + 1] *= e[1]), (i[r + 2] *= e[2]);
        return t;
      }
      var lO = [
          "none",
          "reyes",
          "juno",
          "slumber",
          "crema",
          "aden",
          "perpetua",
          "mayfair",
          "inkwell",
          "earlybird",
          "toaster",
          "kelvin",
          "brooklyn",
        ],
        oO = {
          none: function (t) {
            return t;
          },
          reyes: function (t) {
            var e = eO(t, 0.75);
            return rO((e = iO((e = sO(e, 0.75)), 1.25)), 1.4);
          },
          juno: function (t) {
            return (
              aO(t, [1.01, 1.04, 1]), rO(iO(sO(eO(t, 0.35), 1.15), 1.15), 1.8)
            );
          },
          slumber: function (t) {
            return (function (t, e) {
              for (var i = t.data, r = 0; r < i.length; r += 4) {
                var s = Zw(i[r], i[r + 1], i[r + 2]);
                s[1] *= -0.5;
                var n = tO(s[0], s[1], s[2]);
                (i[r] = n[0]), (i[r + 1] = n[1]), (i[r + 2] = n[2]);
              }
              return t;
            })(iO(t, 1.1));
          },
          crema: function (t) {
            return rO(aO(t, [1.04, 1, 1.02]), 0.95);
          },
          aden: function (t) {
            return rO(nO(t, [228, 130, 225, 0.13]), 0.8);
          },
          perpetua: function (t) {
            return aO(t, [1.05, 1.1, 1]);
          },
          mayfair: function (t) {
            return rO(nO(t, [230, 115, 108, 0.05]), 1.15);
          },
          inkwell: function (t) {
            return (function (t) {
              for (var e = t.data, i = 0; i < e.length; i += 4) {
                var r = 0.2126 * e[i] + 0.7152 * e[i + 1] + 0.0722 * e[i + 2];
                e[i] = e[i + 1] = e[i + 2] = r;
              }
              return t;
            })(t);
          },
          earlybird: function (t) {
            return nO(t, [255, 165, 40, 0.2]);
          },
          toaster: function (t) {
            return nO(eO(t, 0.1), [255, 145, 0, 0.2]);
          },
          kelvin: function (t) {
            var e = nO(t, [255, 140, 0, 0.1]);
            return rO((e = aO(e, [1.15, 1.05, 1])), 1.35);
          },
          brooklyn: function (t) {
            return eO(nO(t, [25, 240, 252, 0.05]), 0.3);
          },
        },
        uO = class extends d.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.NH = (t) => {
                var e,
                  i = this.props.current,
                  r = lO.indexOf(i.fn);
                if ("next" === t) {
                  if (r === lO.length - 1) return;
                  e = r + 1;
                } else if ("prev" === t) {
                  if (0 === r) return;
                  e = r - 1;
                } else e = t % lO.length;
                var s = lO[e];
                __LOG__(2)`[MEDIA_EDITOR] Change filter to ${s}`,
                  this.props.onChange({
                    type: "Filter",
                    value: { fn: s, original: i.original },
                  });
              }),
              (this.NI = () => {
                var t = this.props.current.original;
                this.props.onCancel({
                  type: "Filter",
                  value: { fn: t, original: t },
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.current !== t.current ||
                i.onCommit !== t.onCommit ||
                i.onChange !== t.onChange ||
                i.onCancel !== t.onCancel ||
                i.selected !== t.selected ||
                i.isProcessing !== t.isProcessing)
            );
          }
          static getInitialState() {
            return { fn: "none", original: "none" };
          }
          static change(t, e, i) {
            var r = oO[i.fn],
              s = e.getImageData(0, 0, t.width, t.height);
            e.putImageData(r(s), 0, 0),
              __LOG__(2)`[MEDIA_EDITOR] filter image using ${i.fn} filter`;
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.current;
            if (!i.isProcessing) {
              t.setRightLabel(559, () => {
                this.props.onCommit({
                  type: "Filter",
                  value: { fn: r.fn, original: r.fn },
                });
              }),
                t.setLeftLabel(864, this.NI);
              var n = lO.indexOf(r.fn);
              t.dangerouslySetCenterRawString(
                (0, s.b)(2, Ew, {
                  leftDisabled: 0 === n,
                  rightDisabled: n === lO.length - 1,
                }),
                () => {}
              ),
                t.setBack(this.NI),
                t.setLeftArrow(() => this.NH("prev")),
                t.setRightArrow(() => this.NH("next"));
            }
          }
          render() {
            var t,
              e = this.props,
              i = e.selected,
              r = e.current;
            return i
              ? (0, s.f)(
                  1,
                  "div",
                  "LX FW FS",
                  "none" === (t = r.fn)
                    ? (0, s.b)(2, o.b, { l10n: 557 })
                    : (0, s.f)(1, "span", "LW", t, 0),
                  0
                )
              : null;
          }
        };
      function hO() {
        return (0, s.f)(1, "div", "Jv", (0, s.b)(2, ss.a), 2);
      }
      var cO,
        dO = class extends cr.b {
          constructor(t, e) {
            super(t, e), (this.state = { optionIdx: t.startIdx });
          }
          NF(t) {
            var e,
              i = this.props.options.length,
              r = this.state.optionIdx;
            if ("prev" === t) {
              if (r <= 0) return;
              e = r - 1;
            } else {
              if (r >= i - 1) return;
              e = r + 1;
            }
            this.setState({ optionIdx: e });
          }
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.options,
              s = i.loading,
              n = r[this.state.optionIdx];
            s ||
              t.setCenterLabel(n.label, () => {
                n.action(e);
              }),
              t.setLeftArrow(() => this.NF("prev")),
              t.setRightArrow(() => this.NF("next"));
          }
          NG() {
            var t = this.props.options,
              e = this.state.optionIdx;
            return t.map((t, i) => {
              var r = t.icon,
                n = (0, s.b)(2, r, { className: "Kn q" }),
                a = i === e;
              return (0, s.f)(
                1,
                "div",
                (0, Mt.a)("Kk", a && "Kl"),
                (0, s.f)(1, "div", "Km", n, 0),
                2,
                null,
                t.key
              );
            });
          }
          render() {
            return this.props.selected
              ? (0, s.f)(1, "div", "Kj", this.NG(), 0)
              : null;
          }
        },
        vO = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M16.1 14.4h1.6V7.9c0-.9-.7-1.6-1.6-1.6H9.6v1.6h6.6v6.5h-.1zm-8.2 1.7V3H6.3v3.2H3v1.6h3.2V16c0 .9.7 1.6 1.6 1.6H16V21h1.6v-3.2H21v-1.6c0-.1-13.1-.1-13.1-.1z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        pO = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M11.24 4.5c.58.06.64.38 1.02.77.19.19.26.32.38.64.26.64.58.7.83 1.41.26.58.32.64.64.7.58.06.83-.06 1.02-.64.26-.77.58-.7.9-1.54.13-.38.45-.64.7-.96.19-.58 2.3-.45 2.56-.13.19.38-.45.9-.58 1.41-.19.58-.64.77-.83 1.41-.19.45-.64.83-.83 1.28-.13.38-.19.51-.38.77-.7.77-.77 1.86-.13 2.62.45.45.58 1.22.96 1.6.38.38.45 1.02.83 1.41.19.19.32.38.51.9.06.19.13.32.26.45.96 1.02-.58.96-1.66 1.02-.51-.19-.7-.38-1.02-.83-.26-.26-.26-.32-.38-.7-.19-.58-.64-.77-.83-1.47-.19-.51-.51-.7-1.02-.58-.32.06-.32.06-.58.7-.19.45-.19.51-.38.7-.19.19-.32.38-.45.7-.13.45-.45.64-.7.96-.26.38-.45.45-1.22.45-.83 0-1.34-.13-1.47-.38-.13-.13.45-.77.51-.96.38-1.02.77-1.09 1.02-1.79.13-.45.64-.83.83-1.34.19-.38.26-.58.51-.77.38-.32.64-1.22.38-1.79-.13-.45-.19-.51-.38-.77-.19-.19-.19-.26-.32-.51-.38-.77-.38-.83-.58-1.09-.19-.26-.32-.38-.38-.7-.26-.64-.7-1.02-1.28-1.22H7.66c-2.5 0-2.37 0-2.56.32l-.07.13v2.43l.07.13c.19.26.13.26 2.11.26h1.6c.38.19.51.38.45 1.02 0 .58-.13.64-.45.83h-1.6c-1.98 0-1.92 0-2.11.32l-.07.13v2.56c0 2.37 0 2.56-.06 2.69-.26.58-1.47.58-1.79 0-.06-.13-.06-11.78 0-12.1.06-.38.26-.58.64-.58.25.07 7.17.07 7.42.13",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        fO = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Ms = n.e()),
              (this.state = {
                selectedTool: null,
                width: 0,
                height: 0,
                align: { translateX: 0, translateY: 0, scale: 1 },
                rotation: Ww.getInitialState(),
                cropHighlight: jw.getInitialState(),
                emoji: {
                  x: 0,
                  y: 0,
                  size: 100,
                  canvasRotation: 0,
                  image: null,
                },
                filter: uO.getInitialState(),
                isProcessing: !1,
              }),
              (this.Mw = (t) => {
                this.props.onCancel(() => this.Mx(t));
              }),
              (this.Mx = (t) => {
                if (null == this.Ms.current)
                  return (
                    __LOG__(
                      4
                    )`Failed to save Image in MediaEditor.MainLayer component`,
                    SEND_LOGS("MediaEditor failed"),
                    void t.goBack()
                  );
                var e,
                  i = this.Ms.current,
                  r = this.props.tools;
                r.hasCircleCrop &&
                  this.state.crop &&
                  Rw.commit(i, this.ctx, this.state.crop),
                  r.hasEmoji &&
                    (Yw(0, this.ctx, (e = this.state.emoji)),
                    __LOG__(
                      2
                    )`[MEDIA_EDITOR] Placed emoji on image. From (${e.x}, ${e.y}), size: ${e.size}`),
                  i.toBlob(
                    (e) => {
                      this.props.onComplete(e), t.goBack();
                    },
                    "image/jpeg",
                    0.8
                  );
              }),
              (this.My = (t) => {
                if (!this.Mt) {
                  var e = this.Ms.current;
                  if (e) {
                    var i, r;
                    switch ((performance.now(), (this.Mt = !0), t.type)) {
                      case "Rotation":
                        return this.Mv(() => {
                          Ww.change(e, this.ctx, t.value, this.state.rotation);
                          var i = t.value.deg - this.state.rotation.deg,
                            r = e.width,
                            s = e.height,
                            n = this.state.crop,
                            a = this.state.cropHighlight;
                          if (n) {
                            var l = this.cached.width,
                              o = this.cached.height;
                            if (t.value.deg % 180 != 0) {
                              var u = l;
                              (l = o), (o = u);
                            }
                            (n = (function (t, e, i, r) {
                              __LOG__(
                                2
                              )`[MEDIA_EDITOR] image was rotated. Align with new angle ${r}`;
                              var s = t.x,
                                n = t.y,
                                a = t.radius;
                              return Object.assign(
                                { radius: a },
                                Sw({ x: s, y: n }, e, i, r)
                              );
                            })(n, l, o, i)),
                              this.props.tools.hasCircleCrop &&
                                n &&
                                (Rw.change(e, this.ctx, n),
                                (a = Object.assign({}, n)));
                          } else a = yw(r, s);
                          var h = (function (t, e, i, r) {
                              var s = t.x,
                                n = t.y;
                              return Object.assign(
                                {},
                                t,
                                Sw({ x: s, y: n }, e, i, r)
                              );
                            })(this.state.emoji, r, s, i),
                            c = this.state.rotation,
                            d = h.canvasRotation + t.value.deg - c.deg;
                          return (
                            this.setState({
                              width: r,
                              height: s,
                              crop: n,
                              cropHighlight: a,
                              rotation: t.value,
                              align: Dw(r, s, this.props.fit),
                              emoji: Object.assign({}, h, {
                                canvasRotation: d,
                              }),
                            }),
                            (this.Mt = !1),
                            Promise.resolve()
                          );
                        });
                      case "Emoji":
                        i = { emoji: t.value };
                        break;
                      case "Filter":
                        (i = { filter: t.value }), (r = !0);
                        break;
                      case "CircleCrop":
                        Rw.change(e, this.ctx, t.value),
                          (i = { cropHighlight: t.value, crop: t.value });
                        break;
                      default:
                        t.type, (i = { cropHighlight: t.value });
                    }
                    this.setState(i, () => {
                      r && this.Mu(), (this.Mt = !1);
                    });
                  }
                }
              }),
              (this.Mz = (t) => {
                this.state.isProcessing ||
                  (this.setState({ selectedTool: null }), this.My(t));
              }),
              (this.NA = (t) => {
                var e = this.Ms.current;
                if (!e)
                  return (
                    __LOG__(
                      4
                    )`[MEDIA_EDITOR] Canvas element is not presented on the page when the tool is trying to commit changes`,
                    void SEND_LOGS("MediaEditor failed")
                  );
                performance.now(),
                  this.Mv(() => {
                    switch (t.type) {
                      case "Crop":
                        var i = t.value,
                          r = i.x,
                          s = i.y,
                          n = i.radius,
                          a = (function (t, e, i) {
                            return Object.assign({}, i, {
                              x: i.x - t,
                              y: i.y - e,
                            });
                          })(r - n, s - n, this.state.emoji);
                        jw.commit(e, this.ctx, t.value);
                        var l = e.width,
                          o = e.height,
                          u = Dw(l, o, this.props.fit);
                        this.setState({
                          width: l,
                          height: o,
                          emoji: a,
                          align: u,
                          cropHighlight: yw(l, o),
                          crop: t.value,
                        });
                        break;
                      case "Filter":
                        var h = t.value;
                        this.setState({ filter: h });
                        break;
                      default:
                        t.type;
                    }
                    return (
                      this.setState({ selectedTool: null }),
                      this.props.onPush(t),
                      Promise.resolve()
                    );
                  });
              }),
              (this.ND = (t) => () => {
                this.setState((e) => {
                  if (null == e.selectedTool) return { selectedTool: t };
                  __LOG__(
                    3
                  )`[MEDIA_EDITOR]: Trying to select a tool while other is still active`;
                });
              }),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props,
              r = this.state;
            return (
              (i !== t &&
                (i.image !== t.image ||
                  i.onComplete !== t.onComplete ||
                  i.onCancel !== t.onCancel ||
                  i.onPush !== t.onPush ||
                  i.tools !== t.tools ||
                  i.fit !== t.fit)) ||
              (r !== e &&
                (r.selectedTool !== e.selectedTool ||
                  r.width !== e.width ||
                  r.height !== e.height ||
                  r.align !== e.align ||
                  r.rotation !== e.rotation ||
                  r.cropHighlight !== e.cropHighlight ||
                  r.crop !== e.crop ||
                  r.filter !== e.filter ||
                  r.emoji !== e.emoji ||
                  r.isProcessing !== e.isProcessing))
            );
          }
          componentDidMount() {
            if (((this.Mr = !0), !this.Ms.current))
              return (
                __LOG__(
                  4
                )`[MEDIA_EDITOR] Canvas element is not presented on the page after the image is loaded`,
                void SEND_LOGS("MediaEditor failed")
              );
            var t = this.props,
              e = t.image,
              i = t.fit,
              r = this.Ms.current;
            this.ctx = r.getContext("2d", { willReadFrequently: !0 });
            var s = e.naturalWidth,
              n = e.naturalHeight;
            (r.width = s),
              (r.height = n),
              this.ctx.drawImage(e, 0, 0),
              (this.cached = this.ctx.getImageData(0, 0, s, n)),
              this.setState({
                width: s,
                height: n,
                cropHighlight: yw(s, n),
                align: Dw(s, n, i),
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Mr = !1), super.componentWillUnmount();
          }
          Mu() {
            this.Mv(() => {
              if (!this.Ms.current) return Promise.resolve();
              var t = this.Ms.current;
              return (
                (t.width = this.cached.width),
                (t.height = this.cached.height),
                this.ctx.putImageData(this.cached, 0, 0),
                this.state.rotation.deg % 360 != 0 &&
                  Ww.change(t, this.ctx, this.state.rotation),
                this.state.crop && jw.commit(t, this.ctx, this.state.crop),
                uO.change(t, this.ctx, this.state.filter),
                Promise.resolve()
              );
            });
          }
          Mv(t) {
            this.setState({ isProcessing: !0 }, () => {
              requestAnimationFrame(() => {
                setTimeout(() => {
                  this.Mr &&
                    t().then(() => {
                      this.Mr && this.setState({ isProcessing: !1 });
                    });
                }, 0);
              });
            });
          }
          addSoftKeys(t, e) {
            this.state.isProcessing || null != this.state.selectedTool
              ? t.setBack(() => {
                  (0, b.f)({ text: 554, confirm: 880, onConfirm: this.Mw });
                })
              : (t.setBack(this.Mw),
                t.addCancel(this.Mw),
                t.setRightLabel(928, () => {
                  this.Mx(e);
                }));
          }
          NB() {
            if (null == this.Ms.current) return null;
            var t = this.state,
              e = t.selectedTool,
              i = t.isProcessing,
              r = this.props.tools;
            return (0, s.c)(
              [
                r.hasRotation &&
                  (0, s.b)(2, Ww, {
                    current: this.state.rotation,
                    selected: "Rotation" === e,
                    onCommit: this.NA,
                    onChange: this.My,
                    onCancel: this.Mz,
                    isProcessing: i,
                  }),
                r.hasFilter &&
                  (0, s.b)(2, uO, {
                    current: this.state.filter,
                    selected: "Filter" === e,
                    onCommit: this.NA,
                    onChange: this.My,
                    onCancel: this.Mz,
                    isProcessing: i,
                  }),
                r.hasCrop &&
                  (0, s.b)(2, jw, {
                    current: this.state.cropHighlight,
                    selected: "Crop" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.NA,
                    onChange: this.My,
                    onCancel: this.Mz,
                    align: this.state.align,
                    isProcessing: i,
                  }),
                r.hasEmoji &&
                  (0, s.b)(2, Xw, {
                    align: this.state.align,
                    current: this.state.emoji,
                    selected: "Emoji" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.NA,
                    onChange: this.My,
                    onCancel: this.Mz,
                    isProcessing: i,
                  }),
                r.hasCircleCrop &&
                  (0, s.b)(2, Rw, {
                    current: this.state.cropHighlight,
                    selected: "CircleCrop" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.NA,
                    onChange: this.My,
                    onCancel: this.Mz,
                    isProcessing: i,
                  }),
                this.NC(),
              ],
              0
            );
          }
          NC() {
            var t = this.props.tools,
              e = this.state,
              i = e.selectedTool,
              r = e.emoji,
              n = e.isProcessing,
              a = [
                t.hasRotation && {
                  key: "Rotation",
                  label: 558,
                  icon: Bw,
                  action: this.ND("Rotation"),
                },
                t.hasCrop && {
                  key: "Crop",
                  label: 552,
                  icon: vO,
                  action: this.ND("Crop"),
                },
                t.hasCircleCrop && {
                  key: "CircleCrop",
                  label: 552,
                  icon: vO,
                  action: this.ND("CircleCrop"),
                },
                t.hasEmoji && {
                  key: "Emoji",
                  label: null == r.image ? 549 : 555,
                  icon: Yo,
                  action: this.ND("Emoji"),
                },
                t.hasFilter && {
                  key: "Filter",
                  label: 895,
                  icon: pO,
                  action: this.ND("Filter"),
                },
              ];
            return (0, s.b)(2, dO, {
              startIdx: 0,
              options: a.filter(Boolean),
              selected: null == i,
              loading: n,
            });
          }
          render() {
            var t = Object.assign({}, zw(this.state.align), {
              width: this.state.width + "px",
              height: this.state.height + "px",
            });
            return (0, s.f)(
              1,
              "div",
              "Kd",
              [
                (0, s.f)(
                  1,
                  "div",
                  null,
                  (0, s.f)(1, "canvas", null, null, 1, null, null, this.Ms),
                  2,
                  { style: n.h(t) }
                ),
                this.NB(),
                this.state.isProcessing && (0, s.b)(2, hO),
              ],
              0
            );
          }
        },
        mO = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Lx = n.e()),
              (this.Lz = null),
              (this.state = { operations: [] }),
              (this.MA = (t) => {
                __LOG__(2)`[MEDIA_EDITOR] Edit image using: ${t.type}`,
                  this.setState((e) => ({
                    operations: e.operations.concat(t),
                  }));
              }),
              (this.MB = (t) => {
                __LOG__(2)`[MEDIA_EDITOR] Cancel`,
                  this.state.operations.length > 0
                    ? (0, b.g)({
                        title: 551,
                        text: 550,
                        center: 928,
                        left: 864,
                        right: 553,
                        onSoftCenter: () => t(),
                        onSoftLeft: "CLOSE",
                        onSoftRight: () => this.props.onCancel(),
                      })
                    : this.props.onCancel();
              }),
              (this.MC = (t) => {
                var e = this.state.operations;
                __LOG__(2)`[MEDIA_EDITOR] Save new file`,
                  this.props.onComplete(
                    t,
                    e.length > 0 ? "changed" : "unchanged"
                  );
              }),
              t
            );
          }
          componentDidMount() {
            var t;
            (this.Ly = !0),
              ((t = this.props.media),
              new Promise((e, i) => {
                var r = new Image(),
                  s = (0, zi.a)(t);
                (r.src = s),
                  (r.onload = () => {
                    if (
                      !(
                        r.naturalWidth < Fi.PROFILE_PHOTO_SQUARE_MIN_PIXELS ||
                        r.naturalHeight < Fi.PROFILE_PHOTO_SQUARE_MIN_PIXELS
                      )
                    )
                      return 0 === r.naturalWidth || 0 === r.naturalHeight
                        ? (__LOG__(
                            4
                          )`[MEDIA_EDITOR] Got zero width or height for the image to scale`,
                          SEND_LOGS("MediaEditor failed"),
                          void i("Image has zero width or height"))
                        : void e({ img: r, objectUri: s });
                    i(new kd.a());
                  }),
                  (r.onerror = () => {
                    (0, zi.b)(s), i("Image loading error");
                  });
              }))
                .then((t) => {
                  var e = t.img,
                    i = t.objectUri;
                  this.Ly && ((this.Lz = i), this.setState({ image: e }));
                })
                .catch(
                  (0, Od.a)(kd.a, () => {
                    this.Ly && this.props.onSmallImageError();
                  })
                )
                .catch((t) => {
                  this.Ly && this.props.onCancel();
                });
          }
          componentWillUnmount() {
            (this.Ly = !1), this.Lz && (0, zi.b)(this.Lz);
          }
          render() {
            if (!this.state.image) return (0, s.b)(2, hO);
            var t = this.state.image,
              e = this.props,
              i = e.tools,
              r = e.fit;
            return (0, s.b)(
              2,
              fO,
              {
                image: t,
                onCancel: this.MB,
                onComplete: this.MC,
                onPush: this.MA,
                tools: i,
                fit: r,
              },
              null,
              this.Lx
            );
          }
        },
        gO = class extends n.b {
          constructor(t) {
            super(t),
              (this.In = () => {
                (0, ot.a)(this.props.backend),
                  (0, b.e)({ title: 243, text: 793 });
              }),
              (this.Io = () => {
                (0, ot.a)(this.props.backend);
              }),
              (this.state = { media: t.media });
          }
          componentDidMount() {
            (this.Im = !0),
              null == this.state.media &&
                (0, U.j)(this.props.backend, "image/jpeg").then((t) => {
                  this.Im && t
                    ? this.setState({ media: t })
                    : (0, ot.a)(this.props.backend);
                });
          }
          componentWillUnmount() {
            this.Im = !1;
          }
          render() {
            if (null == this.state.media)
              return (0, s.b)(2, By.a, { title: 894, subtitle: null });
            var t = this.props,
              e = t.fit,
              i = t.tools,
              r = t.onComplete;
            return (0, s.f)(
              1,
              "div",
              "FR MQ",
              (0, s.b)(2, mO, {
                fit: e,
                tools: i,
                onComplete: r,
                onCancel: this.Io,
                media: this.state.media,
                onSmallImageError: this.In,
              }),
              2
            );
          }
        },
        SO = (0, l.b)((0, d.e)(gO, { fullscreen: !0 }), (t, e) =>
          Object.assign({}, e, { backend: t })
        );
      function yO() {
        return (
          cO || (cO = Promise.all([i.e(20), i.e(50)]).then(i.bind(null, 723))),
          cO
        );
      }
      function _O(t) {
        return (0, s.b)(2, Di.a, {
          props: t,
          promise: yO(),
          fallback: xO,
          render: (t, e) => {
            var i = e.DeleteAccount;
            return (0, s.i)((0, s.b)(2, i, Object.assign({}, t)));
          },
        });
      }
      function bO(t) {
        return (0, s.b)(2, Di.a, {
          props: t,
          promise: yO(),
          fallback: xO,
          render: (t, e) => {
            var i = e.DeleteAccountCountrySelector;
            return (0, s.i)((0, s.b)(2, i, Object.assign({}, t)));
          },
        });
      }
      function xO() {
        return (0, s.b)(2, $p.a);
      }
      var wO = i(449),
        OO = class extends d.b {
          addSoftKeys(t, e) {
            var i = this.props,
              r = i.hasAvatarPicture,
              s = i.jid;
            r &&
              t.setCenterLabel(945, () => {
                e.openAvatarView(s, "communityHome");
              });
          }
          render() {
            var t = this.props,
              e = t.jid,
              i = t.selected,
              r = t.title,
              n = t.groupCount,
              a = (0, s.b)(2, vt.c, {
                jid: e,
                type: "thumb",
                avatarPlacement: "communityHome",
                className: "IB",
              });
            return (0, s.b)(2, y.k, {
              selected: i,
              className: (0, Mt.a)("IA", !i && "ID"),
              children: [
                a,
                (0, s.f)(
                  1,
                  "div",
                  null,
                  [
                    (0, s.b)(2, wO.a, { children: r }),
                    n
                      ? (0, s.b)(2, o.b, { l10n: [n, 36], className: "IC" })
                      : null,
                  ],
                  0
                ),
              ],
            });
          }
        };
      function kO(t) {
        var e = t.description;
        return (0, s.f)(
          1,
          "div",
          "Oz",
          (0, s.f)(1, "div", "Ow", (0, h.b)(e), 0, { dir: "auto" }),
          2
        );
      }
      var CO = class extends cr.b {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.LW = (t) => {
                var e = this.props.value;
                (0, b.h)(
                  {
                    title: 416,
                    left: 861,
                    onSoftLeft: "CLOSE",
                    onBack: "CLOSE",
                    center: void 0,
                    right: void 0,
                    onSoftRight: void 0,
                  },
                  (0, s.b)(2, kO, { description: e })
                );
              }),
              t
            );
          }
          addSoftKeys(t, e) {
            t.setCenterLabel(945, () => {
              this.LW(e);
            });
          }
          render() {
            var t = this.props.value,
              e = (0, s.b)(2, ut.a, {
                textClassName: (0, Mt.a)(this.props.selected && "Ov", "Ow"),
                maxLineClassName: "Ox",
                truncated: !0,
                children: (0, s.b)(2, Gd, { value: t }),
              });
            return (0, s.b)(2, y.k, {
              selected: this.props.selected,
              className: "Oy",
              children: e,
            });
          }
        },
        NO = class extends cr.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(889, () => {
              var t = this.props,
                i = t.parent,
                r = t.jid,
                s = t.subgroup;
              Ja({
                type: "subgroup",
                backend: e,
                requestInfo: {
                  parentGroupJid: i,
                  subGroupJid: r,
                  isDefaultGroup: s.isDefault,
                },
                groupInfo: null,
                options: { forceShowExtend: !1 },
              });
            });
          }
          render() {
            var t = this.props,
              e = t.selected,
              i = t.jid,
              r = t.subgroup;
            return (0, s.b)(2, y.k, {
              selected: e,
              className: "Hy AM",
              children: [
                (0, s.b)(2, vt.c, {
                  className: "Hz Fa",
                  jid: i,
                  avatarPlacement: "communityHome",
                  isCAG: r.isDefault,
                }),
                (0, s.f)(1, "div", null, (0, h.b)(r.title), 0),
              ],
            });
          }
        },
        IO = i(264),
        EO = (t) => {
          var e = t.selected,
            i = t.chat,
            r = t.connected;
          return (0, s.f)(
            1,
            "div",
            "Hx",
            (0, s.b)(2, IO.b, {
              chat: i,
              selected: e,
              connected: r,
              renderFast: !0,
            }),
            2
          );
        },
        TO = class extends n.a {
          constructor(t, e) {
            super(t, e),
              (this.Il = (t, e) => {
                var i = this.props.info,
                  r = null;
                switch (t) {
                  case "header":
                    var n = this.props,
                      a = n.subGroupsMap,
                      l = n.hasAvatarPicture;
                    r = (0, s.b)(2, OO, {
                      jid: i.jid,
                      selected: e,
                      title: i.title,
                      groupCount: null == a ? void 0 : a.size,
                      hasAvatarPicture: l,
                    });
                    break;
                  case "description":
                    null != i.description &&
                      (r = (0, s.b)(2, CO, {
                        value: i.description,
                        selected: e,
                      }));
                    break;
                  case "otherActions":
                    r = (0, s.c)(
                      [
                        (0, s.b)(2, y.g),
                        (0, s.b)(2, PO, { jid: i.jid, selected: e }),
                      ],
                      4
                    );
                    break;
                  default:
                    var o = this.props,
                      u = o.subGroupsMap,
                      h = o.connected,
                      c = null == u ? void 0 : u.get(t);
                    if (!c) return null;
                    "GROUP" === c.item.type
                      ? (r = (0, s.c)(
                          [
                            c.isFirstItem && (0, s.b)(2, y.g, { text: 147 }),
                            (0, s.b)(2, EO, {
                              selected: e,
                              connected: h,
                              chat: c.item,
                            }),
                          ],
                          0
                        ))
                      : (c.item.type,
                        (r = (0, s.c)(
                          [
                            c.isFirstItem && (0, s.b)(2, y.g, { text: 148 }),
                            (0, s.b)(2, NO, {
                              selected: e,
                              jid: t,
                              parent: i.jid,
                              subgroup: c.item,
                            }),
                          ],
                          0
                        )));
                }
                return r;
              });
          }
          componentDidMount() {
            var t = this.props,
              e = t.info;
            (function (t, e) {
              AO.apply(this, arguments);
            })(t.backend, e.jid);
          }
          render() {
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 151 }),
              children: this.props.subGroupsMap
                ? (0, s.b)(2, g.c, {
                    items: this.props.items,
                    keyOf: UO,
                    estimatedItemHeight: 20,
                    renderItem: this.Il,
                    start: { item: "header", scrollFromTop: "start" },
                    deps: [this.props.subGroupsMap],
                  })
                : (0, s.f)(1, "div", "GF", (0, s.b)(2, ss.a), 2),
            });
          }
        },
        MO = (0, Uh.b)(function (t, e) {
          var i = new Map();
          if (null != t) {
            for (var r = [], s = (0, F.y)(e), n = 0; n < s.length; n++) {
              var a = s[n];
              "GROUP" === a.type && r.push(a);
            }
            for (
              var l = (0, F.u)(r, (t) => t.jid), o = !1, u = !1, h = 0;
              h < t.length;
              h++
            ) {
              var c,
                d = t[h],
                v = (0, ts.N)(d.id),
                p = l.get(v);
              null != p && (null == (c = p.groupInfo) ? void 0 : c.isInGroup)
                ? (i.set(
                    v,
                    Object.assign({}, !u && { isFirstItem: !u }, { item: p })
                  ),
                  u || (u = !0))
                : (i.set(
                    v,
                    Object.assign({}, !o && { isFirstItem: !o }, {
                      item: Object.assign({}, d, { type: void 0 }),
                    })
                  ),
                  o || (o = !0));
            }
          }
          return i;
        }),
        LO = (0, l.f)(
          (0, d.e)(TO),
          (t, e) => ({
            hasAvatarPicture: (0, rt.i)(e.info.jid, t.avatars),
            info: e.info,
            connected: t.connected,
            subGroupsMap: e.subGroups
              ? MO(e.subGroups, t.chatlist.chats)
              : null,
          }),
          (t, e) => {
            var i = t.info,
              r = t.subGroupsMap,
              s = t.hasAvatarPicture,
              n = t.connected;
            return {
              items: RO(i, r),
              hasAvatarPicture: s,
              info: i,
              connected: n,
              subGroupsMap: r,
              backend: e,
            };
          }
        );
      function AO() {
        return (AO = za()(function* (t, e) {
          var i = yield t.sendAndReceive(
            "backend",
            "queryCommunitiesSubGroups",
            { jid: e }
          );
          return (
            null != i &&
              t.dispatch({
                type: "UPDATE_COMMUNITY_SUBGROUPS",
                subGroups: i,
                jid: e,
              }),
            i
          );
        })).apply(this, arguments);
      }
      function UO(t) {
        return t;
      }
      function RO(t, e) {
        var i = ["header"];
        null != t.description && i.push("description");
        var r = [],
          s = [];
        return (
          e &&
            (e.forEach((t, e) => {
              "GROUP" === t.item.type
                ? t.isFirstItem
                  ? r.unshift(e)
                  : r.push(e)
                : t.isFirstItem
                ? s.unshift(e)
                : s.push(e);
            }),
            i.push(...r, ...s)),
          i.push("otherActions"),
          i
        );
      }
      var PO = class extends cr.b {
          addSoftKeys(t, e) {
            t.setCenterLabel(727, () => {
              this.confirmSpam(e);
            });
          }
          confirmSpam(t) {
            var e = this.props.jid,
              i = new K.a(727);
            i.add(726, () => {
              t.reportCommunityHomeSpam({ spamFlow: "community_home", jid: e });
            }),
              (0, b.j)(i);
          }
          render() {
            return (0, s.b)(2, y.j, {
              danger: "red",
              selected: this.props.selected,
              title: 727,
              icon: (0, s.b)(2, Ke),
            });
          }
        },
        GO = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M10.99 8.5c0 1.66-1.33 3-2.99 3-1.66 0-3-1.34-3-3s1.34-3 3-3 2.99 1.34 2.99 3zm8 0c0 1.66-1.33 3-2.99 3-1.66 0-3-1.34-3-3s1.34-3 3-3 2.99 1.34 2.99 3zM8 13.5c-2.33 0-7 1.17-7 3.5v1.5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V17c0-2.33-4.67-3.5-7-3.5zm7.03.05c.35-.03.68-.05.97-.05 2.33 0 7 1.17 7 3.5v1.5c0 .55-.45 1-1 1h-5.18c.11-.31.18-.65.18-1V17c0-1.47-.79-2.58-1.93-3.41a.12.12 0 01-.01-.011.092.092 0 00-.03-.029z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 24 25" }
          );
        },
        FO = (t) => {
          var e = t.className;
          return (0, s.f)(
            32,
            "svg",
            e,
            (0, s.f)(32, "path", null, null, 1, {
              d: "M18 0H8C6.9 0 6.01.9 6.01 2v.795L20 10.836V2c0-1.1-.9-2-2-2zm2 14.912 3.875 2.227.996-1.734L1.891 2.197.896 3.93l5.112 2.938L6 18l7-3 7 3v-3.088z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 25 18" }
          );
        },
        DO = class extends d.a {
          componentDidMount() {
            var t = this.props,
              e = t.backend,
              i = t.trigger;
            (0, Ae.i)(e),
              (0, xr.c)("kic-nux-open", i),
              super.componentDidMount();
          }
          addSoftKeys(t) {
            t.setCenterLabel(902, (t) => {
              t.goBack();
            }),
              t.setRightLabel(891, (t) => {
                (0, _.E)(t, _.f), (0, xr.c)("learn-more", this.props.trigger);
              });
          }
          render() {
            var t = (0, s.b)(2, $r, { className: "Fs" });
            return (0, s.b)(2, a.a, {
              children: (0, s.f)(
                1,
                "div",
                "Fq",
                [
                  (0, s.f)(1, "div", "Fr", t, 0),
                  (0, s.f)(1, "div", xp, (0, s.b)(2, o.b, { l10n: 524 }), 2),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, GO, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 521 }),
                    ],
                    4
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, FO, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 522 }),
                    ],
                    4
                  ),
                  (0, s.f)(
                    1,
                    "div",
                    wp,
                    [
                      (0, s.b)(2, _p, { className: Op }),
                      (0, s.b)(2, o.b, { l10n: 523 }),
                    ],
                    4
                  ),
                ],
                4
              ),
            });
          }
        },
        zO = (0, l.j)((0, d.e)(DO)),
        VO = "PW FV FS",
        KO = "PX FW FS",
        jO = (t) => t.key,
        BO = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.getMemoizedItems = (0, Uh.d)(HO)),
              (this.state = { expandedOptions: new Set() }),
              (this.Ia = (t, e) => {
                switch (t.type) {
                  case "optionName":
                    return (function (t, e, i) {
                      return (0, s.c)(
                        [
                          (0, s.b)(2, y.g, { className: "PV" }),
                          (0, s.b)(2, y.k, {
                            selected: i,
                            children: (0, s.f)(
                              1,
                              "div",
                              VO,
                              [
                                (0, s.f)(1, "div", "PY FV FS", (0, h.b)(t), 0),
                                (0, s.f)(
                                  1,
                                  "div",
                                  "PZ FW FS FU",
                                  (0, s.b)(2, o.b, { l10n: [e, 213] }),
                                  2
                                ),
                              ],
                              4
                            ),
                          }),
                        ],
                        0
                      );
                    })(t.name, t.voteCount, e);
                  case "voter":
                    if ("loading" === this.props.pollResults) return;
                    var i = t.jidOrMe,
                      r = t.ts;
                    return (function (t, e, i, r) {
                      var n = "@me" === e ? Nd.b : (0, c.c)(e, t),
                        a = (0, s.b)(2, o.a, { unix: i });
                      return (0, s.b)(2, y.f, {
                        contact: n,
                        selected: r,
                        rawSubtitle: a,
                      });
                    })(this.props.contacts, i, r, e);
                  case "noVotes":
                    return (function (t) {
                      return (0, s.b)(2, y.k, {
                        selected: t,
                        children: (0, s.b)(2, o.b, {
                          l10n: 676,
                          className: "Pa FW FS",
                        }),
                      });
                    })(e);
                  case "expandVotes":
                    var n = t.optionIndex;
                    return (0, s.b)(2, WO, {
                      optionIndex: n,
                      selected: e,
                      onSelect: this.expandOptionVotes,
                    });
                  case "leftGroupWarning":
                    return (function (t) {
                      var e = (0, s.b)(2, aa);
                      return (0, s.b)(2, y.j, {
                        selected: t,
                        icon: e,
                        title: 681,
                        danger: "amber",
                      });
                    })(e);
                  default:
                    return (
                      t.type,
                      (function (t, e) {
                        var i = t.name,
                          r = (0, Pd.e)(i);
                        return (0, s.b)(2, y.k, {
                          selected: e,
                          children: (0, s.f)(
                            1,
                            "div",
                            null,
                            [
                              (0, s.f)(
                                1,
                                "div",
                                VO,
                                (0, s.b)(2, o.b, { l10n: 677 }),
                                2
                              ),
                              (0, s.b)(2, ut.a, {
                                truncated: !1,
                                isUsingMoreLabel: !0,
                                textClassName: KO,
                                maxLineClassName: KO,
                                children: (0, h.d)(i, r),
                              }),
                            ],
                            4
                          ),
                        });
                      })(this.props.pollMsgContent, e)
                    );
                }
              }),
              (this.expandOptionVotes = (t) => {
                var e = this.state.expandedOptions;
                if (!e.has(t)) {
                  var i = new Set(e);
                  return i.add(t), this.setState({ expandedOptions: i });
                }
              }),
              t
            );
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = this.props,
              e = t.pollMsgContent,
              i = t.pollResults,
              r = t.readOnly,
              n = this.state.expandedOptions,
              a = this.getMemoizedItems(e, i, n, r),
              l = (0, s.b)(2, o.b, { l10n: 678 });
            return (0, s.b)(2, S.a, {
              title: l,
              children: (0, s.b)(2, g.a, {
                items: a,
                keyOf: jO,
                renderItem: this.Ia,
              }),
            });
          }
        },
        WO = class extends d.b {
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.optionIndex !== t.optionIndex ||
                i.selected !== t.selected ||
                i.onSelect !== t.onSelect)
            );
          }
          addSoftKeys(t) {
            t.setCenterLabel(930, () => {
              var t = this.props;
              (0, t.onSelect)(t.optionIndex);
            });
          }
          render() {
            var t = (0, s.b)(2, w.a);
            return (0, s.b)(2, y.j, {
              selected: this.props.selected,
              title: 679,
              icon: t,
            });
          }
        };
      function HO(t, e, i, r) {
        var s = [];
        r && s.push({ type: "leftGroupWarning", key: "w" });
        var n = t.options,
          a = t.pollVotes,
          l = null == a ? void 0 : a.voteCounts;
        s.push({ type: "pollName", key: "p" });
        for (var o = 0; o < n.length; o++) {
          var u;
          if (
            (s.push({
              type: "optionName",
              key: "o" + o,
              name: n[o],
              optionIndex: o,
              voteCount: null != (u = null == l ? void 0 : l.get(o)) ? u : 0,
            }),
            "loading" !== e)
          ) {
            var h = e[o];
            if (null != h) {
              var c = h.length;
              if (0 !== c) {
                for (var d = i.has(o) ? c : Math.min(5, c), v = 0; v < d; v++) {
                  var p = h[v],
                    f = p.ts,
                    m = p.author;
                  s.push({
                    type: "voter",
                    key: `v${o}-${v}`,
                    jidOrMe: m,
                    ts: f,
                    optionIndex: o,
                    authorIndex: v,
                  });
                }
                d < c &&
                  s.push({ type: "expandVotes", key: "e" + o, optionIndex: o });
              } else s.push({ type: "noVotes", key: "n" + o, optionIndex: o });
            }
          }
        }
        return s;
      }
      var JO = (0, l.c)((0, d.e)(BO), (t, e, i) => {
          var r = i.pollMeta,
            s = r.chatId,
            n = r.ts;
          return Object.assign({}, i, {
            contacts: t.contacts,
            readOnly: na(t, s, n),
          });
        }),
        $O = class extends n.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Gl = (t) => {
                var e = this.props,
                  i = e.category,
                  r = e.backend;
                switch (i) {
                  case "groupAdd":
                    r.updateGeneralSettings({
                      groupAdd: "contact_blacklist",
                      groupAddBlacklist: t,
                    });
                    break;
                  case "about":
                    r.updateGeneralSettings({
                      about: "contact_blacklist",
                      aboutBlacklist: t,
                    });
                    break;
                  case "lastSeen":
                    r.updateGeneralSettings({
                      lastSeen: "contact_blacklist",
                      lastSeenBlacklist: t,
                    });
                    break;
                  case "profilePhoto":
                    r.updateGeneralSettings({
                      profilePhoto: "contact_blacklist",
                      profilePhotoBlacklist: t,
                    });
                    break;
                  default:
                    (0, m.a)(i);
                }
                r.goBack();
              }),
              (this.Gm = (t) => {
                var e = this.props,
                  i = e.backend,
                  r = e.blacklist;
                (0, W.b)((0, W.c)(r), t)
                  ? i.goBack()
                  : (0, b.g)({
                      title: 845,
                      text: 844,
                      left: 876,
                      onSoftLeft: () => {
                        i.goBack();
                      },
                      right: 928,
                      onSoftRight: () => {
                        this.Gl(t);
                      },
                    });
              }),
              (this.Gn = (t) =>
                t > 0
                  ? (0, s.b)(2, o.b, { l10n: [t, 245] })
                  : (0, s.b)(2, o.b, { l10n: 801 })),
              t
            );
          }
          shouldComponentUpdate(t, e) {
            var i = this.props;
            return (
              i !== t &&
              (i.category !== t.category || i.blacklist !== t.blacklist)
            );
          }
          render() {
            return (0, s.b)(2, J, {
              defaultSelectedContacts: this.props.blacklist,
              renderTitle: this.Gn,
              done: 928,
              onDone: this.Gl,
              onCancel: this.Gm,
              selectAll: !0,
              allowEmpty: !0,
              allowUnchanged: !0,
            });
          }
        },
        YO = (0, l.f)(
          $O,
          (t, e) => ({
            category: e.category,
            settings: t.settings[e.category],
            blacklist: e.blacklist,
          }),
          (t, e) => ({
            category: t.category,
            blacklist: new Set(t.blacklist),
            backend: e,
          })
        ),
        qO = class extends d.a {
          constructor() {
            var t;
            return (
              (t = super(...arguments)),
              (this.Fx = (t, e) => {
                var i = (0, B.g)(t),
                  r = e.filter((t) => {
                    switch (t) {
                      case "footer":
                        return !0;
                      case "emptySearchWithFooter":
                        return !1;
                      default:
                        return (
                          "@me" !== t.jid &&
                          (0, B.a)((0, c.c)(t.jid, this.props.contacts), i)
                        );
                    }
                  });
                return r.length > 1 ? r : ["emptySearchWithFooter"];
              }),
              (this.Fy = (t, e) => {
                switch (t) {
                  case "footer":
                    return (0, s.b)(2, ek, { selected: e });
                  case "emptySearchWithFooter":
                    return (0, s.b)(2, ek, {
                      selected: e,
                      withEmptyResult: !0,
                    });
                  default:
                    return (0, s.b)(2, ZO, {
                      contacts: this.props.contacts,
                      selected: e,
                      participant: t,
                    });
                }
              }),
              t
            );
          }
          addSoftKeys(t) {
            t.setLeftAsBack();
          }
          render() {
            var t = this.props.pastParticipants;
            if (!t) return null;
            var e = { filter: this.Fx, emptyLabel: 258 };
            return (0, s.b)(2, S.a, {
              title: (0, s.b)(2, o.b, { l10n: 663 }),
              children: (0, s.b)(2, g.c, {
                items: t,
                keyOf: QO,
                search: e,
                estimatedItemHeight: D.d,
                renderItem: this.Fy,
              }),
            });
          }
        },
        XO = (0, l.f)(
          (0, d.e)(qO),
          (t, e) => ({ chat: e.chat, contacts: t.contacts }),
          (t, e) => {
            var i;
            return {
              pastParticipants: [
                ...(null != (i = zd(t.chat.groupInfo)) ? i : []),
                "footer",
              ],
              contacts: t.contacts,
              backend: e,
            };
          }
        );
      function QO(t) {
        switch (t) {
          case "footer":
          case "emptySearchWithFooter":
            return t;
          default:
            return t.jid;
        }
      }
      function ZO(t) {
        var e = t.contacts,
          i = t.selected,
          r = t.participant,
          n = r.jid,
          a = r.exitTime,
          l = r.reason,
          o = "@me" === n ? Nd.b : (0, c.c)(n, e);
        return (0, s.b)(2, y.f, {
          contact: o,
          selected: i,
          subtitle: tk(l, a, n),
        });
      }
      function tk(t, e, i) {
        var r = "@me" === i,
          n =
            "leave" === t
              ? r
                ? (0, s.b)(2, o.b, { l10n: 660 })
                : (0, s.b)(2, o.b, { l10n: 658 })
              : r
              ? (0, s.b)(2, o.b, { l10n: 661 })
              : (0, s.b)(2, o.b, { l10n: 659 }),
          a = (0, Ce.i)(e, "time");
        switch ((0, Ce.d)(e)) {
          case "TODAY":
            return [n, a, 209];
          case "YESTERDAY":
            return [n, a, 210];
          default:
            return [n, (0, Ce.i)(e, "date"), a, 208];
        }
      }
      var ek = class extends cr.b {
        addSoftKeys(t, e) {
          t.setCenterLabel(891, () => (0, _.E)(e, _.v));
        }
        render() {
          return (0, s.c)(
            [
              this.props.withEmptyResult &&
                (0, s.f)(1, "div", "BX Fy", (0, s.b)(2, o.b, { l10n: 258 }), 2),
              (0, s.b)(2, y.a, {
                subtitle: 662,
                selected: this.props.selected,
              }),
            ],
            0
          );
        }
      };
      function ik(t) {
        var e = t.id,
          i = t.screen,
          r = t.isActiveScreen;
        switch (i.type) {
          case "NEW_CHAT":
            return (0, s.b)(2, vm);
          case "ADD_GROUP_PARTICIPANTS":
            return (0, s.i)((0, s.b)(2, tt, Object.assign({}, i.props)));
          case "NEW_GROUP_INITIAL":
            return (0, s.i)(
              (0, s.b)(2, km, Object.assign({ screenId: e }, i.props))
            );
          case "NEW_GROUP_EDIT":
            return (0, s.i)((0, s.b)(2, gm, Object.assign({}, i.props)));
          case "SETTINGS":
            return (0, s.b)(2, VS);
          case "SETTINGS_PROFILE":
            return (0, s.b)(2, fg);
          case "SETTINGS_ACCOUNT":
            return (0, s.b)(2, C);
          case "SETTINGS_COMPANION_DEVICES":
            return null;
          case "SETTINGS_PRIVACY":
            return (0, s.i)((0, s.b)(2, Vm, Object.assign({}, i.props)));
          case "SETTINGS_GROUP_ADD_BLACKLIST":
            return (0, s.i)((0, s.b)(2, Iy, Object.assign({}, i.props)));
          case "SETTINGS_PRIVACY_ADD_BLACKLIST":
            return (0, s.i)((0, s.b)(2, YO, Object.assign({}, i.props)));
          case "SETTINGS_CHATS":
            return (0, s.b)(2, ne);
          case "SETTINGS_CHATS_BACKGROUND_COLOR":
            return (0, s.i)((0, s.b)(2, Se, Object.assign({}, i.props)));
          case "SETTINGS_HELP":
            return (0, s.b)(2, rp);
          case "SETTINGS_LANGUAGE":
            return null;
          case "MY_QR_CODE":
            return (0, s.b)(2, Qp);
          case "SETTINGS_INTERNAL":
            return null;
          case "HELP_LICENSES":
            return (0, s.b)(2, af);
          case "HELP_CONTACT_US":
            return (0, s.i)((0, s.b)(2, mr.a, Object.assign({}, i.props)));
          case "MSG_INFO":
            return (0, s.i)((0, s.b)(2, zf, Object.assign({}, i.props)));
          case "ABOUT_CONTENT":
            return (0, s.i)((0, s.b)(2, p, Object.assign({}, i.props)));
          case "CONTACT_INFO":
            return (0, s.i)((0, s.b)(2, ti, Object.assign({}, i.props)));
          case "CONTACT_INFO_GROUPS":
            return (0, s.i)((0, s.b)(2, Si, Object.assign({}, i.props)));
          case "BUSINESS_DETAILS":
            return (0, s.i)((0, s.b)(2, fr, Object.assign({}, i.props)));
          case "GALLERY_MEDIA":
            return (0, s.i)((0, s.b)(2, pd, Object.assign({}, i.props)));
          case "GALLERY_MEDIA_FOR_STORAGE_SETTING":
            return (0, s.i)((0, s.b)(2, fd, Object.assign({}, i.props)));
          case "GROUP_INFO":
            return (0, s.i)((0, s.b)(2, Xd, Object.assign({}, i.props)));
          case "GROUP_INFO_CHANGE_SUBJECT":
            return (0, s.i)((0, s.b)(2, Cv, Object.assign({}, i.props)));
          case "GROUP_INFO_CHANGE_DESCRIPTION":
            return (0, s.i)((0, s.b)(2, Ov, Object.assign({}, i.props)));
          case "GROUP_INFO_PARTICIPANTS":
            return (0, s.i)((0, s.b)(2, Av, Object.assign({}, i.props)));
          case "GROUP_INFO_PAST_PARTICIPANTS":
            return (0, s.i)((0, s.b)(2, XO, Object.assign({}, i.props)));
          case "GROUP_INFO_INVITATIONS":
            return (0, s.i)((0, s.b)(2, Iv, Object.assign({}, i.props)));
          case "GROUP_INVITE_LINK":
            return (0, s.i)((0, s.b)(2, nf, Object.assign({}, i.props)));
          case "GROUP_INVITE_LINK_QR_SCREEN":
            return (0, s.i)((0, s.b)(2, Zp, Object.assign({}, i.props)));
          case "EPHEMERAL_SETTINGS":
            return (0, s.i)((0, s.b)(2, mp, Object.assign({}, i.props)));
          case "EPHEMERAL_NUX":
            return (0, s.i)(
              (0, s.b)(2, Cp, Object.assign({ screenId: e }, i.props))
            );
          case "VIEW_ONCE_NUX":
            return (0, s.i)((0, s.b)(2, Ap, Object.assign({}, i.props)));
          case "DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS":
            return (0, s.i)((0, s.b)(2, Dp, Object.assign({}, i.props)));
          case "GROUP_SETTINGS":
            return (0, s.i)((0, s.b)(2, Vv, Object.assign({}, i.props)));
          case "GROUP_SETTINGS_EDIT_INFO":
            return (0, s.i)((0, s.b)(2, Yv, Object.assign({}, i.props)));
          case "ADD_COMPANION_DEVICE":
            return null;
          case "IDENTITY_VERIFICATION_SCREEN":
            return (0, s.i)((0, s.b)(2, Yp, Object.assign({}, i.props)));
          case "IDENTITY_VERIFICATION_SCAN_CODE_SCREEN":
            return (0, s.i)((0, s.b)(2, qp, Object.assign({}, i.props)));
          case "SPINNER_SCREEN":
            return (0, s.i)((0, s.b)(2, By.a, Object.assign({}, i.props)));
          case "BLOCKED_CONTACTS":
            return (0, s.i)((0, s.b)(2, kt, Object.assign({}, i.props)));
          case "BLOCK_CONTACT":
            return (0, s.b)(2, _t);
          case "FORWARD_SCREEN":
            return (0, s.i)((0, s.b)(2, Pc, Object.assign({}, i.props)));
          case "SEND_MEDIA_SELECT_CHAT_SCREEN":
            return (0, s.i)((0, s.b)(2, GS, Object.assign({}, i.props)));
          case "SHARE_SCREEN":
            return (0, s.i)((0, s.b)(2, Dy, Object.assign({}, i.props)));
          case "SHARE_TEXT_SCREEN":
            return (0, s.i)((0, s.b)(2, Vy, Object.assign({}, i.props)));
          case "SHARE_TEXT_MULTIPLE_SCREEN":
            return (0, s.i)((0, s.b)(2, jy, Object.assign({}, i.props)));
          case "DELETE_ACCOUNT":
            return (0, s.i)(
              (0, s.b)(2, _O, Object.assign({ screenId: e }, i.props))
            );
          case "DELETE_ACCOUNT_COUNTRY_SELECTOR":
            return (0, s.i)((0, s.b)(2, bO, Object.assign({}, i.props)));
          case "MEDIA_EDITOR":
            return (0, s.i)((0, s.b)(2, SO, Object.assign({}, i.props)));
          case "IMAGE_VIEW":
            return (0, s.i)((0, s.b)(2, dt, Object.assign({}, i.props)));
          case "MSG_IMAGE_VIEW":
            return (0, s.i)((0, s.b)(2, df, Object.assign({}, i.props)));
          case "MSG_STICKER_VIEW":
            return (0, s.i)((0, s.b)(2, yf, Object.assign({}, i.props)));
          case "AVATAR_IMAGE_VIEW":
            return (0, s.i)((0, s.b)(2, gt, Object.assign({}, i.props)));
          case "VCARD_CONTACTS":
            return (0, s.i)((0, s.b)(2, pw, Object.assign({}, i.props)));
          case "MEDIA_DRAWER":
            return (0, s.i)((0, s.b)(2, $c, Object.assign({}, i.props)));
          case "SHARE_CONTACTS":
            return (0, s.i)((0, s.b)(2, Py, Object.assign({}, i.props)));
          case "OUT_OF_SPACE_RECOVERY":
            return (0, s.b)(2, Mm);
          case "SEND_LOCATION":
            return (0, s.i)((0, s.b)(2, NS, Object.assign({}, i.props)));
          case "MESSAGE_ADMIN":
            return (0, s.i)((0, s.b)(2, of, Object.assign({}, i.props)));
          case "SEND_GIF":
            return (0, s.i)(
              (0, s.b)(2, lS, Object.assign({}, i.props, { isActiveScreen: r }))
            );
          case "GIF_SEARCH":
            return (0, s.i)((0, s.b)(2, dS, Object.assign({}, i.props)));
          case "GIF_RESULTS":
            return (0, s.i)((0, s.b)(2, mS, Object.assign({}, i.props)));
          case "SEND_MEDIA":
            return (0, s.i)((0, s.b)(2, US, Object.assign({}, i.props)));
          case "SEND_PLACE":
            return null;
          case "SETTINGS_NOTIFICATIONS":
            return (0, s.b)(2, Oy);
          case "SETTINGS_DATA":
            return (0, s.b)(2, ZS);
          case "SETTINGS_STORAGE":
            return (0, s.b)(2, cy);
          case "USER_NOTICE_DEEP_LINK_MODAL":
            return (0, s.i)((0, s.b)(2, qm, Object.assign({}, i.props)));
          case "SETTINGS_STORAGE_CHATS":
            return (0, s.b)(2, yy);
          case "REQUEST_ACCOUNT_INFO":
            return (0, s.b)(2, Xp);
          case "GEOLOCATION_SETTINGS":
            return (0, s.i)((0, s.b)(2, yd, Object.assign({}, i.props)));
          case "DEBUG":
          case "DEBUG_LOGS":
          case "DEBUG_OVERRIDE_ABPROPS":
          case "DEBUG_USER_NOTICE":
            return null;
          case "TWO_FACTOR_SETUP":
            return (0, s.b)(2, dw);
          case "STATUS_READ_ME":
            return (0, s.i)(
              (0, s.b)(2, Pb, Object.assign({}, i.props, { isActiveScreen: r }))
            );
          case "STATUS_READ_OTHERS":
            return (0, s.i)(
              (0, s.b)(2, Gb, Object.assign({}, i.props, { isActiveScreen: r }))
            );
          case "STATUS_REPLY":
            return (0, s.i)(
              (0, s.b)(2, Jb, Object.assign({ screenId: e }, i.props))
            );
          case "FEATURED_MESSAGES":
            return (0, s.i)(
              (0, s.b)(2, Jy, Object.assign({}, i.props, { isActiveScreen: r }))
            );
          case "CALL_LOG_INFO":
            return (0, s.i)(
              (0, s.b)(2, Rt, Object.assign({}, i.props), i.type)
            );
          case "NEW_CALL":
            return (0, s.b)(2, im, null, i.type);
          case "STATUS_WHITELIST":
            return (0, s.i)((0, s.b)(2, Ex, Object.assign({}, i.props)));
          case "STATUS_BLOCKLIST":
            return (0, s.i)((0, s.b)(2, Nx, Object.assign({}, i.props)));
          case "STATUS_SEND_TEXT":
            return (0, s.b)(2, ex);
          case "STATUS_SEND_VOICE":
            return (0, s.b)(2, ux);
          case "STATUS_MUTED_LIST":
            return (0, s.b)(2, n_);
          case "COMMUNITY_HOME":
            return (0, s.i)((0, s.b)(2, LO, Object.assign({}, i.props)));
          case "KEEP_IN_CHAT_NUX":
            return (0, s.i)((0, s.b)(2, zO, Object.assign({}, i.props)));
          case "POLL_RESULTS":
            return (0, s.i)((0, s.b)(2, JO, Object.assign({}, i.props)));
          default:
            return (
              i.type, (0, s.i)((0, s.b)(2, mx, Object.assign({}, i.props)))
            );
        }
      }
    },
  },
]);

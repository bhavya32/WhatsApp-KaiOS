"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[193],{735:function(e,n,r){function a(e,n,r){return new Promise(a=>{var s=document.createElement("canvas");s.width=n,s.height=2*r;var t=s.getContext("2d",{willReadFrequently:!0});t.drawImage(e,0,0,n,r);for(var i=t.getImageData(0,0,n,2*r),o=n*r*4,c=0;c<o;c+=4)i.data[o+c]=i.data[c+3],i.data[o+c+1]=i.data[c+3],i.data[o+c+2]=i.data[c+3],i.data[o+c+3]=i.data[c+3];t.putImageData(i,0,0),s.toBlob(e=>{a(e)},"image/jpeg",.8)})}r.r(n),r.d(n,"processWebpToCanvas",(function(){return t}));var s=new(r(316).a)(5);function t(e,n,r,t){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];__LOG__(2)`WebP: processing webp as device doesn't support Webp natively`;var o=s.get(e);return null==o&&(o=t.sendAndReceive("backend","decodeWebPImage",{buffer:r,scaleCount:i?2:1}),s.set(e,o)),o.then(e=>{performance.now(),n.width=e.width,n.height=e.height;var r=new ImageData(new Uint8ClampedArray(e.rgba),e.width,e.height);return n.getContext("2d").putImageData(r,0,0),i?a(n,e.width,e.height):null}).then(n=>(null!=n&&t.saveAlphaJpegStickerBlob(e,n),!0)).catch(e=>(__LOG__(4)`Stickers processing failed with the message: ${e}.`,SEND_LOGS("webp-processing-failed"),!1))}}}]);
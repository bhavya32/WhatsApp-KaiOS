"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[25],{596:function(n,r,i){i.r(r),i.d(r,"revokeGroupInvitations",(function(){return k}));var t=i(30),o=i(4),e=i(88),u=i(51),a=i(39),v=i(16),f=i(22),d=i(72),s={404:(0,d.c)("no-invitation")},p=new u.a("revokeGroupInvitations",n=>({id:n.attrString("id"),participants:n.child("revoke").mapChildren(n=>{var r=(0,d.e)(n,s);return{jid:n.attrPhoneUserJid("jid"),error:r}})})),c={401:(0,d.d)("not-an-admin"),403:(0,d.d)("not-in-group"),404:(0,d.d)("group-not-found"),500:(0,d.d)("unknown")};function k(n,r){var i=(0,o.w)("iq",{to:(0,o.g)(n),type:"set",xmlns:"w:g2",id:(0,o.u)()},(0,o.w)("revoke",null,r.map(n=>(0,o.w)("participant",{jid:(0,o.g)(n.jid)}))));return(0,t.b)(i,p).then(i=>{if(!i.success)return(0,d.f)(i,c);var t=i.result,o=[],e=[];return t.participants.forEach(n=>{var i=r.find(r=>r.jid===n.jid);if(!i)return __LOG__(3)`Invitation not found for ${n.jid}`,void SEND_LOGS("invitation-not-found");n.error&&e.push({jid:n.jid,error:n.error}),o.push(i)}),Promise.resolve(o.length>0&&(0,f.Ub)(n,o)).then(()=>{if(e.length)return(0,a.b)().waitUntilPersisted(v.e.queryGroup(n))}).then(()=>({failures:e}))})}r.default=(0,e.c)().finalStep("revokeGroupInvitations",n=>k(n.groupJid,n.invitations)).end()}}]);
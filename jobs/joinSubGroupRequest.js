"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[98],{540:function(r,e,n){n.d(e,"a",(function(){return u}));var t=n(28),o=n(29);function u(r){var e=(0,o.a)(r,"error");if(!e.success)return e;var n=(0,o.l)(o.e,r,"text","not-allowed");if(!n.success)return n;var u=(0,o.l)(o.e,r,"code","405");return u.success?(0,t.c)({text:n.value,code:u.value}):u}},715:function(r,e,n){n.r(e);var t=n(88),o=n(72),u=n(26),i=n.n(u),a=n(30),v=n(28),c=n(526),f=n(29),s=n(563),d=n(559),l=n(565),p=n(561),m=n(540);function E(r,e){var n=(0,f.a)(r,"iq");if(!n.success)return n;var t=(0,f.k)(r,"error");if(!t.success)return t;var o=(0,c.a)(r,e);if(!o.success)return o;var u=(function(r){var e=(0,s.a)(r);if(e.success)return(0,v.c)({name:"IQErrorBadRequest",value:e.value});var n=(0,l.a)(r);if(n.success)return(0,v.c)({name:"IQErrorForbidden",value:n.value});var t=(0,p.a)(r);if(t.success)return(0,v.c)({name:"IQErrorItemNotFound",value:t.value});var o=(0,m.a)(r);if(o.success)return(0,v.c)({name:"IQErrorNotAllowed",value:o.value});var u=(function(r){var e=(0,f.a)(r,"error");if(!e.success)return e;var n=(0,f.l)(f.e,r,"text","conflict");if(!n.success)return n;var t=(0,f.l)(f.e,r,"code","409");return t.success?(0,v.c)({text:n.value,code:t.value}):t})(r);if(u.success)return(0,v.c)({name:"IQErrorConflict",value:u.value});var i=(function(r){var e=(0,f.a)(r,"error");if(!e.success)return e;var n=(0,f.l)(f.e,r,"text","resource-limit");if(!n.success)return n;var t=(0,f.l)(f.e,r,"code","419");return t.success?(0,v.c)({text:n.value,code:t.value}):t})(r);if(i.success)return(0,v.c)({name:"IQErrorResourceLimit",value:i.value});var a=(0,d.a)(r);if(a.success)return(0,v.c)({name:"IQErrorFallbackClient",value:a.value});var c=(function(r){var e=(0,f.a)(r,"error");if(!e.success)return e;var n=(0,f.l)(f.e,r,"text","not-authorized");if(!n.success)return n;var t=(0,f.l)(f.e,r,"code","401");return t.success?(0,v.c)({text:n.value,code:t.value}):t})(r);if(c.success)return(0,v.c)({name:"IQErrorNotAuthorized",value:c.value});var E=(function(r){var e=(0,f.a)(r,"error");if(!e.success)return e;var n=(0,f.l)(f.e,r,"text","upgrade-required");if(!n.success)return n;var t=(0,f.l)(f.e,r,"code","426");return t.success?(0,v.c)({text:n.value,code:t.value}):t})(r);if(E.success)return(0,v.c)({name:"IQErrorUpgradeRequired",value:E.value});var I=(function(r){var e=(0,f.a)(r,"error");if(!e.success)return e;var n=(0,f.l)(f.e,r,"text","already-exists");if(!n.success)return n;var t=(0,f.l)(f.e,r,"code","304");return t.success?(0,v.c)({text:n.value,code:t.value}):t})(r);return I.success?(0,v.c)({name:"IQErrorAlreadyExists",value:I.value}):(0,f.j)(r,["IQErrorBadRequest","IQErrorForbidden","IQErrorItemNotFound","IQErrorNotAllowed","IQErrorConflict","IQErrorResourceLimit","IQErrorFallbackClient","IQErrorNotAuthorized","IQErrorUpgradeRequired","IQErrorAlreadyExists"],[e,n,t,o,u,i,a,c,E,I])})(t.value);return u.success?(0,v.c)(Object.assign({},o.value,{errorJoinLinkedGroupClientErrors:u.value})):u}var I=n(527);function Q(r,e){var n=(0,f.a)(r,"iq");if(!n.success)return n;var t=(0,f.k)(r,"membership_approval_request");if(!t.success)return t;var o=(0,I.a)(r,e);return o.success,o}var q=n(544);function x(r,e){var n=(0,f.a)(r,"iq");if(!n.success)return n;var t=(0,q.a)(r,e);return t.success,t}function R(r,e){var n=(0,f.a)(r,"iq");if(!n.success)return n;var t=(0,I.a)(r,e);return t.success,t}var k=n(193),G=n(294),J=n(4);function L(r){var e=r.joinLinkedGroupType,n=r.joinLinkedGroupJid;return(function(r,e){var n=(function(r){var e=r.iqTo;return(function(r){var e=(0,k.a)("iq",{id:(0,J.u)(),type:"set"});return(0,G.a)(r,e)})((0,k.a)("iq",{to:(0,J.d)(e),xmlns:"w:g2"}))})(e);return(0,G.a)(r,n)})((0,k.a)("iq",null,(0,k.a)("join_linked_group",{type:(0,J.b)(e),jid:(0,J.d)(n)})),r)}var y=n(375),b=n(376);function g(){return(g=i()((function*(r,e){var n=L(r),t=yield(0,a.k)(n,e),o=Q(t,n);if(o.success)return{name:"JoinLinkedGroupResponseGroupJoinRequestSuccess",value:o.value};var u=R(t,n);if(u.success)return{name:"JoinLinkedGroupResponseSuccess",value:u.value};var i=E(t,n);if(i.success)return{name:"JoinLinkedGroupResponseClientError",value:i.value};var v=x(t,n);if(v.success)return{name:"JoinLinkedGroupResponseServerError",value:v.value};throw new y.a((0,b.a)("JoinLinkedGroup",{GroupJoinRequestSuccess:o,Success:u,ClientError:i,ServerError:v}))}))).apply(this,arguments)}var h={403:(0,o.d)("not-community-member"),404:(0,o.d)("group-not-found"),405:(0,o.d)("not-community-group"),419:(0,o.d)("too-many-participants"),409:(0,o.d)("conflict")};e.default=(0,t.c)().finalStep("join",r=>{var e=r.parentGroupJid,n=r.subGroupJid;return(function(r,e){return g.apply(this,arguments)})({iqTo:e,joinLinkedGroupType:r.isDefaultGroup?"default_sub_group":"sub_group",joinLinkedGroupJid:n}).then(r=>{switch(r.name){case"JoinLinkedGroupResponseSuccess":case"JoinLinkedGroupResponseGroupJoinRequestSuccess":return"success";case"JoinLinkedGroupResponseClientError":var e=r.value.errorJoinLinkedGroupClientErrors;return(0,o.g)(e,h);default:return r.name,r.value.errorServerErrors,(0,o.d)("unknown")}})}).end()}}]);
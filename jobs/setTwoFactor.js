"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[148],{672:function(a,e,r){r.r(e),r.d(e,"changeTwoFactorPin",(function(){return f})),r.d(e,"changeTwoFactorEmail",(function(){return s}));var n=r(30),t=r(4),o=r(51),i=r(88),c=r(313),l=r(6),u=new o.a("setTwoFactor",a=>{});e.default=(0,i.c)().finalStep("setTwoFactor",a=>{var e=a.pin,r=a.email;return(0,n.b)(w(e.join(""),r),u).then(a=>{if(!a.success)throw new Error(`Failed to set 2fa: ${a.errorCode} ${a.errorText}`);var n=null!=r;__LOG__(2)`Successfully set 2fa ${n?"with":"without"} email`,(0,c.b)(e,0,n)})}).end();var f=(0,i.c)().finalStep("changeTwoFactorPin",a=>{var e=a.pin;return(0,n.b)(w(e.join("")),u).then(a=>{if(!a.success)throw new Error(`Failed to change 2fa pin: ${a.errorCode} ${a.errorText}`);__LOG__(2)`Successfully changed 2fa pin`,(0,c.f)(e,0)})}).end(),s=(0,i.c)().finalStep("changeTwoFactorEmail",a=>{var e=a.email,r=l.O.get();return"disabled"===r.status?(__LOG__(4)`Unable to change 2fa email : two factor is disabled`,Promise.resolve()):(0,n.b)(w(r.pin,e),u).then(a=>{if(!a.success)throw new Error(`Failed to change 2fa email: ${a.errorCode} ${a.errorText}`);__LOG__(2)`Successfully changed 2fa email`,(0,c.d)()})}).end();function w(a,e){var r=[(0,t.w)("code",null,a)];return null!=e&&r.push((0,t.w)("email",null,e)),(0,t.w)("iq",{to:t.l,type:"set",xmlns:"urn:xmpp:whatsapp:account",id:(0,t.u)()},new t.o("2fa",void 0,r))}}}]);
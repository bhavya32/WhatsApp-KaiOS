"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[95],{688:function(t,e,r){r.r(e),r.d(e,"getOwnAbout",(function(){return f})),r.d(e,"getUserAbout",(function(){return l}));var n=r(30),u=r(4),o=r(51),s=r(6),a=r(88),i=r(232),c=new o.a("getAbout",t=>{if(t.hasChild("status")&&t.child("status").hasChild("user")){var e=t.child("status").child("user");return"fail"===e.maybeAttrString("type")?{type:"fail",code:e.attrInt("code")}:e.hasAttr("t")?{type:"ok",content:e.contentString(),ts:e.attrTime("t")}:{type:"empty"}}return{type:"fail",code:304}}),f=(0,a.c)().finalStep("getOwnAbout",()=>{return(t=s.t.get(),(0,n.b)((function(t){return(0,u.w)("iq",{to:u.l,type:"get",xmlns:"status",id:(0,u.u)()},(0,u.w)("status",null,(0,u.w)("user",{jid:(0,u.g)(t)})))})(t),c).then(t=>{if(!t.success)throw t.errorCode,new Error(`Failed to get about Message: ${t.errorCode} ${t.errorText}`);var e=t.result;return __LOG__(2)`getAbout: response ${e.type} code ${"fail"===e.type?e.code:"-"}`,t.result})).then(t=>{switch(t.type){case"ok":return s.a.set(t.content).then(()=>{});case"empty":return __LOG__(3)`Empty status received for own`,s.a.set(null).then(()=>{});default:return t.type,void __LOG__(2)`getOwnAbout: unhandled response code ${t.code}, not saving it to InfoStore`}});var t}).end(),l=(0,a.c)().finalStep("getUserAbout",t=>{var e=t.jid;return(0,i.statusQuerySync)([e]).then(()=>{})}).end()}}]);
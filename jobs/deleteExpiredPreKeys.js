"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[87],{667:function(e,r,t){t.r(r),t.d(r,"deleteExpiredPreKeys",(function(){return f}));var i=t(88),n=t(41),a=t(3),f=(0,i.c)().finalStep("deleteExpiredPreKeys",e=>{var r=e.expirationDays*a.b;return(0,n.t)().then(e=>{var t=-1;if(e.forEach(e=>{(0,a.m)(e.timestamp,r)||(t=Math.max(t,e.generation-2))}),!(t<0)){var i=-1;if(e.forEach(e=>{e.generation<=t&&(i=Math.max(i,e.lastPreKeyId))}),!(i<0))return(0,n.j)(i)}})}).end()}}]);
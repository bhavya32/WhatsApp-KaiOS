"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[77],{642:function(r,a,t){t.r(a);var i=t(30),e=t(4),n=t(6),d=t(88),o=t(51),u=t(39),p=t(16),s=t(72),l=t(186),c={401:(0,s.c)("add-not-allowed"),406:(0,s.c)("business-not-allowed"),408:(0,s.c)("user-left-recently"),409:(0,s.c)("already-in-group"),500:(0,s.c)("too-many-participants"),403:(0,s.b)("add-request-required",r=>{var a=r.child("add_request");return{code:a.attrString("code"),expiration:a.attrTime("expiration")}})},f=new o.a("addGroupParticipantsReplyParser",r=>({id:r.attrString("id"),participants:r.child("add").mapChildren(r=>{var a=(0,s.e)(r,c);return{jid:r.attrPhoneUserJid("jid"),error:a}})})),y={401:(0,s.d)("not-an-admin"),403:(0,s.d)("not-in-group"),404:(0,s.d)("group-not-found"),429:(0,s.d)("rate-limit"),500:(0,s.d)("unknown")};a.default=(0,d.c)().finalStep("addGroupParticipants",(r,a,t)=>{var d=t.jobStartTime,o=r.groupJid,c=r.participants,g=(0,e.w)("iq",{to:(0,e.g)(o),type:"set",xmlns:"w:g2",id:(0,e.u)()},(0,e.w)("add",null,c.map(r=>(0,e.w)("participant",{jid:(0,e.g)(r)}))));return(0,i.b)(g,f).then(r=>{if(!r.success)return(0,s.f)(r,y);var a=r.result,t=[],i=[];return a.participants.forEach(r=>{r.error&&"already-in-group"!==r.error.reason?i.push({jid:r.jid,error:r.error}):t.push(r.jid)}),(0,l.o)("add",o,{id:a.id,participants:t,author:n.t.get(),ts:d}).then(()=>{if(i.length)return(0,u.b)().waitUntilPersisted(p.e.queryGroup(o))}).then(()=>({failures:i}))})}).end()}}]);
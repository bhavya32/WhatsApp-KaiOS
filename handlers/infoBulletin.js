"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[23],{595:function(e,i,n){n.r(i),n.d(i,"GROUPS_DIRTY_BIT",(function(){return _}));var t=n(114),r=n(39),o=n(16),l=n(6),u=n(33),s=n(3),f=n(22),a=n(304),d=n(212),_="groups",c=new t.b("incomingInfoBulletinParser",e=>{if(e.assertTag("ib"),e.assertFromServer(),e.hasChild("dirty")){var i=!1,n=[];return e.forEachChildWithTag("dirty",e=>{var t=e.attrString("type");t===_?i=!0:n.push(t)}),{type:"dirty",dirtyGroups:i,unsupportedDirtyBits:n}}if(e.hasChild("edge_routing"))return{type:"routing",edgeInfo:e.child("edge_routing").child("routing_info").contentBytes()};if(e.hasChild("client_expiration")){var t=e.child("client_expiration");return{type:"expiration",time:t.hasAttr("t")?t.attrTime("t"):null}}if(e.hasChild("notice")&&(0,d.b)()){var r=[];return e.forEachChildWithTag("notice",e=>{var i=e.attrInt("id"),n=e.attrTime("t"),t=e.attrInt("version"),o=(0,a.a)(e.attrInt("stage"));null!=o?r.push({id:i,state:o,ts:n,version:t}):__LOG__(3)`handleInfoBulletin: Received user notice IB containing notice with invalid state: "${o}"`}),{type:"notice",notices:r}}if(e.hasChild("tos")){var o=e.child("tos"),l=[];return o.forEachChildWithTag("notice",e=>{var i=e.attrInt("id");l.push(i)}),{type:"tos",notices:l}}return null});i.default=(0,t.c)("handleInfoBulletin",c,e=>{if(e)if("dirty"===e.type)(0,r.b)().fireAndForget(o.e.queryDirtyInfo(e.dirtyGroups,e.unsupportedDirtyBits));else if("routing"===e.type)l.F.set({edgeInfo:(0,u.b)(e.edgeInfo)}),__LOG__(2)`handleInfoBulletin setting edge info`;else if("expiration"===e.type){var i=e.time;if(null==i)l.H.delete();else{var n=l.H.get(),t=(0,s.k)(3*s.b);(null==n||i<n.time&&n.time>=t)&&l.H.set({version:"2.2245.7",time:i>t?i:t})}}else{if("notice"===e.type)return f.Fc(e.notices).then(()=>"NO_ACK");e.type,(0,r.b)().fireAndForget(o.e.updateTOSGatingAcceptanceStatus(e.notices))}else __LOG__(3)`handleInfoBulletin unrecognized info bulletin`;return"NO_ACK"})}}]);
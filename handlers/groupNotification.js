"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[60],{713:function(r,t,e){e.r(t),e.d(t,"parseGroupNotification",(function(){return Ir}));var n=e(12),i=e(2),a=e(54),o=e(6),u=e(22),c=e(10),p=e(186),f=1,v=e(28),d=e(29),s=e(374);function l(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,s.a)(r,"from");if(!e.success)return e;var n=(0,d.l)(d.e,r,"type","w:gp2");if(!n.success)return n;var i=(0,d.o)(d.e,r,"notify");if(!i.success)return i;var a=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.c)(r,"t",0,void 0);if(!e.success)return e;var n=(0,d.e)(r,"id");if(!n.success)return n;var i=(0,d.o)(d.c,r,"offline",0,1024);return i.success?(0,v.c)({t:e.value,id:n.value,offline:i.value}):i})(r);return a.success?(0,v.c)(Object.assign({from:e.value,type:n.value,notify:i.value},a.value)):a}var m=e(516),k=e(522);function h(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,d.l)(d.e,r,"addressable","false");return e.success?(0,v.c)({addressable:e.value}):e}function w(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"meta");if(!e.success)return e;var n=(0,d.l)(d.e,e.value,"shadow","true");return n.success?(0,v.c)({metaShadow:n.value}):n}function b(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,k.a)(r);if(!e.success)return e;var n=h(r);return(0,v.c)(Object.assign({},e.value,{participantNotAddressableMixin:n.success?n.value:null}))}var _=e(378),R=e(193),N=e(294),y=e(208),j=e(375),A=e(4);function g(r,t){var e=(function(r){var t=(0,y.a)(d.d,r,["id"]);if(!t.success)throw new j.a(t.error);var e=(0,y.a)(s.a,r,["from"]);if(!e.success)throw new j.a(e.error);var n=(0,y.a)(d.e,r,["type"]);if(!n.success)throw new j.a(n.error);return(0,R.a)("ack",{id:(0,A.k)(t.value),to:(0,A.d)(e.value),class:"notification",type:(0,A.b)(n.value)})})(t);return(0,N.a)(r,e)}var q=e(376);function G(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"add");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,d.e)(e.value,"v_id");if(!i.success)return i;var a=(0,d.o)(d.e,e.value,"prev_v_id");if(!a.success)return a;var o=(0,d.o)(d.f,e.value,"reason",m.b);if(!o.success)return o;var u=l(r);if(!u.success)return u;var c=w(r),p=(0,d.n)(e.value,"participant",1,1024,b);return p.success?(0,v.c)(Object.assign({participant:n.value,addVId:i.value,addPrevVId:a.value,addReason:o.value},u.value,{shadowGroupNotificationIndicatorMixin:c.success?c.value:null,addParticipant:p.value})):p})(r);if(!t.success)throw new j.a((0,q.a)("AddNotification",{Request:t}));return{parsedRequest:t.value,makeAddNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}var O=e(9),x=e(3);function M(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"suspended");if(!e.success)return e;var n=l(r);return n.success,n})(r);if(!t.success)throw new j.a((0,q.a)("SuspendedNotification",{Request:t}));return{parsedRequest:t.value,makeSuspendedNotificationResponseAck:()=>{return t=r,g((0,R.a)("ack",null),t);var t}}}function P(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"unsuspended");if(!e.success)return e;var n=l(r);return n.success,n})(r);if(!t.success)throw new j.a((0,q.a)("UnsuspendedNotification",{Request:t}));return{parsedRequest:t.value,makeUnsuspendedNotificationResponseAck:()=>{return t=r,g((0,R.a)("ack",null),t);var t}}}var I=e(7);function J(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,k.a)(r);return e.success,e}function L(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"remove");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=l(r);if(!i.success)return i;var a=w(r),o=(function(r){var t=(function(r){var t=(0,d.a)(r,"remove");if(!t.success)return t;var e=(0,d.e)(r,"v_id");if(!e.success)return e;var n=(0,d.o)(d.e,r,"prev_v_id");if(!n.success)return n;var i=(0,d.o)(d.e,r,"subject");if(!i.success)return i;var a=(0,d.r)(d.e,r,"reason","default_sub_group_demote");if(!a.success)return a;var o=(0,d.n)(r,"participant",1,1024,J);return o.success?(0,v.c)({vId:e.value,prevVId:n.value,subject:i.value,reason:a.value,participant:o.value}):o})(r);if(t.success)return(0,v.c)({name:"RemoveNotificationMember",value:t.value});var e=(function(r){var t=(0,d.a)(r,"remove");if(!t.success)return t;var e=(0,d.k)(r,"participant");if(!e.success)return e;var n=(0,d.o)(d.e,r,"subject");if(!n.success)return n;var i=(0,k.a)(e.value);return i.success?(0,v.c)({subject:n.value,participantParticipantMixin:i.value}):i})(r);return e.success?(0,v.c)({name:"RemoveNotificationNonMember",value:e.value}):(0,d.j)(r,["Member","NonMember"],[t,e])})(e.value);return o.success?(0,v.c)(Object.assign({participant:n.value},i.value,{shadowGroupNotificationIndicatorMixin:a.success?a.value:null,v:o.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("RemoveNotification",{Request:t}));return{parsedRequest:t.value,makeRemoveNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}var D=e(534),T=e(521);function C(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(function(r){var t=(0,D.a)(r);if(t.success)return(0,v.c)({name:"ParticipantWithJidAndLid",value:t.value});var e=(0,T.a)(r);return e.success?(0,v.c)({name:"ParticipantWithJid",value:e.value}):(0,d.j)(r,["ParticipantWithJidAndLid","ParticipantWithJid"],[t,e])})(r);return e.success?(0,v.c)({s:e.value}):e}function S(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"promote");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,d.e)(e.value,"v_id");if(!i.success)return i;var a=(0,d.o)(d.e,e.value,"prev_v_id");if(!a.success)return a;var o=l(r);if(!o.success)return o;var u=w(r),c=(0,d.n)(e.value,"participant",1,19999,C);return c.success?(0,v.c)(Object.assign({participant:n.value,promoteVId:i.value,promotePrevVId:a.value},o.value,{shadowGroupNotificationIndicatorMixin:u.success?u.value:null,promoteParticipant:c.value})):c})(r);if(!t.success)throw new j.a((0,q.a)("PromoteNotification",{Request:t}));return{parsedRequest:t.value,makePromoteNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}var U=e(541);function V(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(function(r){var t=(0,U.a)(r);if(t.success)return(0,v.c)({name:"ParticipantWithJidLidAndDisplayName",value:t.value});var e=(0,T.a)(r);return e.success?(0,v.c)({name:"ParticipantWithJid",value:e.value}):(0,d.j)(r,["ParticipantWithJidLidAndDisplayName","ParticipantWithJid"],[t,e])})(r);return e.success?(0,v.c)({R:e.value}):e}function W(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"demote");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.e)(e.value,"v_id");if(!i.success)return i;var a=(0,d.o)(d.e,e.value,"prev_v_id");if(!a.success)return a;var o=l(r);if(!o.success)return o;var u=(0,d.n)(e.value,"participant",1,19999,V);return u.success?(0,v.c)(Object.assign({participant:n.value,demoteVId:i.value,demotePrevVId:a.value},o.value,{demoteParticipant:u.value})):u})(r);if(!t.success)throw new j.a((0,q.a)("DemoteNotification",{Request:t}));return{parsedRequest:t.value,makeDemoteNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}var E=e(567),$=e(568),B=e(578),F=e(586);function z(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,B.a)(r);if(!e.success)return e;var n=h(r);return(0,v.c)(Object.assign({},e.value,{participantNotAddressableMixin:n.success?n.value:null}))}function H(r){var t=(0,d.a)(r,"description");if(!t.success)return t;var e=(0,$.a)(r);return(0,v.c)({groupInfoDescriptionMixin:e.success?e.value:null})}function K(r){var t=(0,d.a)(r,"parent");if(!t.success)return t;var e=(function(r){var t=(0,d.a)(r,"parent");if(!t.success)return t;var e=(0,d.l)(d.e,r,"default_membership_approval_mode","request_required");return e.success?(0,v.c)({defaultMembershipApprovalMode:e.value}):e})(r);return(0,v.c)({parentGroupDefaultMembershipApprovalModeMixin:e.success?e.value:null})}function Q(r){var t=(0,d.a)(r,"ephemeral");if(!t.success)return t;var e=(0,d.c)(r,"expiration",0,2147483647);return e.success?(0,v.c)({expiration:e.value}):e}function X(r){var t=(0,d.a)(r,"growth_locked");if(!t.success)return t;var e=(0,d.l)(d.e,r,"type","invite");if(!e.success)return e;var n=(0,d.c)(r,"expiration",0,void 0);return n.success?(0,v.c)({type:e.value,expiration:n.value}):n}function Y(r){var t=(0,d.a)(r,"membership_approval_mode");if(!t.success)return t;var e=(0,F.a)(r);return(0,v.c)({membershipApprovalGroupJoinModeEnabledMixin:e.success?e.value:null})}function Z(r){var t=(0,d.a)(r,"linked_parent");if(!t.success)return t;var e=(0,s.a)(r,"jid");return e.success?(0,v.c)({jid:e.value}):e}function rr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"create");if(!e.success)return e;var n=(0,d.k)(e.value,"group");if(!n.success)return n;var i=(0,d.o)(s.c,r,"participant");if(!i.success)return i;var a=(0,d.r)(d.e,e.value,"type","new");if(!a.success)return a;var o=(0,d.o)(d.f,e.value,"reason",m.a);if(!o.success)return o;var u=(0,d.c)(n.value,"size",1,19999);if(!u.success)return u;var c=(function(r){var t=(0,d.a)(r,"group");if(!t.success)return t;var e=(0,d.q)(r,"description",H);if(!e.success)return e;var n=(0,d.p)(r,"locked");if(!n.success)return n;var i=(0,d.p)(r,"announcement");if(!i.success)return i;var a=(0,d.q)(r,"parent",K);if(!a.success)return a;var o=(0,d.p)(r,"no_frequently_forwarded");if(!o.success)return o;var u=(0,d.p)(r,"support");if(!u.success)return u;var c=(0,d.q)(r,"ephemeral",Q);if(!c.success)return c;var p=(0,d.p)(r,"suspended");if(!p.success)return p;var f=(0,d.q)(r,"growth_locked",X);if(!f.success)return f;var s=(0,d.p)(r,"default_sub_group");if(!s.success)return s;var l=(0,d.p)(r,"shadow");if(!l.success)return l;var m=(0,d.q)(r,"membership_approval_mode",Y);if(!m.success)return m;var k=(0,d.p)(r,"incognito");if(!k.success)return k;var h=(0,d.q)(r,"linked_parent",Z);if(!h.success)return h;var w=(0,E.a)(r);if(!w.success)return w;var b=(function(r){var t=(0,d.k)(r,"member_add_mode");if(!t.success)return t;var e=(function(r){var t=(function(r){var t=(0,d.a)(r,"member_add_mode");if(!t.success)return t;var e=(0,d.m)(d.h,r,"admin_add");return e.success?(0,v.c)({elementValue:e.value}):e})(r);if(t.success)return(0,v.c)({name:"AdminAddMode",value:t.value});var e=(function(r){var t=(0,d.a)(r,"member_add_mode");if(!t.success)return t;var e=(0,d.m)(d.h,r,"all_member_add");return e.success?(0,v.c)({elementValue:e.value}):e})(r);if(e.success)return(0,v.c)({name:"AllMembersAddMode",value:e.value});var n=(function(r){var t=(0,d.a)(r,"member_add_mode");if(!t.success)return t;var e=(0,d.h)(r);return e.success?(0,v.c)({elementValue:e.value}):e})(r);return n.success?(0,v.c)({name:"UnknownAddMode",value:n.value}):(0,d.j)(r,["AdminAddMode","AllMembersAddMode","UnknownAddMode"],[t,e,n])})(t.value);return e.success?(0,v.c)({N:e.value}):e})(r),_=(0,d.n)(r,"participant",0,19999,z);return _.success?(0,v.c)(Object.assign({},w.value,{groupMemberAddModeMixin:b.success?b.value:null,description:e.value,hasLocked:null!=n.value,hasAnnouncement:null!=i.value,parent:a.value,hasNoFrequentlyForwarded:null!=o.value,hasSupport:null!=u.value,ephemeral:c.value,hasSuspended:null!=p.value,growthLocked:f.value,hasDefaultSubGroup:null!=s.value,hasShadow:null!=l.value,membershipApprovalMode:m.value,hasIncognito:null!=k.value,linkedParent:h.value,participant:_.value})):_})(n.value);if(!c.success)return c;var p=(function(r){var t=(0,d.o)(s.a,r,"context_group_jid");return t.success?(0,v.c)({contextGroupJid:t.value}):t})(e.value);if(!p.success)return p;var f=(function(r){var t=(0,d.e)(r,"key");if(!t.success)return t;var e=(0,d.o)(d.f,r,"create_ctx",m.f);return e.success?(0,v.c)({key:t.value,createCtx:e.value}):e})(e.value),k=l(r);if(!k.success)return k;var h=w(r);return(0,v.c)(Object.assign({participant:i.value,createType:a.value,createReason:o.value,createGroupSize:u.value,createGroupGroupInfoMixin:c.value,createOptionalContextGroupMixin:p.value,createDedupAttrsMixin:f.success?f.value:null},k.value,{shadowGroupNotificationIndicatorMixin:h.success?h.value:null}))})(r);if(!t.success)throw new j.a((0,q.a)("JoinNotification",{Request:t}));return{parsedRequest:t.value,makeJoinNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}function tr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"modify");if(!e.success)return e;var n=(0,d.k)(e.value,"participant");if(!n.success)return n;var i=(0,s.c)(r,"participant");if(!i.success)return i;var a=(0,d.e)(e.value,"v_id");if(!a.success)return a;var o=(0,d.o)(d.e,e.value,"prev_v_id");if(!o.success)return o;var u=(0,k.a)(n.value);if(!u.success)return u;var c=l(r);return c.success?(0,v.c)(Object.assign({participant:i.value,modifyVId:a.value,modifyPrevVId:o.value,modifyParticipantParticipantMixin:u.value},c.value)):c})(r);if(!t.success)throw new j.a((0,q.a)("ModifyNotification",{Request:t}));return{parsedRequest:t.value,makeModifyNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function er(r){var t=(0,d.a)(r,"body");if(!t.success)return t;var e=(0,d.h)(r);return e.success?(0,v.c)({elementValue:e.value}):e}function nr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"description");if(!e.success)return e;var n=(0,d.q)(e.value,"body",er);if(!n.success)return n;var i=(0,s.c)(r,"participant");if(!i.success)return i;var a=(0,d.e)(e.value,"id");if(!a.success)return a;var o=l(r);return o.success?(0,v.c)(Object.assign({participant:i.value,descriptionId:a.value},o.value,{descriptionBody:n.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("DescriptionChangeNotification",{Request:t}));return{parsedRequest:t.value,makeDescriptionChangeNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function ir(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"description");if(!e.success)return e;var n=(0,d.p)(e.value,"delete");if(!n.success)return n;var i=(0,d.o)(s.c,r,"participant");if(!i.success)return i;var a=(0,d.e)(e.value,"id");if(!a.success)return a;var o=l(r);return o.success?(0,v.c)(Object.assign({participant:i.value,descriptionId:a.value},o.value,{hasDescriptionDelete:null!=n.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("DescriptionDeleteNotification",{Request:t}));return{parsedRequest:t.value,makeDescriptionDeleteNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}var ar=e(585);function or(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"subject");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.o)(s.c,e.value,"s_o");if(!i.success)return i;var a=(0,d.c)(e.value,"s_t",0,void 0);if(!a.success)return a;var o=l(r);if(!o.success)return o;var u=w(r),c=(0,ar.a)(e.value);return c.success?(0,v.c)(Object.assign({participant:n.value,subjectSO:i.value,subjectST:a.value},o.value,{shadowGroupNotificationIndicatorMixin:u.success?u.value:null,A:c.value})):c})(r);if(!t.success)throw new j.a((0,q.a)("SubjectChangeNotification",{Request:t}));return{parsedRequest:t.value,makeSubjectChangeNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function ur(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"locked");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=l(r);return i.success?(0,v.c)(Object.assign({participant:n.value},i.value)):i})(r);if(!t.success)throw new j.a((0,q.a)("LockedNotification",{Request:t}));return{parsedRequest:t.value,makeLockedNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function cr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"unlocked");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=l(r);return i.success?(0,v.c)(Object.assign({participant:n.value},i.value)):i})(r);if(!t.success)throw new j.a((0,q.a)("UnlockedNotification",{Request:t}));return{parsedRequest:t.value,makeUnlockedNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function pr(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,s.c)(r,"jid");if(!e.success)return e;var n=(0,d.o)(d.c,r,"expiration",0,void 0);return n.success?(0,v.c)({jid:e.value,expiration:n.value}):n}function fr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"revoke");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=l(r);if(!i.success)return i;var a=(0,d.n)(e.value,"participant",1,19999,pr);return a.success?(0,v.c)(Object.assign({participant:n.value},i.value,{revokeParticipant:a.value})):a})(r);if(!t.success)throw new j.a((0,q.a)("RevokeNotification",{Request:t}));return{parsedRequest:t.value,makeRevokeNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function vr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"ephemeral");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.c)(e.value,"expiration",0,2147483647);if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({participant:n.value,ephemeralExpiration:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("EphemeralNotification",{Request:t}));return{parsedRequest:t.value,makeEphemeralNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function dr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"invite");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.e)(e.value,"code");if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({participant:n.value,inviteCode:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("InviteNotification",{Request:t}));return{parsedRequest:t.value,makeInviteNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function sr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"growth_unlocked");if(!e.success)return e;var n=l(r);return n.success,n})(r);if(!t.success)throw new j.a((0,q.a)("GrowthUnlockedNotification",{Request:t}));return{parsedRequest:t.value,makeGrowthUnlockedNotificationResponseAck:()=>{return t=r,g((0,R.a)("ack",null),t);var t}}}function lr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"announcement");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.c)(e.value,"v_id",0,void 0);if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({participant:n.value,announcementVId:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("AnnouncementOnlyPropertySetNotification",{Request:t}));return{parsedRequest:t.value,makeAnnouncementOnlyPropertySetNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function mr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"not_announcement");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=(0,d.c)(e.value,"v_id",0,void 0);if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({participant:n.value,notAnnouncementVId:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("AnnouncementOnlyPropertyUnsetNotification",{Request:t}));return{parsedRequest:t.value,makeAnnouncementOnlyPropertyUnsetNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function kr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"not_ephemeral");if(!e.success)return e;var n=(0,s.c)(r,"participant");if(!n.success)return n;var i=l(r);return i.success?(0,v.c)(Object.assign({participant:n.value},i.value)):i})(r);if(!t.success)throw new j.a((0,q.a)("NotEphemeralNotification",{Request:t}));return{parsedRequest:t.value,makeNotEphemeralNotificationResponseAck:()=>(function(r){var t=(0,y.a)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,A.n)(t.value)}),r)})(r)}}function hr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"delete");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,d.o)(d.f,e.value,"reason",m.d);if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({participant:n.value,deleteReason:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("DeleteNotification",{Request:t}));return{parsedRequest:t.value,makeDeleteNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}function wr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"growth_locked");if(!e.success)return e;var n=(0,d.l)(d.e,e.value,"type","invite");if(!n.success)return n;var i=(0,d.c)(e.value,"expiration",0,void 0);if(!i.success)return i;var a=l(r);return a.success?(0,v.c)(Object.assign({growthLockedType:n.value,growthLockedExpiration:i.value},a.value)):a})(r);if(!t.success)throw new j.a((0,q.a)("GrowthLockedNotification",{Request:t}));return{parsedRequest:t.value,makeGrowthLockedNotificationResponseAck:()=>{return t=r,g((0,R.a)("ack",null),t);var t}}}function br(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,s.c)(r,"jid");return e.success?(0,v.c)({jid:e.value}):e}function _r(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"linked_group_promote");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,s.a)(e.value,"jid");if(!i.success)return i;var a=l(r);if(!a.success)return a;var o=(0,d.n)(e.value,"participant",1,19999,br);return o.success?(0,v.c)(Object.assign({participant:n.value,linkedGroupPromoteJid:i.value},a.value,{linkedGroupPromoteParticipant:o.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("PromoteParentGroupCAGNotification",{Request:t}));return{parsedRequest:t.value,makePromoteParentGroupCAGNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}function Rr(r){var t=(0,d.a)(r,"participant");if(!t.success)return t;var e=(0,s.c)(r,"jid");return e.success?(0,v.c)({jid:e.value}):e}function Nr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"linked_group_demote");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,s.a)(e.value,"jid");if(!i.success)return i;var a=l(r);if(!a.success)return a;var o=(0,d.n)(e.value,"participant",1,19999,Rr);return o.success?(0,v.c)(Object.assign({participant:n.value,linkedGroupDemoteJid:i.value},a.value,{linkedGroupDemoteParticipant:o.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("DemoteParentGroupCAGNotification",{Request:t}));return{parsedRequest:t.value,makeDemoteParentGroupCAGNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}var yr,jr,Ar=e(528);function gr(r){var t=(0,d.a)(r,"group");if(!t.success)return t;var e=(0,s.a)(r,"jid");if(!e.success)return e;var n=(0,d.c)(r,"s_t",0,void 0);if(!n.success)return n;var i=(0,Ar.a)(r);return i.success?(0,v.c)(Object.assign({jid:e.value,sT:n.value},i.value)):i}function qr(r){var t=(0,d.a)(r,"group");if(!t.success)return t;var e=gr(r);return e.success,e}function Gr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"link");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,d.f)(e.value,"link_type",m.g);if(!i.success)return i;var a=l(r);if(!a.success)return a;var o=(0,d.n)(e.value,"group",1,1e3,qr);return o.success?(0,v.c)(Object.assign({participant:n.value,linkLinkType:i.value},a.value,{linkGroup:o.value})):o})(r);if(!t.success)throw new j.a((0,q.a)("LinkNotification",{Request:t}));return{parsedRequest:t.value,makeLinkNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}function Or(r){var t=(0,d.a)(r,"group");if(!t.success)return t;var e=gr(r);return e.success,e}function xr(r){var t=(function(r){var t=(0,d.a)(r,"notification");if(!t.success)return t;var e=(0,d.k)(r,"unlink");if(!e.success)return e;var n=(0,d.o)(s.c,r,"participant");if(!n.success)return n;var i=(0,d.f)(e.value,"unlink_type",m.g);if(!i.success)return i;var a=(0,d.f)(e.value,"unlink_reason",m.e);if(!a.success)return a;var o=l(r);if(!o.success)return o;var u=(0,d.n)(e.value,"group",1,1e3,Or);return u.success?(0,v.c)(Object.assign({participant:n.value,unlinkUnlinkType:i.value,unlinkUnlinkReason:a.value},o.value,{unlinkGroup:u.value})):u})(r);if(!t.success)throw new j.a((0,q.a)("UnlinkNotification",{Request:t}));return{parsedRequest:t.value,makeUnlinkNotificationResponseAck:()=>(function(r){var t=(0,y.c)(s.c,r,["participant"]);if(!t.success)throw new j.a(t.error);return g((0,R.a)("ack",{participant:(0,_.a)(A.n,t.value)}),r)})(r)}}function Mr(r){return r.map(r=>{var t;return(t=r.i?r.i.value.jid:r.R?r.R.value.jid:r.s?r.s.value.jid:r.jid)?(0,O.E)(t):null}).filter(Boolean)}function Pr(r){var t=[];if("RemoveNotificationMember"===r.name)t=Mr(r.value.participant);else{r.name;var e=r.value.participantParticipantMixin.i.value.jid,n=(0,O.E)(e);if(!n)return Error("parseGroupNotification: expected RemoveNotificationNonMember to have participantJid"),null;t=[n]}return t}function Ir(r){var t=l(r);if(!t.success)return t;var e,n=t.value,i=n.from,o=n.notify,u=n.id,c=n.t,p=o,f=i,d=u,s=[],m=r.content,k=O.b;if(Array.isArray(m))for(var h=0;h<m.length;h++){var w=m[h].tag;switch(w){case"add":var b=G(r),_=b.parsedRequest,R=_.addReason,N=_.addParticipant,y=_.participant,j=b.makeAddNotificationResponseAck;k=(0,a.l)(y),e=j;var g=Mr(N);s.push({type:"add",reason:R,participants:g});break;case"suspended":e=M(r).makeSuspendedNotificationResponseAck,s.push({type:"suspended"});break;case"unsuspended":e=P(r).makeUnsuspendedNotificationResponseAck,s.push({type:"unsuspended"});break;case"remove":var q=L(r),J=q.parsedRequest,D=J.v,T=J.participant,C=q.makeRemoveNotificationResponseAck,U=Pr(D);if(null==U||0===U.length)return(0,v.b)("parseGroupNotification: No participants");e=C,k=(0,a.l)(T),s.push({type:"remove",participants:U});break;case"promote":var V=S(r),E=V.parsedRequest,$=E.promoteParticipant,B=E.participant;e=V.makePromoteNotificationResponseAck,k=(0,a.l)(B);var F=Mr($);s.push({type:"promote",participants:F});break;case"unlink":var z=xr(r),H=z.parsedRequest,K=H.unlinkUnlinkType,Q=H.unlinkGroup,X=H.from,Y=H.participant;e=z.makeUnlinkNotificationResponseAck,k=(0,a.l)(Y);var Z=Q.map(r=>({jid:r.jid,subject:r.subject}));s.push({type:"unlink",unlinkType:K,from:X,unlinkedGroups:Z});continue;case"link":var er=Gr(r),ar=er.parsedRequest,pr=ar.linkLinkType,br=ar.linkGroup,Rr=ar.from,yr=ar.participant;e=er.makeLinkNotificationResponseAck,k=(0,a.l)(yr);var jr=br.map(r=>({jid:r.jid,subject:r.subject}));s.push({type:"link",from:Rr,linkType:pr,linkedGroups:jr});break;case"linked_group_promote":var Ar=_r(r),gr=Ar.parsedRequest,qr=gr.linkedGroupPromoteParticipant,Or=gr.linkedGroupPromoteJid,Ir=gr.participant;e=Ar.makePromoteParentGroupCAGNotificationResponseAck,k=(0,a.l)(Ir),s.push({type:"linked_group_promote",participants:Mr(qr),parentGroupJid:Or});break;case"demote":var Lr=W(r),Dr=Lr.parsedRequest,Tr=Dr.demoteParticipant,Cr=Dr.participant;e=Lr.makeDemoteNotificationResponseAck,k=(0,a.l)(Cr);var Sr=Mr(Tr);s.push({type:"demote",participants:Sr});break;case"linked_group_demote":var Ur=Nr(r),Vr=Ur.parsedRequest,Wr=Vr.linkedGroupDemoteParticipant,Er=Vr.linkedGroupDemoteJid,$r=Vr.participant;e=Ur.makeDemoteParentGroupCAGNotificationResponseAck,k=(0,a.l)($r),s.push({type:"linked_group_demote",participants:Mr(Wr),parentGroupJid:Er});break;case"modify":var Br=tr(r),Fr=Br.parsedRequest,zr=Fr.participant,Hr=Fr.modifyParticipantParticipantMixin;e=Br.makeModifyNotificationResponseAck;var Kr=(0,I.b)(Hr.i.value.jid),Qr=(0,I.b)(zr);k=(0,a.l)(zr),s.push({type:"modify",changedTo:Kr,changedFrom:Qr});break;case"create":var Xr=rr(r),Yr=Xr.parsedRequest,Zr=Yr.createReason,rt=Yr.createGroupGroupInfoMixin,tt=rt.description,et=rt.u,nt=rt.sT,it=rt.creator,at=rt.creation,ot=rt.hasLocked,ut=rt.hasAnnouncement,ct=rt.hasSupport,pt=rt.ephemeral,ft=rt.growthLocked,vt=rt.participant,dt=rt.hasDefaultSubGroup,st=rt.linkedParent,lt=rt.parent,mt=Yr.participant,kt=Xr.makeJoinNotificationResponseAck,ht=et.value.subject;if(!ht)return(0,v.b)('parseGroupNotification: expected group to have a "subject" but got null');e=kt,k=(0,a.l)(mt);var wt=vt.map(r=>{var t=r.groupInfoParticipantMixins,e="GroupInfoParticipantNonAdmin"===t.name?(0,O.E)(t.value.i.value.jid):(0,O.E)(t.value.p.value.jid);return e?{jid:e,type:null!=t.value.type?t.value.type:"participant"}:null}).filter(Boolean),bt=null;(null==tt?void 0:tt.groupInfoDescriptionMixin)&&(bt={content:tt.groupInfoDescriptionMixin.bodyElementValue,id:tt.groupInfoDescriptionMixin.id});var _t=null;st?_t=Object.assign({groupType:void 0,linkedParent:st.jid},dt&&{isCAG:dt}):null!=lt&&(_t={groupType:"parent"}),s.push(Object.assign({type:"create",title:ht,titleTs:(0,x.i)(nt),description:bt,locked:ot,announcement:ut,support:ct,creatorJid:it?(0,O.E)(it):null,creationTs:(0,x.i)(at),participants:wt,expiration:pt?pt.expiration:null,growthLocked:ft?{expiration:(0,x.i)(ft.expiration),type:ft.type}:void 0,reason:Zr},_t&&{communityInfo:_t}));break;case"subject":var Rt=or(r),Nt=Rt.parsedRequest,yt=Nt.A.value.subject,jt=Nt.subjectST,At=Nt.participant;if(e=Rt.makeSubjectChangeNotificationResponseAck,k=(0,a.l)(At),null==yt)return(0,v.b)('parseGroupNotification: expected "subject" to have a value but got null');s.push({type:"subject",subject:yt,subjectTs:(0,x.i)(jt)});break;case"description":var gt=nr(r),qt=gt.parsedRequest,Gt=qt.descriptionBody,Ot=qt.descriptionId,xt=qt.participant;e=gt.makeDescriptionChangeNotificationResponseAck,k=(0,a.l)(xt);var Mt=ir(r).parsedRequest.hasDescriptionDelete;s.push({type:"description",deleted:Mt,description:Gt?Gt.elementValue:null,descriptionId:Ot});break;case"locked":var Pt=ur(r),It=Pt.parsedRequest.participant;e=Pt.makeLockedNotificationResponseAck,k=(0,a.l)(It),s.push({type:"locked",locked:!0});break;case"unlocked":var Jt=cr(r),Lt=Jt.parsedRequest.participant;e=Jt.makeUnlockedNotificationResponseAck,k=(0,a.l)(Lt),s.push({type:"locked",locked:!1});break;case"announcement":var Dt=lr(r),Tt=Dt.parsedRequest.participant;e=Dt.makeAnnouncementOnlyPropertySetNotificationResponseAck,k=(0,a.l)(Tt),s.push({type:"announcement",announcement:!0});break;case"not_announcement":var Ct=mr(r),St=Ct.parsedRequest.participant;e=Ct.makeAnnouncementOnlyPropertyUnsetNotificationResponseAck,k=(0,a.l)(St),s.push({type:"announcement",announcement:!1});break;case"revoke":var Ut=fr(r),Vt=Ut.parsedRequest,Wt=Vt.revokeParticipant,Et=Vt.participant;e=Ut.makeRevokeNotificationResponseAck,k=(0,a.l)(Et),s.push({type:"revoke",expirations:Wt.map(r=>{var t=r.jid,e=r.expiration,n=t?(0,O.E)(t):null;return n&&e?{jid:n,expiration:(0,x.i)(e)}:null}).filter(Boolean)});break;case"ephemeral":var $t=vr(r),Bt=$t.parsedRequest,Ft=Bt.ephemeralExpiration,zt=Bt.participant;e=$t.makeEphemeralNotificationResponseAck,k=(0,a.l)(zt),s.push({type:"ephemeral",expiration:Ft});break;case"not_ephemeral":var Ht=kr(r),Kt=Ht.parsedRequest.participant;e=Ht.makeNotEphemeralNotificationResponseAck,k=(0,a.l)(Kt),s.push({type:"ephemeral",expiration:null});break;case"invite":var Qt=dr(r),Xt=Qt.parsedRequest,Yt=Xt.inviteCode,Zt=Xt.participant;e=Qt.makeInviteNotificationResponseAck,k=(0,a.l)(Zt),s.push({type:"invite_code",inviteCode:Yt});break;case"delete":var re=hr(r),te=re.parsedRequest,ee=te.deleteReason,ne=te.participant;e=re.makeDeleteNotificationResponseAck,k=(0,a.l)(ne),s.push({type:"delete",reason:ee});break;case"growth_locked":var ie=wr(r),ae=ie.parsedRequest,oe=ae.growthLockedExpiration,ue=ae.growthLockedType;e=ie.makeGrowthLockedNotificationResponseAck;var ce={expiration:(0,x.i)(oe),type:ue};s.push({type:"growth_locked",state:ce});break;case"growth_unlocked":e=sr(r).makeGrowthUnlockedNotificationResponseAck,s.push({type:"growth_unlocked"});break;default:return(0,v.b)("Unrecognized group action "+w)}}return null==e&&(e=()=>(0,A.w)("ack",{to:(0,A.g)(f),id:(0,A.b)(d),class:"notification",participant:Jr(k)})),(0,v.c)({ack:e,info:{externalId:d,chat:f,participant:k,ts:(0,x.i)(c),pushname:p,actions:s}})}function Jr(r){if(r===O.b)return A.c;if(r===i.b)return(0,A.g)(o.t.get());var t=(0,a.i)(r);if(!t)throw new Error("Incorrect participant format");return(0,A.g)(t)}t.default=(yr=Ir,jr=r=>{var t=r.info,e=r.ack,f=(0,a.i)(t.participant);return f&&t.pushname&&u.Mc(f,t.pushname),(0,c.d)(t.chat,()=>Promise.all(t.actions.map(r=>(function(r,t){if(t)switch(t.type){case"add":return(0,p.o)("add",r.chat,{id:r.externalId,reason:t.reason,participants:t.participants,ts:r.ts,author:r.participant});case"promote":return(0,p.o)("promote",r.chat,{id:r.externalId,participants:t.participants,ts:r.ts,author:r.participant});case"linked_group_promote":return(0,p.n)(t.parentGroupJid,{id:r.externalId,promotedParticipants:t.participants,ts:r.ts,author:r.participant});case"demote":return(0,p.o)("demote",r.chat,{id:r.externalId,participants:t.participants,ts:r.ts,author:r.participant});case"linked_group_demote":return(0,p.a)(t.parentGroupJid,{id:r.externalId,demotedParticipants:t.participants,ts:r.ts,author:r.participant});case"link":return t.linkedGroups.map(e=>(0,p.c)(t.from,{id:r.externalId,ts:r.ts,linkType:t.linkType,from:t.from,group:e,author:r.participant}));case"unlink":return t.unlinkedGroups.map(e=>(0,p.d)(t.from,{id:r.externalId,ts:r.ts,unlinkType:t.unlinkType,group:e,author:r.participant}));case"remove":return(0,p.o)("remove",r.chat,{id:r.externalId,participants:t.participants,ts:r.ts,author:r.participant});case"modify":return(0,p.i)(r.chat,{jid:r.chat,id:r.externalId,changedTo:t.changedTo,ts:r.ts,changedFrom:t.changedFrom});case"create":var e,c={jid:r.chat,title:t.title,titleTs:t.titleTs,description:t.description?t.description.content:null,descriptionId:t.description?t.description.id:null,locked:t.locked,announcement:t.announcement,support:t.support,creatorJid:t.creatorJid,creationTs:t.creationTs,participants:t.participants,expiration:t.expiration,addInfo:{id:r.externalId,participants:t.participants.map(r=>r.jid),ts:r.ts,author:r.participant,reason:t.reason},growthLocked:t.growthLocked};if("parent"===(null==(e=t.communityInfo)?void 0:e.groupType))return u.nb(Object.assign({},c,{groupType:"parent"}));t.communityInfo;var f=null!=t.reason;return u.mb(Object.assign({},c,t.communityInfo,{groupType:void 0}),f);case"subject":return(0,p.j)(r.chat,{id:r.externalId,author:r.participant,ts:r.ts,subject:t.subject,subjectTs:t.subjectTs});case"description":return(0,p.e)(r.chat,{id:r.externalId,author:r.participant,ts:r.ts,description:t.description,descriptionId:t.descriptionId,deleted:t.deleted});case"locked":return(0,p.h)(r.chat,{id:r.externalId,author:r.participant,ts:r.ts,locked:t.locked});case"suspended":case"unsuspended":return(0,p.k)(r.chat,{id:r.externalId,author:r.participant,ts:r.ts,suspended:"suspended"===t.type});case"announcement":return(0,p.b)(r.chat,{id:r.externalId,author:r.participant,ts:r.ts,announcement:t.announcement});case"revoke":if(r.participant===i.b){var v=t.expirations;return u.Xb(r.chat,!0,v.map(r=>({user:r.jid,expiresBefore:r.expiration})))}var d=(0,a.i)(r.participant);if(null==d)return void __LOG__(3)`Received revoke without an admin jid ${r.participant}`;var s=t.expirations.find(r=>r.jid===o.t.get());return s?u.Xb(r.chat,!1,[{user:d,expiresBefore:s.expiration}]):(__LOG__(4)`Received group invite revokation from ${d}, but user not in participants list`,void SEND_LOGS("bad-revoke"));case"ephemeral":return(0,p.f)(r.chat,{id:r.externalId,ts:r.ts,expiration:t.expiration,author:r.participant});case"invite_code":return(0,n.c)("event","groupInviteCode",{groupJid:r.chat,code:t.inviteCode}),(0,p.g)(r.chat,{id:r.externalId,ts:r.ts,author:r.participant});case"delete":return(0,p.o)("delete",r.chat,{id:r.externalId,participants:[o.t.get()],ts:r.ts,author:r.participant,deleteReason:t.reason});case"growth_locked":return(0,n.c)("event","groupInviteCodeReset",{groupJid:r.chat}),(0,p.p)(r.chat,{id:r.externalId,ts:r.ts,growthLocked:t.state});case"growth_unlocked":return(0,n.c)("event","groupInviteCodeReset",{groupJid:r.chat}),(0,p.q)(r.chat,{id:r.externalId,ts:r.ts});default:t.type,__LOG__(3)`TODO: handle action ${t}`}})(t,r)))).then(e)},function(r,t){var e=`ServerToClientHandler.${f++} handleGroupNotification`,n=yr(r);if(n.success){var i=Promise.resolve().then(()=>jr(n.value)).then(r=>(__LOG__(2)`${e}: success`,"NO_ACK"===r?null:r));return i.catch(r=>{__LOG__(4)`${e}: error ${r}`}),i}return __LOG__(4)`${e}: ${n.error} parsing ${r}`,Promise.reject(n.error)})}}]);
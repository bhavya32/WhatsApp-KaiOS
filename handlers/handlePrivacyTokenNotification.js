"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[66],{633:function(t,n,e){e.r(n);var i=e(114),r=e(4),o=e(250),a=e(17),c={trusted_contact:e(2).g.TC_RECEIVED},s=new i.b("incomingPrivacyTokensParser",t=>{t.assertTag("notification");var n=t.attrString("id"),e=t.attrPhoneUserJid("from"),i=t.child("tokens"),r={};return i.forEachChildWithTag("token",t=>{var n=t.attrEnumOrNullIfUnknown("type",c);if(null!=n){var e=t.attrTime("t"),i=t.contentBytes();r[n]={value:i,ts:e}}else __LOG__(4)`incomingPrivacyTokensParser: unrecognized type ${t.attrString("type")}`}),{externalId:n,from:e,privacyTokens:r}});n.default=(0,i.c)("incomingPrivacyTokenNotification",s,t=>{var n=(0,r.w)("ack",{to:(0,r.g)(t.from),type:"privacy_token",id:(0,r.b)(t.externalId),class:"notification"});return(0,a.a)("trusted_contacts")?(0,o.g)(t.from,t.privacyTokens).then(()=>n):n})}}]);
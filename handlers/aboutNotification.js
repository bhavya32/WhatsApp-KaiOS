"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[53],{628:function(t,n,e){e.r(n);var a=e(114),o=e(4),i=e(22),c=e(232),s=e(523),r=new a.b("incomingAboutNotification",t=>{t.assertTag("notification");var n={stanzaId:t.attrString("id")},e=t.attrPhoneUserJid("from"),a=t.hasChild("set")&&t.child("set");return a&&!a.hasAttr("hash")?Object.assign({type:"change",from:e,pushname:t.attrString("notify"),content:a.contentString(),ts:t.attrTime("t")},n):a&&a.hasAttr("hash")?Object.assign({type:"changeForHash",hash:a.attrString("hash"),from:e},n):Object.assign({type:"unknown",from:e},n)});n.default=(0,a.c)("handleAboutNotification",r,(function(t){var n;switch(__LOG__(2)`handleAboutNotification: received`,t.type){case"change":n=Promise.all([(0,i.Mc)(t.from,t.pushname),(0,i.Ac)(t.from,{status:"loaded",content:t.content,ts:t.ts})]);break;case"changeForHash":n=(0,s.a)(t.hash).then(t=>(0,c.statusQuerySync)(t));break;default:__LOG__(3)`handleAboutNotification: unhandled notification of type ${t.type}`,n=Promise.resolve()}return n.then(()=>(function(t){return(0,o.w)("ack",{id:(0,o.b)(t.stanzaId),to:(0,o.g)(t.from),class:"notification",type:"status"})})(t))}))}}]);